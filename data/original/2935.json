{"url": "https://api.github.com/repos/datalad/datalad/issues/2935", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2935/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2935/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2935/events", "html_url": "https://github.com/datalad/datalad/issues/2935", "id": 372067432, "node_id": "MDU6SXNzdWUzNzIwNjc0MzI=", "number": 2935, "title": "a way to limit search output with a single (or specified # of) hit per dataset", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}, {"id": 736433505, "node_id": "MDU6TGFiZWw3MzY0MzM1MDU=", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-wishlist", "name": "severity-wishlist", "color": "ffeeee", "default": false, "description": "feature request, or bugs that are very difficult to fix due to design issues"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-19T18:27:53Z", "updated_at": "2021-02-23T23:10:17Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nQuite a few times I wanted to find datasets which satisfy my search query, and see what (file(s)) actually satisfied it.  E.g. now I wanted to see datasets which carry files with `_acq-ap` in their names (for suggesting an enhancement to BIDS) I have used\r\n```\r\ndatalad -f dataset -c datalad.search.index-egrep-documenttype=all search path:.*_acq-ap.*\r\n```\r\nwhich keeps dumping lots of hits per each dataset, wasting time and screen space.\r\nLimiting output to `-f '{parentds}'` and piping to `uniq` provides a list of datasets but wastes time and cannot be used with `{path}` to also see \"sample hit(s)\".\r\n\r\nI am not sure yet if there is any other similar usecase to have such a feature implemented at a \"base\" level (and either it would be easy to do so while interrupting underlying command generator before it exhausts itself), but definitely makes sense for the search command.\r\n\r\nWhat do you think?", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2935/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2935/timeline", "performed_via_github_app": null}