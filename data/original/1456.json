{"url": "https://api.github.com/repos/datalad/datalad/issues/1456", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1456/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1456/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1456/events", "html_url": "https://github.com/datalad/datalad/issues/1456", "id": 220057665, "node_id": "MDU6SXNzdWUyMjAwNTc2NjU=", "number": 1456, "title": "ssh interactions are broken with fresh annex 6.20170403+gitgdbe23d695-1~ndall+1", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132485920, "node_id": "MDU6TGFiZWwxMzI0ODU5MjA=", "url": "https://api.github.com/repos/datalad/datalad/labels/annex", "name": "annex", "color": "0052cc", "default": false, "description": "Git-annex related issue"}, {"id": 447185719, "node_id": "MDU6TGFiZWw0NDcxODU3MTk=", "url": "https://api.github.com/repos/datalad/datalad/labels/regression", "name": "regression", "color": "fc8387", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-04-06T22:56:46Z", "updated_at": "2017-04-12T02:58:04Z", "closed_at": "2017-04-12T02:58:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "which I have managed to upload although I thought I have tested it locally first\r\n\r\nI think (actually now certain since succeeds with `6.20170317+gitg8cd473c71-1~ndall+1` and fails with the `6.20170317+gitgfaecd73f3-1~ndall+1`) it is due to\r\n```\r\ncommit faecd73f327bee5067998dd6d398033fb09a26a6\r\nAuthor: Joey Hess <joeyh@joeyh.name>\r\nDate:   Fri Mar 17 16:02:47 2017 -0400\r\n\r\n    Support GIT_SSH and GIT_SSH_COMMAND\r\n    \r\n    They are handled close the same as they are by git. However, unlike git,\r\n    git-annex sometimes needs to pass the -n parameter when using these.\r\n    \r\n    So, this has the potential for breaking some setup, and perhaps there ought\r\n    to be a ANNEX_USE_GIT_SSH=1 needed to use these. But I'd rather avoid that\r\n    if possible, so let's see if anyone complains.\r\n    \r\n    Almost all places where \"ssh\" was run have been changed to support the env\r\n    vars. Anything still calling sshOptions does not support them. In\r\n    particular, rsync special remotes don't. Seems that annex-rsync-transport\r\n    already gives sufficient control there.\r\n    \r\n    (Fixed in passing: Remote.Helper.Ssh.toRepo used to extract\r\n    remoteAnnexSshOptions and pass them to sshOptions, which was redundant\r\n    since sshOptions also extracts those.)\r\n    \r\n    This commit was sponsored by Jeff Goeke-Smith on Patreon.\r\n```\r\n~and I guess we should just move from passing them via -c remote.*.annex-ssh-options~\r\n\r\nif that is so, following the commit msg -- @joeyh know that you did break someone's workflow and I am complaining!   The issue is that we can't just use env variables to point to the socket paths (e.g. during sync), since those would be different for different remotes and multiple remotes might be communicated in a single git annex call.\r\n@joeyh - please advise on how to proceed", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1456/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1456/timeline", "performed_via_github_app": null}