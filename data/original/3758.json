{"url": "https://api.github.com/repos/datalad/datalad/issues/3758", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3758/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3758/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3758/events", "html_url": "https://github.com/datalad/datalad/issues/3758", "id": 504198864, "node_id": "MDU6SXNzdWU1MDQxOTg4NjQ=", "number": 3758, "title": "FOI: notes on globus for possible future support via special remote", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-08T18:15:17Z", "updated_at": "2019-12-21T14:11:17Z", "closed_at": "2019-12-21T14:11:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "globus.org says \"Globus lets you share data on your storage systems with collaborators at other institutions. You specify what data. You specify which colleagues. Globus manages access simply and securely, so you can focus on your research.\"\r\n\r\nI have got initial good experience (after installing their globus-connect-personal, and establishing authentication via orchid, my id is 0000-0003-3456-2493@orcid.org) with a download of a 800GB dataset.\r\n\r\nPossible cons of globus:\r\n- it is not entirely \"not for profit\"  endeavor. From https://www.globus.org/subscriptions it seems that we could only get \"File transfer\" for free. Which should be sufficient to satisfy the \"consumer\" need in our use case\r\n- but many institutions seems to come onboard, so it might be that in some cases depositing to globus end points would also be feasible (even if not truly free of charge)\r\nThere was an interest to see such a remote from @gi114 in [the issue #3632](https://github.com/datalad/datalad/issues/3632#issuecomment-530899992) .\r\n\r\nSo here I have decided to collect some notes on what I find, since it seems the \"globus ecosystem\" is \"too rich\" to get an immediate idea on how to get it done.\r\n\r\nFor the basic data access it seems only 3 pieces should be needed:\r\n- access token (looks like a UUID) -- seems to be needed even for access to public data\r\n- endpoint UUID for the globus resource to download from (e.g. it is `558c54fe-cc41-11e8-8c6a-0a1d4c5c824a` for `NYU Langone Health DTN1 - Buzsakilab Public Datasets`; there is also some kind of a \"legacy name\" `nyulangonehealth#558c54fe-cc41-11e8-8c6a-0a1d4c5c824a`)\r\n- path within the resource\r\n\r\nIt might be that also receiving side should have its own endpoint UUID.\r\n\r\nSo I think it should be feasible to distill minimal \"client\" invocation to be able to download content from/via globus. Underneath I believe it is GridFTP which does actual transfer, but there is need for establishing additional \"layer\" to establish those GridFTP transfers.\r\n\r\nThere might be multiple clients out there.  I have not looked yet into official `globus` cmdline interface (not avail in Debian).  So was searching for other lean implementations\r\n\r\n# globus-url-copy\r\n\r\nAvailable from globus-gass-copy-progs package in Debian with minimal set of dependencies.\r\nFound via HOWTO on http://www.prace-ri.eu/data-transfer-with-gridftp/ . But it seems it requires explicit URLs, and doesn't operate at the basis of \"endpoint UUID\"\r\n\r\n# Globus Python SDK\r\n\r\nhttps://globus-sdk-python.readthedocs.io/en/latest/  \r\nSeems to have lean dependencies and should provide all needed API. We would need \r\n- authenticate and obtain a token -- not yet clear which way, but https://globus-sdk-python.readthedocs.io/en/latest/examples/authorization/# should have example\r\n- [create or update (if was created before for the repo?) local endpoint](https://globus-sdk-python.readthedocs.io/en/latest/clients/transfer/#globus_sdk.TransferClient.create_endpoint)\r\n- initiate/carry out transfer (waiting for it to finish) -- something along the lines here https://globus-sdk-python.readthedocs.io/en/latest/examples/advanced_transfer/?highlight=transfer\r\n\r\nok, hopefully I will find more time to dig more later on, unless someone beats me to it  before then ;)", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3758/timeline", "performed_via_github_app": null}