{"url": "https://api.github.com/repos/datalad/datalad/issues/2999", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2999/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2999/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2999/events", "html_url": "https://github.com/datalad/datalad/issues/2999", "id": 381954839, "node_id": "MDU6SXNzdWUzODE5NTQ4Mzk=", "number": 2999, "title": "XMP extractor does not see jabref bibliography metadata", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 700886055, "node_id": "MDU6TGFiZWw3MDA4ODYwNTU=", "url": "https://api.github.com/repos/datalad/datalad/labels/metadata", "name": "metadata", "color": "0052cc", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-18T12:18:02Z", "updated_at": "2019-04-13T13:15:33Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "JabRef can write bibtex metadata to a PDF using XMP: https://help.jabref.org/en/XMP\r\n\r\nBut libexempi (the tools that our metadata extractor uses) cannot always \"see\" it.\r\n\r\nNot yet sure what the trigger is. I created two PDF like that, one shows, one doesn't.\r\n\r\nHere is what jabref sees on import with both files:\r\n\r\n![screenshot_20181118_171724](https://user-images.githubusercontent.com/136479/48675155-d9957b80-eb55-11e8-9490-5c2ebb6a5936.png)\r\n\r\nExempi dumps:\r\n\r\n```\r\n% exempi -x demo.pdf | grep bibtex\r\n    xmlns:bibtex=\"http://jabref.sourceforge.net/bibteXMP/\">\r\n     <rdf:li>bibtex/volume/7</rdf:li>\r\n     <rdf:li>bibtex/number/142</rdf:li>\r\n     <rdf:li>bibtex/file/:demo.pdf:PDF</rdf:li>\r\n     <rdf:li>bibtex/journal/F1000Research</rdf:li>\r\n     <rdf:li>bibtex/bibtexkey/10.12688/f1000research.13689.2</rdf:li>\r\n   <bibtex:author>\r\n   </bibtex:author>\r\n   <bibtex:bibtexkey>10.12688/f1000research.13689.2</bibtex:bibtexkey>\r\n   <bibtex:doi>10.12688/f1000research.13689.2</bibtex:doi>\r\n   <bibtex:file>:demo.pdf:PDF</bibtex:file>\r\n   <bibtex:journal>F1000Research</bibtex:journal>\r\n   <bibtex:number>142</bibtex:number>\r\n   <bibtex:title>Spatial band-pass filtering aids decoding musical genres from auditory cortex 7T fMRI [version 2; referees: 2 approved]</bibtex:title>\r\n   <bibtex:volume>7</bibtex:volume>\r\n   <bibtex:year>2018</bibtex:year>\r\n   <bibtex:entrytype>article</bibtex:entrytype>\r\n\r\n% exempi -x orig.pdf | grep bibtex\r\n<nothing>\r\n```\r\nHere are the two files in question:\r\n- this one shows it in exempi: [demo.pdf](https://github.com/datalad/datalad/files/2592957/demo.pdf)\r\n- this one not [orig.pdf](https://github.com/datalad/datalad/files/2592958/orig.pdf)\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2999/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2999/timeline", "performed_via_github_app": null}