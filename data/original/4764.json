{"url": "https://api.github.com/repos/datalad/datalad/issues/4764", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4764/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4764/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4764/events", "html_url": "https://github.com/datalad/datalad/pull/4764", "id": 664732278, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU1OTI0NTAz", "number": 4764, "title": "ENH: provide INFO level logging for an action about to be reran", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1746781627, "node_id": "MDU6TGFiZWwxNzQ2NzgxNjI3", "url": "https://api.github.com/repos/datalad/datalad/labels/merge-if-ok", "name": "merge-if-ok", "color": "fbca04", "default": false, "description": "OP considers this work done, and requests review/merge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-23T20:03:40Z", "updated_at": "2020-10-07T15:39:56Z", "closed_at": "2020-09-04T21:05:35Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4764", "html_url": "https://github.com/datalad/datalad/pull/4764", "diff_url": "https://github.com/datalad/datalad/pull/4764.diff", "patch_url": "https://github.com/datalad/datalad/pull/4764.patch"}, "body": "I do not exactly like increasing verbosity here, but DEBUG level would\r\nbe not appropriate -- at that level we display already much more of details\r\neffectively forbidding tracking ongoing activities.\r\n\r\nHere is the result of rerunning on some ad-hoc repo (sorry - I have not\r\nscripted it, here is tarball: http://www.onerussian.com/tmp/test-rerun.tgz) which has a merge and some cherry picks\r\n\r\n\t$> datalad rerun --since=\r\n\t[INFO   ] run commit d4a55bb (md5)\r\n\t[INFO   ] Making sure inputs are available (this may take some time)\r\n\tunlock(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] == Command start (output follows) =====\r\n\t[INFO   ] == Command exit (modification check follows) =====\r\n\tadd(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] run commit 66a4fee (md5)\r\n\t[INFO   ] Making sure inputs are available (this may take some time)\r\n\tunlock(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] == Command start (output follows) =====\r\n\t[INFO   ] == Command exit (modification check follows) =====\r\n\tadd(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] skip-or-pick commit c2275fc c2275fc does not have a command; skipping or cherry picking\r\n\trun(ok): /home/yoh/proj/datalad/trash/test-rerun (dataset) [c2275fc does not have a command; skipping]\r\n\t[INFO   ] run commit c406290 (md5)\r\n\t[INFO   ] Making sure inputs are available (this may take some time)\r\n\tunlock(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] == Command start (output follows) =====\r\n\t[INFO   ] == Command exit (modification check follows) =====\r\n\tadd(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] run commit b3ac331 (touching file2)\r\n\tunlock(ok): /home/yoh/proj/datalad/trash/test-rerun/file2 (file)\r\n\t[INFO   ] == Command start (output follows) =====\r\n\t[INFO   ] == Command exit (modification check follows) =====\r\n\tadd(ok): /home/yoh/proj/datalad/trash/test-rerun/file2 (file)\r\n\t[INFO   ] skip-or-pick commit 5c0bad1 5c0bad1 does not have a command; skipping or cherry picking\r\n\trun(ok): /home/yoh/proj/datalad/trash/test-rerun (dataset) [5c0bad1 does not have a command; skipping]\r\n\t[INFO   ] merge commit ce53a0d\r\n\trun(ok): /home/yoh/proj/datalad/trash/test-rerun (dataset)\r\n\t[INFO   ] run commit d962936 (md5)\r\n\t[INFO   ] Making sure inputs are available (this may take some time)\r\n\tunlock(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\t[INFO   ] == Command start (output follows) =====\r\n\t[INFO   ] == Command exit (modification check follows) =====\r\n\tadd(ok): /home/yoh/proj/datalad/trash/test-rerun/MD5SUMS (file)\r\n\taction summary:\r\n\t  add (ok: 5)\r\n\t  get (notneeded: 20)\r\n\t  run (ok: 3)\r\n\t  save (notneeded: 5)\r\n\t  unlock (ok: 5)\r\n\r\nAlso note that we do already report \"run\" results records for \"strip-or-pick\"\r\nbut not for actual \"run\".  Even if we start reporting more of \"run\" records, I\r\nstill see value in reporting on \"what about to happen\" in the log.  Or may be\r\nwe somehow could provide \"progress indication\" across rerun steps?  after all\r\nit is jus a loop (over a generator though)\r\n\r\nCloses #3584\r\n\r\n", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4764/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4764/timeline", "performed_via_github_app": null}