{"url": "https://api.github.com/repos/datalad/datalad/issues/716", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/716/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/716/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/716/events", "html_url": "https://github.com/datalad/datalad/pull/716", "id": 171321303, "node_id": "MDExOlB1bGxSZXF1ZXN0ODE0MTIxMDY=", "number": 716, "title": "ENH: publish --since . By default publish only subdatasets what has changed", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-08-16T04:11:42Z", "updated_at": "2018-07-14T05:52:48Z", "closed_at": "2016-08-18T17:31:15Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/716", "html_url": "https://github.com/datalad/datalad/pull/716", "diff_url": "https://github.com/datalad/datalad/pull/716.diff", "patch_url": "https://github.com/datalad/datalad/pull/716.patch"}, "body": "For me it is needed from usability perspective. Publishing current crawled collection is already a matter of minutes even if only 1 sub-dataset has changed.  So I have decided to suggest this approach of publishing only what has changed since last time\n- [x]  test the logic(s) and various values for --since (could be improved with sub-subdatasets for testing propagation of setting)\n- [ ]  shouldn't try to push even the current dataset if nothing has changed (up for discussion?)\n- [x]  do figure out in the super-dataset previous 'since' for sub-dataset and provide it in. Otherwise I cannot \"redo\" e.g. \"publish --since=HEAD^\" with effect in sub-datasets as well\n\nNot sure yet on the interplay with all the additional logic there with publishing specific files/paths.  It might just work since those would be added explicitly for pushing while analyzing paths, so might just work  ;-)\n\ncons:\n- it checks only current branch so nohow checks for those refs which were possibly set in .git/config to be pushed.   But we can't check AFAIK anyways if e.g. tags are present on the remote, so explicit pushing (`--since=`) would be needed\n- relies on assumption that super-datasets got properly updated/committed if sub-datasets were modified\n\nCloses #704\n", "closed_by": {"login": "debanjum", "id": 6413477, "node_id": "MDQ6VXNlcjY0MTM0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6413477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/debanjum", "html_url": "https://github.com/debanjum", "followers_url": "https://api.github.com/users/debanjum/followers", "following_url": "https://api.github.com/users/debanjum/following{/other_user}", "gists_url": "https://api.github.com/users/debanjum/gists{/gist_id}", "starred_url": "https://api.github.com/users/debanjum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/debanjum/subscriptions", "organizations_url": "https://api.github.com/users/debanjum/orgs", "repos_url": "https://api.github.com/users/debanjum/repos", "events_url": "https://api.github.com/users/debanjum/events{/privacy}", "received_events_url": "https://api.github.com/users/debanjum/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/716/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/716/timeline", "performed_via_github_app": null}