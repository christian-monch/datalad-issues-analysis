{"url": "https://api.github.com/repos/datalad/datalad/issues/1450", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1450/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1450/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1450/events", "html_url": "https://github.com/datalad/datalad/pull/1450", "id": 219222656, "node_id": "MDExOlB1bGxSZXF1ZXN0MTE0MTI4MTQ0", "number": 1450, "title": "BF: direct mode/v6 status PR against return value revolution", "user": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-04-04T11:41:21Z", "updated_at": "2017-04-09T07:52:41Z", "closed_at": "2017-04-09T07:52:41Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/1450", "html_url": "https://github.com/datalad/datalad/pull/1450", "diff_url": "https://github.com/datalad/datalad/pull/1450.diff", "patch_url": "https://github.com/datalad/datalad/pull/1450.patch"}, "body": "This replaces PR #1277 .\r\n\r\nIntense testing/development for `AnnexRepo.status()` and `XXXRepo.dirty()`\r\nMaking sure this works in v5 direct mode, v5 indirect mode, v6, v6 adjusted branch.\r\nIn all cases includes submodules and even mixed hierarchies of plain git, and different annex type repos. The latter can only fully be achieved with a `status` method at the level of `Dataset`, which will also be a datalad command. Since the things already in here should be merged ASAP, this will be completed by a PR on top of this one. Therefore the following original tasks are to be completed in that next PR, too:\r\n- [ ] ~make submodule recursion despite of direct mode submodules also work when started at a plain git~\r\n- [ ] ~document everything~\r\n- [ ] ~provide proper documentation: what (compound) operations on annexes we can have reliable assumptions about (before state vs after state) and what are these assumptions.~\r\n\r\n- [x] Closes #781 \r\n- [x] Closes #1180 \r\n- [x] Closes #1133\r\n- [x] Closes #1291 \r\n- [x] Closes #1170\r\n- [x] Closes #1289 (depends on what else waits to be discovered herein)\r\n- [x] move calls to annex-adjust, annex-lock, annex-unlock to AnnexRepo\r\n\r\nNote:\r\nIn the former PR (#1277) there was an unfinished discussion on the question of whether to provide a `dirty` property and to rename the method to `is_dirty`. I wont do it herein. This becomes clearer with the full shaped `status` at `Dataset` level and a test helper `ok_status`, which I think should replace the enhanced usages of `ok_clean_git`.\r\n\r\nNote2:\r\nThis also merges master into rf-returnvalues!\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1450/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1450/timeline", "performed_via_github_app": null}