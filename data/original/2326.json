{"url": "https://api.github.com/repos/datalad/datalad/issues/2326", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2326/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2326/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2326/events", "html_url": "https://github.com/datalad/datalad/issues/2326", "id": 306741095, "node_id": "MDU6SXNzdWUzMDY3NDEwOTU=", "number": 2326, "title": "RF \"0.10\" metadata handling into a separately installable unit", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/48", "html_url": "https://github.com/datalad/datalad/milestone/48", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/48/labels", "id": 3040617, "node_id": "MDk6TWlsZXN0b25lMzA0MDYxNw==", "number": 48, "title": "Release 0.10.0", "description": "The release with new metadata aggregation/search support.\r\n\r\nShould include 0.9.2 fixes etc, i.e. have 0.9.x branch merged", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2018-01-16T22:43:30Z", "updated_at": "2018-06-13T16:50:07Z", "due_on": null, "closed_at": "2018-06-13T16:50:07Z"}, "comments": 2, "created_at": "2018-03-20T06:14:32Z", "updated_at": "2018-03-29T14:03:46Z", "closed_at": "2018-03-29T14:03:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This will implement an idea we had a while back (cannot find the issue ATM).\r\n\r\nAdvantages for the core tool: \r\n- shrink the code base by about 7k lines (that is more than 15% of the entire Python code base)\r\n- massive reduction in the dependencies (including a reduced focus on neuroimaging as a field of application)\r\n- faster testing\r\n\r\nAdvantages for the metadata functionality:\r\n- separate release cycle at a different pace\r\n- muuuch faster testing\r\n- compatibility with multiple versions of datalad\r\n\r\nThe metadata package will be a regular python package that declares an install-dependency on datalad (>=0.10), as it will need the newly added ability for dynamically loading full command implementations. This can then also serve a role model for other extensions (crawler is a candidate), tailored DICOM/BIDS support (bids2scidata) is another. Naturally such extensions can also depend on each other.\r\n\r\nInclusion into DataLad proper will work similar to \"plugins\". However, extensions can provide entire suits of commands, hence will be able to declare \"section names\" for proper listing in `datalad --help`. Extensions will be able to shadow commands provided by datalad core, to enable development of customized extensions that can later on easily move into datalad core without requiring API changes, and user-end modifications.\r\n\r\nGiven the 9 month development that make up the diff between 0.9 and 0.10 a selective rebase is probably not feasibly as means to get it out of the mainline.\r\n```\r\n% git log --oneline 0.9.3..master |wc -l\r\n821\r\n```\r\nHowever, it is quite easily possible to remove all the code at once (I test drove that in #2325), and replace the respective matching files with the code in 0.9.x. There will be some effort necessary to revert the (minimal) adjustments made to the crawler, but other than that it should be pretty much copy&paste, as there are no further contact point with the metadata handling code and the rest. The only thing we need to look out for is the LZMA support handling in json_py. While this could stay in, datalad core doesn't use it in any way and it should not be a dependency. The metadata tool will then have to use another helper in its own code base.\r\n\r\nIf you have a better idea on how to wrangle the Git history to get this out in a clean fashion, please chime in.\r\n\r\nI assigned this to the 0.10 release milestone, as we must sort this out prior release.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2326/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2326/timeline", "performed_via_github_app": null}