{"url": "https://api.github.com/repos/datalad/datalad/issues/1479", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1479/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1479/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1479/events", "html_url": "https://github.com/datalad/datalad/issues/1479", "id": 223989068, "node_id": "MDU6SXNzdWUyMjM5ODkwNjg=", "number": 1479, "title": "order of publish seems to be 'random'", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-04-25T00:45:39Z", "updated_at": "2017-05-03T12:52:31Z", "closed_at": "2017-05-03T12:52:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "e.g.\r\n```shell\r\n(git)smaug:/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms[master]git\r\n$> datalad publish -r --missing=inherit --to=datalad-public\r\n[INFO   ] Publishing data of dataset <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/PHANTOM1_3> ... \r\n[INFO   ] Publishing data of dataset <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/PHANTOM-20160909> ... \r\n[INFO   ] Publishing <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms> to datalad-public \r\n[INFO   ] Publishing data of dataset <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test3> ... \r\n...\r\n```\r\nwhere I expected pretty much path based sorting having top-level one published last... the same happens if I publish from the top super-dataset just then hopping among all sub-datasets.  So some sorting should be done.  Now, since super-dataset might be published before all kids are published, super-dataset might become not installable until full publish gets complete\r\n\r\nedit1: probably shouldn't be touched until #1468 and #1409 get finalized/merged\r\n\r\nissue is somewhat obvious -- `get_paths_by_dataset` used by `_prep` cares not about the order, but may be it it even shouldn't and sorting should be done outside since some times you would need them sorted going from top to the bottom (e.g. install) and here the other way (from bottom to up)... may be that is already somehow done in #1468 et al", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1479/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1479/timeline", "performed_via_github_app": null}