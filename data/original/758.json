{"url": "https://api.github.com/repos/datalad/datalad/issues/758", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/758/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/758/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/758/events", "html_url": "https://github.com/datalad/datalad/issues/758", "id": 175294263, "node_id": "MDU6SXNzdWUxNzUyOTQyNjM=", "number": 758, "title": "Publish fails on subdataset with detached HEAD. Should it ?", "user": {"login": "debanjum", "id": 6413477, "node_id": "MDQ6VXNlcjY0MTM0Nzc=", "avatar_url": "https://avatars.githubusercontent.com/u/6413477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/debanjum", "html_url": "https://github.com/debanjum", "followers_url": "https://api.github.com/users/debanjum/followers", "following_url": "https://api.github.com/users/debanjum/following{/other_user}", "gists_url": "https://api.github.com/users/debanjum/gists{/gist_id}", "starred_url": "https://api.github.com/users/debanjum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/debanjum/subscriptions", "organizations_url": "https://api.github.com/users/debanjum/orgs", "repos_url": "https://api.github.com/users/debanjum/repos", "events_url": "https://api.github.com/users/debanjum/events{/privacy}", "received_events_url": "https://api.github.com/users/debanjum/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}, {"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/22", "html_url": "https://github.com/datalad/datalad/milestone/22", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/22/labels", "id": 1482873, "node_id": "MDk6TWlsZXN0b25lMTQ4Mjg3Mw==", "number": 22, "title": "Publication (tracking)", "description": "This milestone is being abused by Michael for his education. It collects issues regarding the publication of collections and handles.", "creator": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2016-01-04T17:02:49Z", "updated_at": "2017-02-10T13:06:38Z", "due_on": null, "closed_at": "2017-02-10T13:06:38Z"}, "comments": 2, "created_at": "2016-09-06T16:38:55Z", "updated_at": "2016-11-25T19:56:47Z", "closed_at": "2016-11-25T19:56:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Me and Yarik think it should probably give an error message or something instead of crashing like it currently did. Checking out master fixed it for now\n\n``` sh\n         2016-09-02 18:37:01,510 [INFO   ] Publishing dataset <Dataset path=/home/debanjum/datasets.datalad.org/openfmri/ds000200> to sibling public-server ... (publish.py:270)\n         2016-09-02 18:37:02,546 [WARNING] Nothing was pushed. (publish.py:48)\n         2016-09-02 18:37:03,674 [WARNING] Nothing was pushed. (publish.py:48)\n         Traceback (most recent call last):\n           File \"/home/debanjum/datalad/venv-tests/bin/datalad\", line 9, in <module>\n             load_entry_point('datalad==0.2.3', 'console_scripts', 'datalad')()\n           File \"/home/debanjum/datalad/datalad/cmdline/main.py\", line 245, in main\n             ret = cmdlineargs.func(cmdlineargs)\n           File \"/home/debanjum/datalad/datalad/interface/base.py\", line 285, in call_from_parser\n             return cls.__call__(**kwargs)\n           File \"/home/debanjum/datalad/datalad/distribution/publish.py\", line 235, in __call__\n             published_, skipped_ = ds_.publish(to=to, recursive=recursive, **pkw)\n           File \"/home/debanjum/datalad/datalad/distribution/dataset.py\", line 510, in apply_func\n             return f(**kwargs)\n           File \"/home/debanjum/datalad/datalad/distribution/publish.py\", line 235, in __call__\n             published_, skipped_ = ds_.publish(to=to, recursive=recursive, **pkw)\n           File \"/home/debanjum/datalad/datalad/distribution/dataset.py\", line 510, in apply_func\n             return f(**kwargs)\n           File \"/home/debanjum/datalad/datalad/distribution/publish.py\", line 176, in __call__\n             track_remote, track_branch = ds.repo.get_tracking_branch()\n           File \"/home/debanjum/datalad/datalad/support/gitrepo.py\", line 1432, in get_tracking_branch\n             branch = self.get_active_branch()\n           File \"/home/debanjum/datalad/datalad/support/gitrepo.py\", line 758, in get_active_branch\n             return self.repo.active_branch.name\n           File \"/home/debanjum/datalad/venv-tests/local/lib/python2.7/site-packages/git/repo/base.py\", line 670, in active_branch\n             return self.head.reference\n           File \"/home/debanjum/datalad/venv-tests/local/lib/python2.7/site-packages/git/refs/symbolic.py\", line 258, in _get_reference\n             raise TypeError(\"%s is a detached symbolic reference as it points to %r\" % (self, sha))\n         TypeError: HEAD is a detached symbolic reference as it points to 'd364a1aa832f808a64e387f3c26b4b13afba0ae4'\n         ()\n         > /home/debanjum/datalad/venv-tests/local/lib/python2.7/site-packages/git/refs/symbolic.py(258)_get_reference()\n         -> raise TypeError(\"%s is a detached symbolic reference as it points to %r\" % (self, sha))\n\n```\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/758/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/758/timeline", "performed_via_github_app": null}