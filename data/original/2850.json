{"url": "https://api.github.com/repos/datalad/datalad/issues/2850", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2850/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2850/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2850/events", "html_url": "https://github.com/datalad/datalad/issues/2850", "id": 361980995, "node_id": "MDU6SXNzdWUzNjE5ODA5OTU=", "number": 2850, "title": "datalad-run external special remote", "user": {"login": "notestaff", "id": 1517155, "node_id": "MDQ6VXNlcjE1MTcxNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1517155?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notestaff", "html_url": "https://github.com/notestaff", "followers_url": "https://api.github.com/users/notestaff/followers", "following_url": "https://api.github.com/users/notestaff/following{/other_user}", "gists_url": "https://api.github.com/users/notestaff/gists{/gist_id}", "starred_url": "https://api.github.com/users/notestaff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notestaff/subscriptions", "organizations_url": "https://api.github.com/users/notestaff/orgs", "repos_url": "https://api.github.com/users/notestaff/repos", "events_url": "https://api.github.com/users/notestaff/events{/privacy}", "received_events_url": "https://api.github.com/users/notestaff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2767259861, "node_id": "MDU6TGFiZWwyNzY3MjU5ODYx", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-run/rerun", "name": "cmd-run/rerun", "color": "FEF2C0", "default": false, "description": "Issues about the favorite command of ReproPeople"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2018-09-20T01:08:53Z", "updated_at": "2021-07-28T20:24:38Z", "closed_at": null, "author_association": "NONE", "active_lock_reason": null, "body": "It'd be useful if, when datalad run adds a computed output to git-annex, it also did git annex addurl for that output, where the URL would tell a new external special remote (say, datalad-run) how to recompute that output.  The URL could be e.g. datalad-run:git-hash-of-the-commit-recorded-by-run, or datalad-run:git-annex-hash-of-a-recipe-file-sufficient-to-rerun-the-computation.  Then one could use standard 'git annex get' to reconstruct the file, if all its copies have been dropped.  This would work best if the inputs to the run could be explicitly specified, or maybe inferred from the atimes of files that are later than the run start, or even from running under strace.   Then the datalad-run remote could git-annex-get just the needed inputs before a re-run, and check their availability with git-annex-checkpresentkey when answering a CHECKURL request.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2850/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2850/timeline", "performed_via_github_app": null}