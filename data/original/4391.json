{"url": "https://api.github.com/repos/datalad/datalad/issues/4391", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4391/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4391/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4391/events", "html_url": "https://github.com/datalad/datalad/issues/4391", "id": 597756272, "node_id": "MDU6SXNzdWU1OTc3NTYyNzI=", "number": 4391, "title": "`status/diff()` speed-up advice", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778594, "node_id": "MDU6TGFiZWw2Mzc3ODU5NA==", "url": "https://api.github.com/repos/datalad/datalad/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Issue asks a question rather than reporting a problem"}, {"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}, {"id": 2803341545, "node_id": "MDU6TGFiZWwyODAzMzQxNTQ1", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-diff", "name": "cmd-diff", "color": "FEF2C0", "default": false, "description": ""}, {"id": 2803378249, "node_id": "MDU6TGFiZWwyODAzMzc4MjQ5", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-status", "name": "cmd-status", "color": "FEF2C0", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-10T08:02:06Z", "updated_at": "2021-09-13T09:06:05Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "The defaults of both commands (`status` in particular) lead to maximally correct output, but also maximally slow performance. Sometimes that is good, sometimes unnecessary.\r\n\r\nWe could improve the UX by adding a few lines with timing checks in the outer loops that yield the results. If we see \"a lot\" of dataset results to be yielded, we can recommend turning these checks off. If we count a lot of files, we can suggest to turn off file type checking. And do all that, say, once 30s of runtime have passed (and only a single time). That would give minimal runtime impact.\r\n\r\nThis is useful, because a non-recursive `status` can have a huge runtime in the presence of many subdatasets, and an `-e commit` can make the difference between 20s and 2h of runtime.\r\n\r\nAll that is easy to do, but ATM I do not have a good idea how we can turn this off conveniently whenever these commands are used as utilities inside other commands. I think it is best to assume the developers of those know exactly how they need to make the cheapest possible call, and do not like to be annoyed by (internal) INFO messages.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4391/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4391/timeline", "performed_via_github_app": null}