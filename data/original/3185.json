{"url": "https://api.github.com/repos/datalad/datalad/issues/3185", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3185/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3185/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3185/events", "html_url": "https://github.com/datalad/datalad/issues/3185", "id": 415942088, "node_id": "MDU6SXNzdWU0MTU5NDIwODg=", "number": 3185, "title": "duplicate warnings while aggregate-metadata on a dataset without any", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-01T04:57:14Z", "updated_at": "2019-03-02T22:56:33Z", "closed_at": "2019-03-02T22:56:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "based on snippet I was checking out in https://github.com/datalad/datalad/pull/1995#issuecomment-346950824:\r\n\r\n```shell\r\n$> bash .git/trash/gh-1995      \r\nremove(ok): /tmp/test-1995 (dataset)\r\n[INFO   ] Creating a new annex repo at /tmp/test-1995 \r\ncreate(ok): /tmp/test-1995 (dataset)\r\nadd(ok): /tmp/test-1995/avatar.png (file)\r\nsave(ok): /tmp/test-1995 (dataset)\r\naction summary:\r\n  add (ok: 1)\r\n  save (ok: 1)\r\n[WARNING] Found no aggregated metadata info file /tmp/test-1995/.datalad/metadata/aggregate_v1.json. You will likely need to either update the dataset from its original location or reaggregate metadata locally. \r\n[WARNING] Found no aggregated metadata info file /tmp/test-1995/.datalad/metadata/aggregate_v1.json. You will likely need to either update the dataset from its original location or reaggregate metadata locally. \r\n[INFO   ] Aggregate metadata for dataset /tmp/test-1995 \r\n                                                                                                     [INFO   ] Update aggregate metadata in dataset at: /tmp/test-1995                                    \r\n[WARNING] Found no aggregated metadata info file /tmp/test-1995/.datalad/metadata/aggregate_v1.json. You will likely need to either update the dataset from its original location or reaggregate metadata locally. \r\n[WARNING] Found no aggregated metadata info file /tmp/test-1995/.datalad/metadata/aggregate_v1.json. You will likely need to either update the dataset from its original location or reaggregate metadata locally. \r\n[WARNING] Found no aggregated metadata info file /tmp/test-1995/.datalad/metadata/aggregate_v1.json. You will likely need to either update the dataset from its original location or reaggregate metadata locally. \r\naggregate_metadata(ok): /tmp/test-1995 (dataset)\r\n[INFO   ] Attempting to save 6 files/datasets \r\nsave(ok): /tmp/test-1995 (dataset)\r\naction summary:\r\n  aggregate_metadata (ok: 1)\r\n  save (ok: 1)\r\nbash .git/trash/gh-1995  4.06s user 1.35s system 96% cpu 5.612 total\r\n```\r\nthe snippet:\r\n```shell\r\n$> cat .git/trash/gh-1995\r\n#!/bin/bash\r\n\r\nds=/tmp/test-1995\r\n[ -e \"$ds\" ] && datalad remove --nocheck $ds\r\ndatalad create $ds\r\ncd $ds\r\nwget -q -O avatar.png 'https://avatars0.githubusercontent.com/u/4163878?s=88&v=4' .\r\n\r\ngit config --file .datalad/config --add datalad.metadata.nativetype image\r\ndatalad add avatar.png\r\ndatalad aggregate-metadata\r\n```\r\n\r\nideally one warning should be enough", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3185/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3185/timeline", "performed_via_github_app": null}