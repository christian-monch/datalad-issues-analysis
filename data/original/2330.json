{"url": "https://api.github.com/repos/datalad/datalad/issues/2330", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2330/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2330/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2330/events", "html_url": "https://github.com/datalad/datalad/issues/2330", "id": 307704519, "node_id": "MDU6SXNzdWUzMDc3MDQ1MTk=", "number": 2330, "title": "test_is_available fails sometimes in the heavy debug output matrix", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}], "state": "closed", "locked": false, "assignee": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-03-22T15:53:44Z", "updated_at": "2018-04-04T01:29:17Z", "closed_at": "2018-04-04T01:29:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n```\r\nERROR: datalad.support.tests.test_annexrepo.test_is_available(True, False)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/home/travis/virtualenv/python3.5.5/lib/python3.5/site-packages/nose/case.py\", line 198, in runTest\r\n    self.test(*self.arg)\r\n  File \"/home/travis/build/datalad/datalad/datalad/tests/utils.py\", line 836, in newfunc\r\n    t(*(arg + (uri,)), **kw)\r\n  File \"/home/travis/build/datalad/datalad/datalad/support/tests/test_annexrepo.py\", line 1354, in test_is_available\r\n    assert_false(is_available(\"boguskey\", key=True))\r\n  File \"/home/travis/build/datalad/datalad/datalad/support/gitrepo.py\", line 297, in newfunc\r\n    for f in files_new\r\n  File \"/home/travis/build/datalad/datalad/datalad/support/gitrepo.py\", line 297, in <listcomp>\r\n    for f in files_new\r\n  File \"/home/travis/build/datalad/datalad/datalad/support/annexrepo.py\", line 2853, in is_available\r\n    \"Received output %r from annex, whenever expect 0 or 1\" % out\r\nValueError: Received output None from annex, whenever expect 0 or 1\r\n```\r\nfrom https://travis-ci.org/datalad/datalad/jobs/356874244 \r\n\r\nIt kept coming I believe so we should track it down what is going available?\r\n\r\nmore info about env:\r\n```\r\n$ export BOTO_CONFIG=/tmp/nowhere\r\n$ export DATALAD_TESTS_SSH=1\r\n$ export DATALAD_LOG_CMD_ENV=GIT_SSH_COMMAND\r\n$ export TESTS_TO_PERFORM=\r\n$ export NOSE_OPTS=-s\r\n$ export NOSE_SELECTION_OP=\"not \"\r\n$ export COVERAGE=coverage\r\n$ export DATALAD_DATASETS_TOPURL=http://datasets-tests.datalad.org\r\n$ export DATALAD_LOG_LEVEL=2\r\n$ export DATALAD_LOG_TARGET=/dev/null\r\n$ export DATALAD_LOG_TRACEBACK=collide\r\n$ export DATALAD_TESTS_PROTOCOLREMOTE=1\r\n$ export DATALAD_TESTS_DATALADREMOTE=1\r\n$ export DATALAD_LOG_CMD_CWD=1\r\n$ export DATALAD_LOG_CMD_OUTPUTS=1\r\n$ export DATALAD_LOG_CMD_ENV=1\r\n$ export DATALAD_LOG_CMD_STDIN=1\r\n$ export DATALAD_TESTS_UI_BACKEND=console\r\n$ export DATALAD_TESTS_OBSCURE_PREFIX=-\r\n$ export DATALAD_SEED=1\r\n$ export GIT_AUTHOR_DATE=\"Thu, 07 Apr 2005 22:13:13 +0200\"\r\n$ export GIT_AUTHOR_NAME=blah\r\n$ export GIT_AUTHOR_EMAIL=committer@example.com\r\n$ export GIT_COMMITTER_DATE=\"Thu, 07 Apr 2005 22:13:13 +0200\"\r\n$ export GIT_COMMITTER_NAME=blah\r\n$ export GIT_COMMITTER_EMAIL=committer@example.com\r\n$ source ~/virtualenv/python3.5/bin/activate\r\n```", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2330/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2330/timeline", "performed_via_github_app": null}