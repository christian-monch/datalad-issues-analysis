{"url": "https://api.github.com/repos/datalad/datalad/issues/1673", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1673/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1673/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1673/events", "html_url": "https://github.com/datalad/datalad/issues/1673", "id": 246559143, "node_id": "MDU6SXNzdWUyNDY1NTkxNDM=", "number": 1673, "title": "`--missing=inherit` does not work for subdatasets with their supers not yet having that remote", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-07-30T03:07:35Z", "updated_at": "2019-05-16T16:51:23Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "I think we had that issue filed, but ... not sure which one ;)\r\n```shell\r\n$> datalad publish --to=datalad-public --missing=inherit --since=57589e03bb23c4f667161eaf29e2ab4b9aee96c0 -r\r\n[INFO   ] Will try to create a sibling inheriting settings from <Dataset path=/mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017/ds000114> \r\n[ERROR  ] <Dataset path=/mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017/ds000114> had neither pushurl or url defined for datalad-public [create_sibling.py:_get_remote_url:684] (ValueError) \r\ndatalad publish --to=datalad-public --missing=inherit  -r  6.30s user 5.66s system 52% cpu 22.972 total\r\n```\r\nthat ds000114 was a dataset install from openfmri but extended with subdatasets (see #1672 ). no url were defined since it had no remote with that name. But because we first publish deeper subdatsets, they could not consult their direct parents since those didn't have that remote set up yet either.\r\n\r\nSo I guess in such mode of `--missing=inherit` we would need first to do the pass from top to the deeper subdatasets to assure that all have the remote set, and then `publish` from deeper to the top ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1673/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1673/timeline", "performed_via_github_app": null}