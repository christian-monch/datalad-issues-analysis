{"url": "https://api.github.com/repos/datalad/datalad/issues/4560", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4560/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4560/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4560/events", "html_url": "https://github.com/datalad/datalad/pull/4560", "id": 622102991, "node_id": "MDExOlB1bGxSZXF1ZXN0NDIxMDM1MTU0", "number": 4560, "title": "BF: publish: Tell git-fetch to not recurse into submodules", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-20T21:43:29Z", "updated_at": "2020-05-21T13:30:58Z", "closed_at": "2020-05-20T23:13:12Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4560", "html_url": "https://github.com/datalad/datalad/pull/4560", "diff_url": "https://github.com/datalad/datalad/pull/4560.diff", "patch_url": "https://github.com/datalad/datalad/pull/4560.patch"}, "body": "publish() fetches the sibling before pushing, and has done so for a\r\nlong time (f07fc5194, 2017-08-26).  If the fetch brings down a\r\nrecorded submodule commit that is not yet present locally, by default\r\ngit also fetch in the submodule with the missing commit.\r\n\r\nThis is problematic because, as explained in dbd84e5662 (ENH: update:\r\nTry to fetch submodule commit explicitly if needed, 2020-02-07),\r\nsubmodule.c hard codes 'origin' as a fallback to fetch from, so the\r\nfetch will fail unless there's a remote named 'origin'.  Also,\r\nconceptually, the goal of this fetch seems to be to obtain up-to-date\r\ninformation on the current repository, not its submodules, which\r\npublish() will handle itself if called with --recursive.\r\n\r\nFetch with --recurse-submodules=no.", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4560/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4560/timeline", "performed_via_github_app": null}