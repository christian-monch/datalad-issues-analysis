{"url": "https://api.github.com/repos/datalad/datalad/issues/3173", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3173/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3173/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3173/events", "html_url": "https://github.com/datalad/datalad/pull/3173", "id": 412510702, "node_id": "MDExOlB1bGxSZXF1ZXN0MjU0NzAyMjMx", "number": 3173, "title": "RF: Remove direct mode support", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/56", "html_url": "https://github.com/datalad/datalad/milestone/56", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/56/labels", "id": 3796173, "node_id": "MDk6TWlsZXN0b25lMzc5NjE3Mw==", "number": 56, "title": "Release 0.12.0", "description": "- drop support of direct mode\r\n- potentially bring revolution home fully or in parts", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 61, "state": "closed", "created_at": "2018-11-05T14:12:45Z", "updated_at": "2020-03-12T15:47:48Z", "due_on": "2020-01-11T08:00:00Z", "closed_at": "2020-01-11T16:10:25Z"}, "comments": 3, "created_at": "2019-02-20T16:19:24Z", "updated_at": "2019-02-26T01:37:31Z", "closed_at": "2019-02-21T02:37:58Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3173", "html_url": "https://github.com/datalad/datalad/pull/3173", "diff_url": "https://github.com/datalad/datalad/pull/3173.diff", "patch_url": "https://github.com/datalad/datalad/pull/3173.patch"}, "body": "These commits are the \"remove direct mode\" commits from #3076 (all of them @yarikoptic's hard work, not mine).\r\n\r\nI'm pushing them here so that we have the option of removing direct mode in master without merging in the \"include revolution\" commits of #3076.\r\n\r\n<details>\r\n<summary>Diff with rf-revolution1</summary>\r\n\r\n```\r\n% git rev-parse origin/rf-revolution1\r\n720c9c987edcf0a07620f8e9b2535b5df46dec14\r\n% git rev-parse rf-remove-direct\r\n056c3336fbb4c9e5c3983f9bf1b6744e74946b1b\r\n```\r\n\r\n`git diff origin/rf-revolution1 rf-remove-direct -- ':(exclude)datalad/revolution' ':(exclude)3rd/'`\r\n\r\n```diff\r\ndiff --git a/appveyor.yml b/appveyor.yml\r\nindex f3780bd11..1337d91f3 100644\r\n--- a/appveyor.yml\r\n+++ b/appveyor.yml\r\n@@ -81,8 +81,6 @@ test_script:\r\n   - git annex version\r\n   # first sign of life\r\n   - datalad wtf\r\n-  # revolution -- all must pass\r\n-  - python -m nose -s -v --with-cov --cover-package datalad --cover-xml --cover-xml-file=coverage.xml datalad.revolution\r\n   # and now this... [keep appending tests that should work!!]\r\n   # one call per datalad component for now -- to better see what is being tested\r\n   - \"python -m nose -s -v --with-cov --cover-package datalad --cover-xml --cover-xml-file=coverage.xml datalad.cmdline\"\r\ndiff --git a/datalad/interface/__init__.py b/datalad/interface/__init__.py\r\nindex 83a8a8292..65c020915 100644\r\n--- a/datalad/interface/__init__.py\r\n+++ b/datalad/interface/__init__.py\r\n@@ -89,5 +89,3 @@\r\n     'datalad-crawler': ('crawl', 'crawl-init'),\r\n     'datalad-neuroimaging': ('bids2scidata',)\r\n }\r\n-\r\n-from ..revolution import command_suite as _group_revolution_commands\r\n\\ No newline at end of file\r\ndiff --git a/docs/source/cmdline.rst b/docs/source/cmdline.rst\r\nindex 9cc65c765..60c3a6652 100644\r\n--- a/docs/source/cmdline.rst\r\n+++ b/docs/source/cmdline.rst\r\n@@ -23,7 +23,6 @@ Dataset operations\r\n \r\n    generated/man/datalad-add\r\n    generated/man/datalad-create\r\n-   generated/man/datalad-rev-create\r\n    generated/man/datalad-create-sibling\r\n    generated/man/datalad-create-sibling-github\r\n    generated/man/datalad-drop\r\n@@ -32,7 +31,6 @@ Dataset operations\r\n    generated/man/datalad-publish\r\n    generated/man/datalad-remove\r\n    generated/man/datalad-save\r\n-   generated/man/datalad-rev-save\r\n    generated/man/datalad-update\r\n    generated/man/datalad-uninstall\r\n    generated/man/datalad-unlock\r\n@@ -55,7 +53,6 @@ Reproducible execution\r\n    :maxdepth: 1\r\n \r\n    generated/man/datalad-run\r\n-   generated/man/datalad-rev-run\r\n    generated/man/datalad-rerun\r\n    generated/man/datalad-run-procedure\r\n \r\n@@ -96,8 +93,6 @@ Plumbing commands\r\n    generated/man/datalad-clone\r\n    generated/man/datalad-create-test-dataset\r\n    generated/man/datalad-diff\r\n-   generated/man/datalad-rev-diff\r\n    generated/man/datalad-sshrun\r\n-   generated/man/datalad-rev-status\r\n    generated/man/datalad-siblings\r\n    generated/man/datalad-subdatasets\r\ndiff --git a/setup.py b/setup.py\r\nindex 6762fadb9..b48554956 100755\r\n--- a/setup.py\r\n+++ b/setup.py\r\n@@ -77,7 +77,6 @@ def findsome(subdir, extensions):\r\n         'patool>=1.7',\r\n         'six>=1.8.0',\r\n         'wrapt',\r\n-        'pathlib2; python_version < \"3.0\"',  # brought to you by revolution1\r\n     ] +\r\n     pbar_requires +\r\n     (['colorama'] if on_windows else []),\r\ndiff --git a/tools/injest-revolution b/tools/injest-revolution\r\ndeleted file mode 100755\r\nindex e870a0448..000000000\r\n--- a/tools/injest-revolution\r\n+++ /dev/null\r\n@@ -1,20 +0,0 @@\r\n-#!/bin/bash\r\n-\r\n-set -eu\r\n-revrepopath=${1:-../datalad-revolution}\r\n-revrepostate=$(git -C \"$revrepopath\" describe --long)\r\n-revpath=3rd/datalad-revolution\r\n-\r\n-# should be clean\r\n-if git -C \"$revrepopath\" diff --cached | grep -q . ; then\r\n-    echo \"E: DIRTY revolution\"\r\n-    git -C \"$revrepopath\" status\r\n-    exit 1\r\n-fi\r\n-\r\n-echo \"I: injesting $revrepopath\"\r\n-rm -rf \"$revpath\" \r\n-mkdir -p \"$revpath\"\r\n-git -C $revrepopath archive HEAD | tar -C $revpath -xf-\r\n-echo \"$revrepostate\" > $revpath/GIT_DESCRIBE\r\n-echo \"I: done $revpath\"\r\n```\r\n\r\n</details>\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3173/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3173/timeline", "performed_via_github_app": null}