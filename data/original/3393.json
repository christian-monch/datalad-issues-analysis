{"url": "https://api.github.com/repos/datalad/datalad/issues/3393", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3393/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3393/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3393/events", "html_url": "https://github.com/datalad/datalad/issues/3393", "id": 441345064, "node_id": "MDU6SXNzdWU0NDEzNDUwNjQ=", "number": 3393, "title": "Alternatives to progress bars", "user": {"login": "effigies", "id": 83442, "node_id": "MDQ6VXNlcjgzNDQy", "avatar_url": "https://avatars.githubusercontent.com/u/83442?v=4", "gravatar_id": "", "url": "https://api.github.com/users/effigies", "html_url": "https://github.com/effigies", "followers_url": "https://api.github.com/users/effigies/followers", "following_url": "https://api.github.com/users/effigies/following{/other_user}", "gists_url": "https://api.github.com/users/effigies/gists{/gist_id}", "starred_url": "https://api.github.com/users/effigies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/effigies/subscriptions", "organizations_url": "https://api.github.com/users/effigies/orgs", "repos_url": "https://api.github.com/users/effigies/repos", "events_url": "https://api.github.com/users/effigies/events{/privacy}", "received_events_url": "https://api.github.com/users/effigies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-05-07T17:15:48Z", "updated_at": "2019-05-13T15:00:28Z", "closed_at": "2019-05-13T15:00:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\nThe current progress bar works well in a proper terminal, but if running in a less well-endowed environment, you can end up with something like:\r\n\r\n```\r\n    Total:   0%|                                         | 0.00/647M [00:00<?, ?B/s]\r\n    sub-01/func .. bold.nii.gz:   0%|                    | 0.00/212M [00:00<?, ?B/s]\u001b[A\r\n    \r\n    sub-01/func .. ressors.tsv:   0%|                   | 0.00/65.1k [00:00<?, ?B/s]\u001b[A\u001b[A\r\n    \r\n    \r\n    sub-02/func .. bold.nii.gz:   0%|                    | 0.00/212M [00:00<?, ?B/s]\u001b[A\u001b[A\u001b[A\r\n    \r\n    \r\n    \r\n    Total:   0%|                              | 65.1k/647M [00:01<2:58:41, 60.3kB/s]\r\n    \r\n    Total (1 ok out of 6):   0%|              | 65.1k/647M [00:01<2:58:41, 60.3kB/s]\r\n    \r\n    Total (1 ok out of 6):   1%|\u258f             | 7.42M/647M [00:01<2:03:45, 86.1kB/s]\r\n    sub-01/func .. bold.nii.gz:   3%|\u258d          | 7.35M/212M [00:00<00:14, 14.6MB/s]\u001b[A\r\n    \r\n    sub-02/func .. bold.nii.gz:   5%|\u258c          | 9.70M/212M [00:00<00:10, 19.3MB/s]\u001b[A\u001b[A\r\n    \r\n    \r\n    Total (3 ok out of 6):   4%|\u258c              | 26.4M/647M [00:01<1:24:06, 123kB/s]\r\n    sub-01/func .. bold.nii.gz:   4%|\u258d          | 7.80M/212M [00:01<02:26, 1.39MB/s]\u001b[A\r\n    \r\n    sub-02/func .. bold.nii.gz:   5%|\u258c          | 10.5M/212M [00:01<01:24, 2.38MB/s]\u001b[A\u001b[A\r\n    \r\n    \r\n    Total (3 ok out of 6):   5%|\u258b              | 29.1M/647M [00:03<1:01:06, 168kB/s]\r\n    sub-01/func .. bold.nii.gz:   4%|\u258d           | 8.31M/212M [00:03<04:43, 718kB/s]\u001b[A\r\n    \r\n    sub-02/func .. bold.nii.gz:   5%|\u258c           | 11.0M/212M [00:03<03:43, 901kB/s]\u001b[A\u001b[A\r\n    \r\n    \r\n    sub-03/func .. bold.nii.gz:   5%|\u258c           | 10.2M/223M [00:03<04:31, 783kB/s]\u001b[A\u001b[A\u001b[A\r\n    sub-01/func .. bold.nii.gz:   4%|\u258d           | 8.57M/212M [00:03<05:16, 642kB/s]\u001b[A\r\n    \r\n    \r\n    sub-03/func .. bold.nii.gz:   5%|\u258c           | 10.5M/223M [00:03<04:50, 730kB/s]\u001b[A\u001b[A\u001b[A\r\n    sub-01/func .. bold.nii.gz:   4%|\u258d           | 8.77M/212M [00:04<06:09, 549kB/s]\u001b[A\r\n    \r\n    Total (3 ok out of 6):   5%|\u258a                | 31.2M/647M [00:04<44:09, 232kB/s]\r\n```\r\n\r\nI've looked, and there doesn't seem to be any way to select an alternative display, or even no progress display.\r\n\r\nIt would be nice to be able to set a configuration option `datalad.progressbar = log` or similar to indicate that output should be treated as a serial stream, and `datalad.progressbar = none` to simply not try to display the information.\r\n\r\n#### What steps will reproduce the problem?\r\n\r\nIn `jupyter-lab` with a Bash kernel:\r\n\r\n```\r\ndatalad install -r ///labs/poldrack/ds003_fmriprep\r\ndatalad get ds003_fmriprep/sub-0{1,2,3}/func/*_space-MNI152NLin2009cAsym_desc-*.nii.gz \\\r\n            ds003_fmriprep/sub-0{1,2,3}/func/*_desc-confounds_*.tsv\r\n```\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n\r\ndatalad 0.11.4\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\n\r\n#### Have you had any success using DataLad before? (to assess your expertise/prior luck.  We would welcome your testimonial additions to https://github.com/datalad/datalad/wiki/Testimonials as well)\r\n\r\nYes\r\n", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3393/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3393/timeline", "performed_via_github_app": null}