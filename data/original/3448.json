{"url": "https://api.github.com/repos/datalad/datalad/issues/3448", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3448/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3448/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3448/events", "html_url": "https://github.com/datalad/datalad/issues/3448", "id": 446924346, "node_id": "MDU6SXNzdWU0NDY5MjQzNDY=", "number": 3448, "title": "run --explicit: seems to glob outputs only BEFORE but not AFTER", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2767259861, "node_id": "MDU6TGFiZWwyNzY3MjU5ODYx", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-run/rerun", "name": "cmd-run/rerun", "color": "FEF2C0", "default": false, "description": "Issues about the favorite command of ReproPeople"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-22T04:12:25Z", "updated_at": "2021-04-26T13:37:25Z", "closed_at": "2021-04-26T13:37:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "glob can change as a result of running the command, and then result new output files should be saved as well.  It seems to be not the case and only files for the glob expanded before running the command are saved\r\n```shell\r\n$> ls  *.dat  \r\n1.dat@  2.dat@\r\n\r\n$> datalad --version\r\ndatalad 0.11.4.dev108\r\n\r\n$> datalad run --output '*.dat' --explicit touch 3.dat\r\nunlock(ok): 1.dat (file)                          \r\nunlock(ok): 2.dat (file)\r\n[INFO   ] == Command start (output follows) ===== \r\n[INFO   ] == Command exit (modification check follows) ===== \r\nadd(ok): 1.dat (file)\r\nadd(ok): 2.dat (file)\r\naction summary:\r\n  add (ok: 2)\r\n  save (notneeded: 1)\r\n  unlock (ok: 2)\r\n\r\n$> ls *.dat                                           \r\n1.dat@  2.dat@  3.dat\r\n\r\n$> git log 3.dat\r\n\r\n$> datalad run --output '*.dat' --explicit touch 3.dat\r\nunlock(ok): 1.dat (file)\r\nunlock(ok): 2.dat (file)\r\n[INFO   ] == Command start (output follows) ===== \r\n[INFO   ] == Command exit (modification check follows) ===== \r\nadd(ok): 3.dat (file)\r\nadd(ok): 1.dat (file)\r\nadd(ok): 2.dat (file)\r\nsave(ok): /tmp/testds (dataset)\r\naction summary:\r\n  add (ok: 3)\r\n  save (ok: 1)\r\n  unlock (notneeded: 1, ok: 2)\r\n```\r\n\r\nFWIW -- without --explicit all is saved ok\r\n\r\n```shell\r\n$> datalad run --output '*.dat' touch 4.dat        \r\nunlock(ok): 1.dat (file)               \r\nunlock(ok): 2.dat (file)\r\nunlock(ok): 3.dat (file)\r\n[INFO   ] == Command start (output follows) ===== \r\n[INFO   ] == Command exit (modification check follows) ===== \r\nadd(ok): 4.dat (file)\r\nadd(ok): 1.dat (file)\r\nadd(ok): 2.dat (file)\r\nadd(ok): 3.dat (file)\r\nsave(ok): /tmp/testds (dataset)\r\naction summary:\r\n  add (ok: 4)\r\n  save (ok: 1)\r\n  unlock (ok: 3)\r\n```", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3448/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3448/timeline", "performed_via_github_app": null}