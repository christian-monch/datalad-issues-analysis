{"url": "https://api.github.com/repos/datalad/datalad/issues/1366", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1366/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1366/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1366/events", "html_url": "https://github.com/datalad/datalad/issues/1366", "id": 213020129, "node_id": "MDU6SXNzdWUyMTMwMjAxMjk=", "number": 1366, "title": "More uniform debug/info/warning/error messages for new-style return args", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 385404347, "node_id": "MDU6TGFiZWwzODU0MDQzNDc=", "url": "https://api.github.com/repos/datalad/datalad/labels/for%20our%20information", "name": "for our information", "color": "fbca04", "default": false, "description": "Announcement-type issues (possibly inconsequential)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-09T12:16:37Z", "updated_at": "2017-03-21T19:09:55Z", "closed_at": "2017-03-21T19:09:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Useful style change in conveying messages:\r\n\r\nAt present we craft wonderful English messages in our logs. They contain what is happening and where (or about what) something happens. There is very little _uniform_ structure in those messages.\r\n\r\nProposal:\r\n\r\nWith new-style return values we have a better and more structured idea of what is being processed and what needs to be reported on. We should stop formatting complex messages and instead give a compact uniform message for each atomic result that is put into the result dictionary. Top-level code can subsequently inspect these, collate message by content, type, etc, and even condense the reporting to unique messages with info on how frequently it was generator, and for what, e.g. paths.\r\n\r\nSo instead of:\r\n\r\n`lgr.warning('ignored non-existing paths: %s', unavailable_paths)`\r\n\r\nour code needs to produce something like:\r\n\r\n````\r\nfor p unavailable_paths:\r\n{\r\n  'status': 'impossible',\r\n  'message': ('path does not exist: %s', p),\r\n  'path': p,\r\n}\r\n````\r\n\r\nThe important part is to not format the message, but to pass the template string and the format args separately, so we still know what is conceptually the same message.\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1366/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1366/timeline", "performed_via_github_app": null}