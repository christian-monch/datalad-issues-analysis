{"url": "https://api.github.com/repos/datalad/datalad/issues/3265", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3265/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3265/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3265/events", "html_url": "https://github.com/datalad/datalad/issues/3265", "id": 424499791, "node_id": "MDU6SXNzdWU0MjQ0OTk3OTE=", "number": 3265, "title": "run: support \"covering\" multiple commits", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2767259861, "node_id": "MDU6TGFiZWwyNzY3MjU5ODYx", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-run/rerun", "name": "cmd-run/rerun", "color": "FEF2C0", "default": false, "description": "Issues about the favorite command of ReproPeople"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-23T13:15:54Z", "updated_at": "2021-02-24T00:00:24Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "As discussed (and previous behavior ripped out) in #3259, some commands provided `--no-save` cmdline option which could be (ab)used while `datalad run`'ing our own commands to create a `run` record.  As @mih rightfully argued, proper solution should not require `--no-save` or per-command diversion from its regular behavior to achieve that.  The only way we could then do it IMHO by `run` \r\n\r\n- \"memoizing\" initial commit from which it started acting\r\n- at the end of the run, if current commit is not the original commit, placing a field in the `run` record, like `parent` containing this commit\r\n\r\nnote: record is simply duplicated into subdataset's run records, so they would then point to that parent dataset's commit.  not sure if ideal\r\n\r\nThen we get only the issue for humans to easily identify that a commit was a part of the larger `run`, which I would find highly desired. (I do look at them and find useful)\r\n\r\n- ideally, each interim commit should record in its message that it is a part of the \"bigger run\".  Not sure if that should be the full `run` record with may be some indicator of this being just a part, or merely listing of some `run uuid` which would then be added to the `run` record at the end.  ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3265/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3265/timeline", "performed_via_github_app": null}