{"url": "https://api.github.com/repos/datalad/datalad/issues/4921", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4921/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4921/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4921/events", "html_url": "https://github.com/datalad/datalad/issues/4921", "id": 701222022, "node_id": "MDU6SXNzdWU3MDEyMjIwMjI=", "number": 4921, "title": "0.13.3 on conda and fresh git-annex: duplicated output picked up within test_runner_parametrized_protocol?", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-09-14T15:48:26Z", "updated_at": "2020-09-16T14:04:36Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "@notestaff working on adding downstream testing back to git-annex package on conda-forge which is great!\r\n\r\ndatalad testing is not yet green.\r\n[Full log](https://dev.azure.com/conda-forge/84710dde-1620-425b-80d0-4cf5baca359d/_apis/build/builds/209014/logs/13) (160MB huge  due to annexremote testing verbosity, unrelated), but then testing of datalad fails with a single (better than if many) test failing\r\n\r\n```\r\n2020-09-14T06:57:15.1594851Z Versions: annexremote=1.4.3 appdirs=1.4.3 boto=2.49.0 cmd:7z=16.02 cmd:annex=8.20200908-ga853039 cmd:bundled-git=2.28.0 cmd:git=2.28.0 cmd:system-git=2.28.0 cmd:system-ssh=8.3p1 exifread=2.1.2 humanize=2.6.0 iso8601=0.1.13 keyring=21.4.0 keyrings.alt=3.1 msgpack=1.0.0 mutagen=1.41.1 patoolib=1.12 requests=2.24.0 tqdm=4.49.0 wrapt=1.12.1\r\n2020-09-14T06:57:15.1601769Z Obscure filename: str=b' \"\\';a&b&c\\xce\\x94\\xd0\\x99\\xd7\\xa7\\xd9\\x85\\xe0\\xb9\\x97\\xe3\\x81\\x82 `| ' repr=' \"\\';a&b&c\u0394\u0419\u05e7\ufee1\u0e57\u3042 `| '\r\n2020-09-14T06:57:15.1608345Z Encodings: default='utf-8' filesystem='utf-8' locale.prefered='UTF-8'\r\n2020-09-14T06:57:15.1616112Z Environment: PYTHONNOUSERSITE='1' PYTHONUNBUFFERED='1' PATH='$PREFIX:$PREFIX/bin:$PREFIX/bin:/opt/conda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/home/conda/bin' LANG='en_US.UTF-8' GIT_BRANCH='merge' PYTHON='$PREFIX/bin/python' GIT_CONFIG_PARAMETERS=\"'init.defaultBranch=dl-test-branch'\"\r\n2020-09-14T06:57:15.2906560Z Exception ignored in: <function _Database.close at 0x7fa3c4c100d0>\r\n2020-09-14T06:57:15.2907546Z Traceback (most recent call last):\r\n2020-09-14T06:57:15.2909376Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600056447586/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/dbm/dumb.py\", line 274, in close\r\n2020-09-14T06:57:15.2910430Z     self._commit()\r\n2020-09-14T06:57:15.2911738Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600056447586/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/dbm/dumb.py\", line 129, in _commit\r\n2020-09-14T06:57:15.2913031Z     with self._io.open(self._dirfile, 'w', encoding=\"Latin-1\") as f:\r\n2020-09-14T06:57:15.2914219Z FileNotFoundError: [Errno 2] No such file or directory: '/tmp/datalad_temp_y1aehq1r/.config/datalad/cookies.dir'\r\n2020-09-14T06:57:15.2914736Z\r\n2020-09-14T06:57:15.2915093Z ======================================================================\r\n2020-09-14T06:57:15.2915566Z FAIL: datalad.tests.test_witless_runner.test_runner_parametrized_protocol\r\n2020-09-14T06:57:15.2916282Z ----------------------------------------------------------------------\r\n2020-09-14T06:57:15.2916765Z Traceback (most recent call last):\r\n2020-09-14T06:57:15.2918077Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600056447586/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/nose/case.py\", line 197, in runTest\r\n2020-09-14T06:57:15.2919171Z     self.test(*self.arg)\r\n2020-09-14T06:57:15.2920772Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600056447586/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/datalad/tests/test_witless_runner.py\", line 149, in test_runner_parametrized_protocol\r\n2020-09-14T06:57:15.2922014Z     eq_(res['stdout'], '5')\r\n2020-09-14T06:57:15.2922684Z AssertionError: '55' != '5'\r\n2020-09-14T06:57:15.2923417Z -------------------- >> begin captured logging << --------------------\r\n2020-09-14T06:57:15.2924415Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-14T06:57:15.2925346Z --------------------- >> end captured logging << ---------------------\r\n2020-09-14T06:57:15.2925748Z\r\n2020-09-14T06:57:15.2926393Z ----------------------------------------------------------------------\r\n2020-09-14T06:57:15.2926856Z Ran 1163 tests in 1886.415s\r\n2020-09-14T06:57:15.2927141Z\r\n2020-09-14T06:57:15.2927419Z FAILED (SKIP=122, failures=1)\r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4921/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4921/timeline", "performed_via_github_app": null}