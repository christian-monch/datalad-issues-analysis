{"url": "https://api.github.com/repos/datalad/datalad/issues/2335", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2335/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2335/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2335/events", "html_url": "https://github.com/datalad/datalad/issues/2335", "id": 308116454, "node_id": "MDU6SXNzdWUzMDgxMTY0NTQ=", "number": 2335, "title": "bids metadata extractor - tollerate absent dataset_description.json?", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 700886055, "node_id": "MDU6TGFiZWw3MDA4ODYwNTU=", "url": "https://api.github.com/repos/datalad/datalad/labels/metadata", "name": "metadata", "color": "0052cc", "default": false, "description": ""}, {"id": 881374230, "node_id": "MDU6TGFiZWw4ODEzNzQyMzA=", "url": "https://api.github.com/repos/datalad/datalad/labels/possibly-fixed", "name": "possibly-fixed", "color": "77dd77", "default": false, "description": "A fix might be available, but was not (yet) confirmed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/48", "html_url": "https://github.com/datalad/datalad/milestone/48", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/48/labels", "id": 3040617, "node_id": "MDk6TWlsZXN0b25lMzA0MDYxNw==", "number": 48, "title": "Release 0.10.0", "description": "The release with new metadata aggregation/search support.\r\n\r\nShould include 0.9.2 fixes etc, i.e. have 0.9.x branch merged", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2018-01-16T22:43:30Z", "updated_at": "2018-06-13T16:50:07Z", "due_on": null, "closed_at": "2018-06-13T16:50:07Z"}, "comments": 3, "created_at": "2018-03-23T17:25:13Z", "updated_at": "2018-04-10T13:52:30Z", "closed_at": "2018-04-10T13:52:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nSome datasets, such as coming from fcp-indi bucket, lack dataset_description.json or may be even some other files, but otherwise ok BIDS datasets.  ATM (bleeding edge master 0.9.3-845-gd453ce46) it seems to ignore bids extractor altogether.\r\n\r\nTrying on ///hbnssi/RawData with a single anatomical present:\r\n```shell\r\n(git-annex)hopa:~/datalad-meta6-4/hbnssi/RawData[master]git\r\n$> ls -ld dataset*\r\nls: cannot access 'dataset*': No such file or directory\r\n(dev) 1 10014 ->2.....................................:Fri 23 Mar 2018 13:22:49 EDT:.\r\n(git-annex)hopa:~/datalad-meta6-4/hbnssi/RawData[master]git\r\n$> datalad aggregate-metadata\r\n[INFO   ] Aggregate metadata for dataset /home/yoh/datalad-meta6-4/hbnssi/RawData \r\n[WARNING] 3971 files have no content present, skipped metadata extraction for them \r\n[INFO   ] Engage metadata extractors: ['datalad_core', 'nifti1', 'bids'] \r\n[INFO   ] Update aggregate metadata in dataset at: /home/yoh/datalad-meta6-4/hbnssi/RawData \r\naggregate_metadata(ok): /home/yoh/datalad-meta6-4/hbnssi/RawData (dataset)\r\n[INFO   ] Attempting to save 6 files/datasets \r\nsave(notneeded): /home/yoh/datalad-meta6-4/hbnssi/RawData (dataset)                                                                                                                                                               \r\naction summary:\r\n  aggregate_metadata (ok: 1)\r\n  save (notneeded: 1)\r\n(dev) 1 10015.....................................:Fri 23 Mar 2018 13:22:57 EDT:.\r\n(git-annex)hopa:~/datalad-meta6-4/hbnssi/RawData[master]git\r\n$> datalad search --show-keys          \r\nnifti1.cal_max               \r\nnifti1.cal_min\r\nnifti1.datatype\r\nnifti1.dim\r\nnifti1.freq_axis\r\nnifti1.intent\r\nnifti1.magic\r\nnifti1.phase_axis\r\nnifti1.pixdim\r\nnifti1.qform_code\r\nnifti1.sform_code\r\nnifti1.sizeof_hdr\r\nnifti1.slice_axis\r\nnifti1.slice_duration\r\nnifti1.slice_end\r\nnifti1.slice_order\r\nnifti1.slice_start\r\nnifti1.spatial_resolution(mm)\r\nnifti1.toffset\r\nnifti1.vox_offset\r\nnifti1.xyz_unit\r\n\r\n```", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2335/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2335/timeline", "performed_via_github_app": null}