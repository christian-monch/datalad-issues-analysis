{"url": "https://api.github.com/repos/datalad/datalad/issues/2406", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2406/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2406/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2406/events", "html_url": "https://github.com/datalad/datalad/pull/2406", "id": 312994546, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgwNjg0NzMw", "number": 2406, "title": "Gets confused by symbolic links in the path", "user": {"login": "overlake333", "id": 28018084, "node_id": "MDQ6VXNlcjI4MDE4MDg0", "avatar_url": "https://avatars.githubusercontent.com/u/28018084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/overlake333", "html_url": "https://github.com/overlake333", "followers_url": "https://api.github.com/users/overlake333/followers", "following_url": "https://api.github.com/users/overlake333/following{/other_user}", "gists_url": "https://api.github.com/users/overlake333/gists{/gist_id}", "starred_url": "https://api.github.com/users/overlake333/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/overlake333/subscriptions", "organizations_url": "https://api.github.com/users/overlake333/orgs", "repos_url": "https://api.github.com/users/overlake333/repos", "events_url": "https://api.github.com/users/overlake333/events{/privacy}", "received_events_url": "https://api.github.com/users/overlake333/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/48", "html_url": "https://github.com/datalad/datalad/milestone/48", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/48/labels", "id": 3040617, "node_id": "MDk6TWlsZXN0b25lMzA0MDYxNw==", "number": 48, "title": "Release 0.10.0", "description": "The release with new metadata aggregation/search support.\r\n\r\nShould include 0.9.2 fixes etc, i.e. have 0.9.x branch merged", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2018-01-16T22:43:30Z", "updated_at": "2018-06-13T16:50:07Z", "due_on": null, "closed_at": "2018-06-13T16:50:07Z"}, "comments": 9, "created_at": "2018-04-10T16:16:17Z", "updated_at": "2018-04-12T00:35:36Z", "closed_at": "2018-04-11T13:43:43Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2406", "html_url": "https://github.com/datalad/datalad/pull/2406", "diff_url": "https://github.com/datalad/datalad/pull/2406.diff", "patch_url": "https://github.com/datalad/datalad/pull/2406.patch"}, "body": "#### What is the problem?\r\n```shell\r\n(datalad) Taylors-MacBook-Pro-4:tmp taylor$  datalad create --text-no-annex demo\r\n[INFO   ] Creating a new annex repo at /tmp/demo \r\ncreate(ok): /tmp/demo (dataset)                                                                                      \r\n(datalad) Taylors-MacBook-Pro-4:tmp taylor$ cd demo/\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ datalad -l debug crawl-init --save --template=simple_with_archives url=http://example.com\r\n...\r\n[DEBUG  ] Assigning credentials into 18 providers \r\n[INFO   ] Not adding annex.largefiles=exclude=README* and exclude=LICENSE* to git annex calls because already defined to be (not(mimetype=text/*)) \r\n[DEBUG  ] Creating crawler configuration for template simple_with_archives under . \r\n                                                                                                                     [DEBUG  ] Determined class of decorated function: <class 'datalad.interface.save.Save'> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.interface.annotate_paths.AnnotatePaths'> \r\n[WARNING] path not part of the reference dataset at /tmp/demo [save(/private/tmp/demo/.datalad/crawl/crawl.cfg)] \r\n[DEBUG  ] could not perform all requested actions: Command did not complete successfully [{'status': 'impossible', 'orig_request': './.datalad/crawl/crawl.cfg', 'raw_input': True, 'message': ('path not part of the reference dataset at %s', '/tmp/demo'), 'parentds': '/private/tmp/demo', 'action': 'save', 'path': '/private/tmp/demo/.datalad/crawl/crawl.cfg', 'type': 'file', 'refds': '/tmp/demo'}] [utils.py:generator_func:446] \r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ echo $TMPDIR\r\n/var/folders/_r/lnsx28mx03v58m6p1vfml2b00000gn/T/\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ ls -ld /tmp\r\nlrwxr-xr-x@ 1 root  wheel  11 Mar 22 22:03 /tmp -> private/tmp\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ pwd\r\n/tmp/demo\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ python -c 'import os.path; print(os.path.realpath(\"/var/folders/_r/lnsx28mx03v58m6p1vfml2b00000gn/T\"))'\r\n/private/var/folders/_r/lnsx28mx03v58m6p1vfml2b00000gn/T\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ ls -ld /var\r\nlrwxr-xr-x@ 1 root  wheel  11 Mar 22 22:03 /var -> private/var\r\n(datalad) Taylors-MacBook-Pro-4:demo taylor$ datalad --version\r\ndatalad 0.9.3.dev1004\r\n```\r\n#### What steps will reproduce the problem?\r\n\r\nbuy a Mac, do the above\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\nMaster branch 0.9.3-1004-g7635f467 \r\n\r\nit seems to be quite a regular setup on OSX 10.13.3 (Sierra)\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2406/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2406/timeline", "performed_via_github_app": null}