{"url": "https://api.github.com/repos/datalad/datalad/issues/3163", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3163/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3163/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3163/events", "html_url": "https://github.com/datalad/datalad/issues/3163", "id": 409972471, "node_id": "MDU6SXNzdWU0MDk5NzI0NzE=", "number": 3163, "title": "FOI: datalad publish  to \"stable\" environments is tricky of usually outdated system-wide git", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778594, "node_id": "MDU6TGFiZWw2Mzc3ODU5NA==", "url": "https://api.github.com/repos/datalad/datalad/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Issue asks a question rather than reporting a problem"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-02-13T19:50:28Z", "updated_at": "2019-02-13T21:20:43Z", "closed_at": "2019-02-13T21:18:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Because we typically need `receive.denyCurrentBranch=updateInstead` support in git, we need some recent git (forgot when it was introduced but is present in e.g. 2.14). But institutional systems still might run some trusted RH release such as `Red Hat Enterprise Linux Server release 7.6 (Maipo)` which comes with git 1.8.3.1 !  Because we are operating in non-interactive sessions, there is IMHO no way to make login shell tune up PATH (e.g. that is causes troubles for git annex on OSX where it is not available in default PATHs).\r\nI wondered if we could do anything about it!?\r\n\r\nActually, to my surprise, on the system in question I just adjusted PATH in .bashrc to point to git-annex bundled git (at the end, just did `module load datalad`) and it was in effect for a non-interactive session and `datalad publish` worked out as it should.  On my local system (Debian), adjusting .bashrc for a sample user was not in effect for non-interactive session (which is what I have remembered). So I guess there is a peculiarity about that particular system configuration. Or could someone enlighten me?", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3163/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3163/timeline", "performed_via_github_app": null}