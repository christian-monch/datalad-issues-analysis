{"url": "https://api.github.com/repos/datalad/datalad/issues/4396", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4396/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4396/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4396/events", "html_url": "https://github.com/datalad/datalad/issues/4396", "id": 598122391, "node_id": "MDU6SXNzdWU1OTgxMjIzOTE=", "number": 4396, "title": "publish: should be able to identify removed remote clones and fail informatively", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}, {"id": 2767220159, "node_id": "MDU6TGFiZWwyNzY3MjIwMTU5", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-push", "name": "cmd-push", "color": "FEF2C0", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-10T22:30:33Z", "updated_at": "2021-03-08T15:50:19Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "```shell\r\n(git)smaug:\u2026btrfs/datasets/datalad/crawl/labs/poldrack/NP-180740/sourcedata[master]git\r\n$> datalad publish --to=datalad-public -r --missing skip  # just let's do a full sweep\r\n[INFO   ] Publishing <Dataset path=/mnt/btrfs/datasets/datalad/crawl/labs/poldrack/NP-180740/sourcedata> data to datalad-public \r\nTotal (0 ok, 604 failed out of 604):   0%|                                                                                                                                                             | 0.00/10.4G [00:39<?, ?B/s]\r\n[WARNING] Running copy resulted in stderr output: git-annex-shell: expected repository UUID d326b73e-1f9f-4ed0-97cb-1bbfd24f5057 but found UUID b38aead5-b9da-4fac-8588-286990fd2c94\r\nrsync: connection unexpectedly closed (0 bytes received so far) [sender]\r\nrsync error: error in rsync protocol data stream (code 12) at io.c(235) [sender=3.1.3]\r\nrsync exited 12\r\ngit-annex-shell: expected repository UUID d326b73e-1f9f-4ed0-97cb-1bbfd24f5057 but found UUID b38aead5-b9da-4fac-8588-286990fd2c94\r\nrsync: connection unexpectedly closed (0 bytes received so far) [sender]\r\nrsync error: error in rsync protocol data stream (code 12) at io.c(235) [sender=3.1.3]\r\nrsync exited 12\r\ngit-annex-shell: expected repository UUID d326b73e-1f9f-4ed0-97cb-1bbfd24f5057 but found UUID b38aead5-b9da-4fac-8588-286990fd2c94\r\nrsync: connection unexpectedly closed (0 bytes received so far) [sender]\r\nrsync error: error in rsync protocol data stream (code 12) at io.c(235) [sender=3.1.3]\r\nrsync exited 12\r\ngit-annex-shell: expected repository UUID d326b73e-1f9f-4ed0-97cb-1bbfd24f5057 ... \r\n                                                                                                                                                                                                                                   \r\ndatalad publish --to=datalad-public -r --missing skip  12.32s user 5.71s system 44% cpu 40.903 total\r\n\r\n$> datalad --version\r\ndatalad 0.12.5.dev606\r\n```\r\nyet to check where it gets ideas about uuid b38aead5-b9da-4fac-8588-286990fd2c94, but the point is that `sourcedata` isn't published to http://datasets.datalad.org/?dir=/labs/poldrack/NP-180740 .  there is only an empty directory (as for any non \"fulfilled\" git submodule).  So some check fails, it tries to copy data there for a while only to fail with various cryptic messages as per above.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4396/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4396/timeline", "performed_via_github_app": null}