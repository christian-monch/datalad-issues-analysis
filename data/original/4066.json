{"url": "https://api.github.com/repos/datalad/datalad/issues/4066", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4066/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4066/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4066/events", "html_url": "https://github.com/datalad/datalad/issues/4066", "id": 552972940, "node_id": "MDU6SXNzdWU1NTI5NzI5NDA=", "number": 4066, "title": "RF `create_sibling` with IO support from `ria_remote`", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-21T16:04:26Z", "updated_at": "2020-01-21T16:04:26Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "ATM `create_sibling` has custom code to perform a bunch of operations via SSH that are equivalents of:\r\n- `exist()`\r\n- `rmtree()`\r\n- `chmod`\r\n- `chgrp`\r\n- `rm`\r\n- `mkdir()`\r\n- `git update-server-info`\r\n- `git config`\r\n- enable post-update hook\r\n- `annex init`\r\n\r\nAll those commands are issued one-by-one and are relatively slow as a result (my target machine needs 600ms to give me a new shell through an existing socket). RIARemote has IO classes that can do (some of) these things much faster, but ATM they are interwoven with the remote code. It would be good to RF them, move them into -core, and use them in `create-sibling` too. Once we move the actual RIARemote implementation, this would be the second user.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4066/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4066/timeline", "performed_via_github_app": null}