{"url": "https://api.github.com/repos/datalad/datalad/issues/4689", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4689/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4689/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4689/events", "html_url": "https://github.com/datalad/datalad/pull/4689", "id": 655193638, "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ3NzU3ODYy", "number": 4689, "title": "Core Repo/Dataset classes", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1453907298, "node_id": "MDU6TGFiZWwxNDUzOTA3Mjk4", "url": "https://api.github.com/repos/datalad/datalad/labels/stale-PR-closed-without-merge", "name": "stale-PR-closed-without-merge", "color": "ffffff", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-11T11:43:25Z", "updated_at": "2021-09-24T10:20:37Z", "closed_at": "2020-10-04T11:11:45Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4689", "html_url": "https://github.com/datalad/datalad/pull/4689", "diff_url": "https://github.com/datalad/datalad/pull/4689.diff", "patch_url": "https://github.com/datalad/datalad/pull/4689.patch"}, "body": "Merely the first steps towards a resolution of gh-3988 in the spirit of gh-3192, hopefully and eventually leading to a sliming/modernization of the public API (gh-4589).\r\n\r\nThere is not much happening here, other than moving code around and establishing the classes. The plan is to lower the threshold to transition some carefully filtered functionality in the core API. At the same time the main Repo classes will be used primarily for a long time still. But it should become progressively easier to write code that only uses the core API.\r\n\r\nMajor pieces:\r\n\r\n- core repo classes `GitRepo` and `AnnexRepo` (i.e. identically named as suggested in https://github.com/datalad/datalad/issues/3988#issuecomment-571241784)\r\n- `call_git*()` methods have moved and no longer rely on an execution helper that invokes `normalize_paths()`\r\n- transition a minimal additional set of functionality to make the flyweight pattern work with the core API only\r\n- not moving code that directly uses `wrapt`\r\n\r\nFixes gh-3988\r\n\r\nI am currently pondering whether we might also want to established corresponding locations for core `utils`, `exceptions` and `support` with the analog goal of a rejuvenation/slimming of the code base. But later and in a separate effort.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4689/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4689/timeline", "performed_via_github_app": null}