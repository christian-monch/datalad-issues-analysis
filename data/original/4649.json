{"url": "https://api.github.com/repos/datalad/datalad/issues/4649", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4649/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4649/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4649/events", "html_url": "https://github.com/datalad/datalad/pull/4649", "id": 643132190, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM3OTkyNzgx", "number": 4649, "title": "BF: progressbar: Add reset() kludge for older tqdm versions", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-22T14:47:05Z", "updated_at": "2020-06-23T13:31:46Z", "closed_at": "2020-06-23T04:12:51Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4649", "html_url": "https://github.com/datalad/datalad/pull/4649", "diff_url": "https://github.com/datalad/datalad/pull/4649.diff", "patch_url": "https://github.com/datalad/datalad/pull/4649.patch"}, "body": "As of c9a066c49 (ENH: Enable changing the total of an existing\r\nprogress bar, 2020-04-22), our tqdmProgressBar.update() relies on tqdm\r\nhaving reset(), but reset() didn't exist until v4.32.0 (c7015f4,\r\n2019-05-10).  Debian Buster currently has v4.28.1.\r\n\r\nFor compatibility with older versions, copy over the logic to\r\ntqdmProgressBar and fall back to it when tqdm.reset() isn't available.\r\nAll of the attributes adjusted in reset() appear to be in v4.28.1 and\r\nmanual testing with v4.28.1 didn't reveal any issues.\r\n\r\nThere is of course some older version that this won't work for, but it\r\nlooks like we'll hit other problems before that point.  We rely on\r\nrefresh() throughout tqdmProgressBar, and all of the other attributes\r\nused in _reset_kludge() appear to have been around before refresh()\r\nwas added (d3c3ad2, 2016-01-30).\r\n\r\nCloses #4648.\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4649/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4649/timeline", "performed_via_github_app": null}