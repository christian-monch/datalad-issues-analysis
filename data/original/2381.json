{"url": "https://api.github.com/repos/datalad/datalad/issues/2381", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2381/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2381/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2381/events", "html_url": "https://github.com/datalad/datalad/issues/2381", "id": 311279830, "node_id": "MDU6SXNzdWUzMTEyNzk4MzA=", "number": 2381, "title": "Q/A: search -- how to output a \"matched\" value", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778594, "node_id": "MDU6TGFiZWw2Mzc3ODU5NA==", "url": "https://api.github.com/repos/datalad/datalad/labels/question", "name": "question", "color": "fbca04", "default": true, "description": "Issue asks a question rather than reporting a problem"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-04-04T15:29:18Z", "updated_at": "2018-04-04T15:29:24Z", "closed_at": "2018-04-04T15:29:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\n```shell\r\n$> grep thickness /home/yoh/datalad-meta6-4/openfmri/ds000210/* \r\ngrep: /home/yoh/datalad-meta6-4/openfmri/ds000210/CHANGES: No such file or directory\r\n/home/yoh/datalad-meta6-4/openfmri/ds000210/README:slice thickness 3.8 mm \r\n\r\n$> datalad -f '{path} {query_matched}' search thickness        \r\n/home/yoh/datalad-meta6-4/openfmri/ds000200 {u'bids.description': u'thickness'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000210 {u'bids.description': u'thickness'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000223 {u'bids.description': u'thickness'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000229 {u'bids.description': u'thickness'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000231 {u'bids.description': u'thickness'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000258 {u'bids.description': u'thickness'}\r\n```\r\nI wanted to a way (similar to old-fashion 0.9.x `search -R`) to report not only the field which matched (as above in `query_matched`) but also actual value.. quickly realized that I could just provide a regex matching entire value of the field\r\n```shell\r\n$> datalad -f '{path} {query_matched}' search '.*thickness.*'\r\n/home/yoh/datalad-meta6-4/openfmri/ds000200 {u'bids.description': u'slice thickness 2 mm, no gap) use for the volumetric measurement '}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000210 {u'bids.description': u'slice thickness 3.8 mm '}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000223 {u'bids.description': u'we collected data from two different sites. the first set were collected on a 3.0 tesla siemens allegra scanner located at princeton university. the second set were collected on a 3.0 tesla ge discovery scanner located at the banner alzheimer institute (bai) in phoenix, arizona. high-resolution t1-weighted images were first acquired (princeton: 1\\xe3\\u20141\\xe3\\u20141 mm resolution, bai: .9\\xe3\\u2014.9\\xe3\\u2014.9 mm resolution, mp-rage sequence). whole-brain blood oxygenation level-dependent (bold) weighted echo-planar images were acquired using an interleaved acquisition (tr = 2000 ms; te=30 ms; flip angle=90\\xe2\\xb0 (princeton) 77.2\\xe2\\xb0 (bai), slices: 30 total, 4mm thickness (princeton), 36 total, 3.4 mm thickness (bai); fov: 192 mm (princeton), 222 mm (bai) matrix = 64\\xe3\\u201464 (princeton), 74x74 (bai), prescription: 30\\xe2\\xb0 (princeton) or 0\\xe2\\xb0 (bai) off the anterior commissure-posterior commissure line). the data sets were acquired several years apart and differences arose from an evolving understanding of the best parameters for acquiring fmri data.'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000229 {u'bids.description': u'we measure the blood oxygenation-level dependent (bold) signal as an indication of cerebral brain activation with echo planar imaging, acquired on a siemens 3t tim trio scanner. echo planar imaging was used to measure the blood oxygenation-level dependent (bold) signal as an indication of cerebral brain activation. a susceptibility-weighted single-shot echo planar method was used to image the regional distribution of the bold signal with parameters of: tr: 2000ms; te: 20 ms; flip angle: 90\\xb0; fov: 220 mm; matrix: 64 x 64; slice thickness: 3 mm, and number of slices: 40. slices were acquired in an interleaved mode to reduce the crosstalk of the slice selection pulse. at the beginning of each functional run, the mr signal was allowed to equilibrate over six scans for a total of 12 s, which were then excluded from analysis. the anatomical scan used a t1-weighted 3d flash sequence (tr/te: 2530/3.66 ms; flip angle: 20\\xb0; fov: 256; matrix: 256 x 256; slice thickness: 1 mm; number of slices: 176).\\r'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000231 {u'bids.description': u'we measure the blood oxygenation-level dependent (bold) signal as an indication of cerebral brain activation with echo planar imaging, acquired on a siemens 3t tim trio scanner. echo planar imaging was used to measure the blood oxygenation-level dependent (bold) signal as an indication of cerebral brain activation. a susceptibility-weighted single-shot echo planar method was used to image the regional distribution of the bold signal with parameters of: tr: 2000ms; te: 20 ms; flip angle: 90\\xb0; fov: 220 mm; matrix: 64 x 64; slice thickness: 3 mm, and number of slices: 40. slices were acquired in an interleaved mode to reduce the crosstalk of the slice selection pulse. at the beginning of each functional run, the mr signal was allowed to equilibrate over six scans for a total of 12 s, which were then excluded from analysis. the anatomical scan used a t1-weighted 3d flash sequence (tr/te: 2530/3.66 ms; flip angle: 20\\xb0; fov: 256; matrix: 256 x 256; slice thickness: 1 mm; number of slices: 176).\\r'}\r\n/home/yoh/datalad-meta6-4/openfmri/ds000258 {u'bids.description': u'data were acquired with a siemens trio 3t mri scanner and a 32-channel receive-only head coil. functional images of 139 volumes (9.84 min) were acquired with an me epi sequence with online reconstruction [repetition time (tr), 2.47 s; flip angle, 78\\xb0; matrix size, 64 \\xd7 64; in-plane resolution, 3.75 mm; field of view (fov), 240 mm; 32 oblique slices, alternating slice acquisition slice thickness 4.4 mm with 10% gap (ascending interleaved order, i.e., \"alt+z2\" in afni coding); ipat factor, 3; bandwidth (bw) = 1,698 hz/pixel; te = 12, 28, 44, and 60 ms].'}\r\n```", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2381/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2381/timeline", "performed_via_github_app": null}