{"url": "https://api.github.com/repos/datalad/datalad/issues/5337", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5337/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5337/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5337/events", "html_url": "https://github.com/datalad/datalad/issues/5337", "id": 788318512, "node_id": "MDU6SXNzdWU3ODgzMTg1MTI=", "number": 5337, "title": "datalad push visual progress refreshes infrequently (7-10 minutes)", "user": {"login": "aqw", "id": 765557, "node_id": "MDQ6VXNlcjc2NTU1Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/765557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aqw", "html_url": "https://github.com/aqw", "followers_url": "https://api.github.com/users/aqw/followers", "following_url": "https://api.github.com/users/aqw/following{/other_user}", "gists_url": "https://api.github.com/users/aqw/gists{/gist_id}", "starred_url": "https://api.github.com/users/aqw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aqw/subscriptions", "organizations_url": "https://api.github.com/users/aqw/orgs", "repos_url": "https://api.github.com/users/aqw/repos", "events_url": "https://api.github.com/users/aqw/events{/privacy}", "received_events_url": "https://api.github.com/users/aqw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}, {"id": 2767220159, "node_id": "MDU6TGFiZWwyNzY3MjIwMTU5", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-push", "name": "cmd-push", "color": "FEF2C0", "default": false, "description": ""}, {"id": 2971010147, "node_id": "MDU6TGFiZWwyOTcxMDEwMTQ3", "url": "https://api.github.com/repos/datalad/datalad/labels/RIA/ORA", "name": "RIA/ORA", "color": "E8F2DF", "default": false, "description": "Issues related to RIA-based workflows and related components"}], "state": "open", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-01-18T14:34:16Z", "updated_at": "2021-05-17T11:52:35Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nI am pushing ~45G to a RIA remote. The UI refreshes very infrequently, and initially made me think that the process had hung. System tools show that this is not the case.\r\n\r\nThe first two lines (\"Push to 'inm7'\" and \"Transfer data to 'inm7-storage'\") both updated early (first 15-20s) but the bottom line seems no only update every 7-10 minutes. Nothing in the UI is updated (time estimate, rate, etc) during these wait periods.\r\n\r\nI'm uploading from a home connection, so the slow transfer rate is expected.\r\n\r\n`htop` and `iotop` show no other activity. `iftop` shows a steady transfer rate; it is not bursty.\r\n\r\n\r\n```\r\n\u2771 datalad -C www push --to inm7\r\nPush to 'inm7':  25%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588                                                            | 1.00/4.00 [00:00<00:00, 7.78k Steps/s]\r\nTransfer data to 'inm7-storage':  50%|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c                               | 2.00/4.00 [00:00<00:00, 5.39k Steps/s]\r\nTotal:   7%|\u2588\u2588\u2588\u2588\u2588\u2588\u258e                                                                              | 3.36G/44.8G [15:18<3:02:16, 3.79M Bytes/s]\r\n```\r\n\r\n#### What steps will reproduce the problem?\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n\r\nDataLad 0.13.7 on Debian Testing\r\n\r\n<details><summary>datalad wtf</summary>\r\n<p>\r\n\r\n```\r\n$ datalad wtf\r\n# WTF\r\n## configuration <SENSITIVE, report disabled by configuration>\r\n## datalad \r\n  - full_version: 0.13.7\r\n  - version: 0.13.7\r\n## dataset \r\n  - id: 0e87a8c2-1c6b-49d5-a9c0-3d962703cc0e\r\n  - metadata: <SENSITIVE, report disabled by configuration>\r\n  - path: /home/aqw/git/inm7/debian_inm7\r\n  - repo: AnnexRepo\r\n## dependencies \r\n  - annexremote: 1.4.5\r\n  - appdirs: 1.4.4\r\n  - boto: 2.49.0\r\n  - cmd:7z: 16.02\r\n  - cmd:annex: 7.20190819+git2-g908476a9b-1~ndall+1\r\n  - cmd:bundled-git: 2.20.1\r\n  - cmd:git: 2.20.1\r\n  - cmd:system-git: 2.30.0\r\n  - cmd:system-ssh: 8.4p1\r\n  - humanize: 3.2.0\r\n  - iso8601: 0.1.13\r\n  - keyring: 21.8.0\r\n  - keyrings.alt: UNKNOWN\r\n  - msgpack: 1.0.2\r\n  - requests: 2.25.1\r\n  - tqdm: 4.56.0\r\n  - wrapt: 1.12.1\r\n## environment \r\n  - LANG: en_US.UTF-8\r\n  - LANGUAGE: en_US.UTF-8\r\n  - LC_ALL: en_US.UTF-8\r\n  - LC_CTYPE: en_US.UTF-8\r\n  - PATH: /home/aqw/.venvs/datalad/bin:/home/aqw/.dotfiles/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/X11R6/bin:/usr/local/games:/usr/games\r\n## extensions \r\n## git-annex \r\n  - build flags: \r\n    - Assistant\r\n    - Webapp\r\n    - Pairing\r\n    - S3\r\n    - WebDAV\r\n    - Inotify\r\n    - DBus\r\n    - DesktopNotify\r\n    - TorrentParser\r\n    - MagicMime\r\n    - Feeds\r\n    - Testsuite\r\n  - dependency versions: \r\n    - aws-0.20\r\n    - bloomfilter-2.0.1.0\r\n    - cryptonite-0.25\r\n    - DAV-1.3.3\r\n    - feed-1.0.0.0\r\n    - ghc-8.4.4\r\n    - http-client-0.5.13.1\r\n    - persistent-sqlite-2.8.2\r\n    - torrent-10000.1.1\r\n    - uuid-1.3.13\r\n    - yesod-1.6.0\r\n  - key/value backends: \r\n    - SHA256E\r\n    - SHA256\r\n    - SHA512E\r\n    - SHA512\r\n    - SHA224E\r\n    - SHA224\r\n    - SHA384E\r\n    - SHA384\r\n    - SHA3_256E\r\n    - SHA3_256\r\n    - SHA3_512E\r\n    - SHA3_512\r\n    - SHA3_224E\r\n    - SHA3_224\r\n    - SHA3_384E\r\n    - SHA3_384\r\n    - SKEIN256E\r\n    - SKEIN256\r\n    - SKEIN512E\r\n    - SKEIN512\r\n    - BLAKE2B256E\r\n    - BLAKE2B256\r\n    - BLAKE2B512E\r\n    - BLAKE2B512\r\n    - BLAKE2B160E\r\n    - BLAKE2B160\r\n    - BLAKE2B224E\r\n    - BLAKE2B224\r\n    - BLAKE2B384E\r\n    - BLAKE2B384\r\n    - BLAKE2BP512E\r\n    - BLAKE2BP512\r\n    - BLAKE2S256E\r\n    - BLAKE2S256\r\n    - BLAKE2S160E\r\n    - BLAKE2S160\r\n    - BLAKE2S224E\r\n    - BLAKE2S224\r\n    - BLAKE2SP256E\r\n    - BLAKE2SP256\r\n    - BLAKE2SP224E\r\n    - BLAKE2SP224\r\n    - SHA1E\r\n    - SHA1\r\n    - MD5E\r\n    - MD5\r\n    - WORM\r\n    - URL\r\n  - local repository version: 5\r\n  - operating system: linux x86_64\r\n  - remote types: \r\n    - git\r\n    - gcrypt\r\n    - p2p\r\n    - S3\r\n    - bup\r\n    - directory\r\n    - rsync\r\n    - web\r\n    - bittorrent\r\n    - webdav\r\n    - adb\r\n    - tahoe\r\n    - glacier\r\n    - ddar\r\n    - git-lfs\r\n    - hook\r\n    - external\r\n  - supported repository versions: \r\n    - 5\r\n    - 7\r\n  - upgrade supported from repository versions: \r\n    - 0\r\n    - 1\r\n    - 2\r\n    - 3\r\n    - 4\r\n    - 5\r\n    - 6\r\n  - version: 7.20190819+git2-g908476a9b-1~ndall+1\r\n## location \r\n  - path: /home/aqw/git/inm7/debian_inm7\r\n  - type: dataset\r\n## metadata_extractors \r\n  - annex: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.annex\r\n    - version: None\r\n  - audio: \r\n    - load_error: No module named 'mutagen' [audio.py:<module>:17]\r\n    - module: datalad.metadata.extractors.audio\r\n  - datacite: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datacite\r\n    - version: None\r\n  - datalad_core: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datalad_core\r\n    - version: None\r\n  - datalad_rfc822: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datalad_rfc822\r\n    - version: None\r\n  - exif: \r\n    - load_error: No module named 'exifread' [exif.py:<module>:16]\r\n    - module: datalad.metadata.extractors.exif\r\n  - frictionless_datapackage: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.frictionless_datapackage\r\n    - version: None\r\n  - image: \r\n    - load_error: No module named 'PIL' [image.py:<module>:16]\r\n    - module: datalad.metadata.extractors.image\r\n  - xmp: \r\n    - load_error: No module named 'libxmp' [xmp.py:<module>:20]\r\n    - module: datalad.metadata.extractors.xmp\r\n## python \r\n  - implementation: CPython\r\n  - version: 3.9.1+\r\n## system \r\n  - distribution: debian/unstable/sid\r\n  - encoding: \r\n    - default: utf-8\r\n    - filesystem: utf-8\r\n    - locale.prefered: UTF-8\r\n  - max_path_length: 286\r\n  - name: Linux\r\n  - release: 5.7.0-1-amd64\r\n  - type: posix\r\n  - version: #1 SMP Debian 5.7.6-1 (2020-06-24)\r\n```\r\n</p>\r\n</details>\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\n\r\nI can share my repo setup if the additional context will help.\r\n\r\n#### Have you had any success using DataLad before? (to assess your expertise/prior luck.  We would welcome your testimonial additions to https://github.com/datalad/datalad/wiki/Testimonials as well)", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5337/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5337/timeline", "performed_via_github_app": null}