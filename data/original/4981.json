{"url": "https://api.github.com/repos/datalad/datalad/issues/4981", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4981/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4981/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4981/events", "html_url": "https://github.com/datalad/datalad/issues/4981", "id": 714267318, "node_id": "MDU6SXNzdWU3MTQyNjczMTg=", "number": 4981, "title": "Approach to streamline credential handling", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2096760260, "node_id": "MDU6TGFiZWwyMDk2NzYwMjYw", "url": "https://api.github.com/repos/datalad/datalad/labels/corpse-in-basement", "name": "corpse-in-basement", "color": "d4c5f9", "default": false, "description": ""}, {"id": 2919091393, "node_id": "MDU6TGFiZWwyOTE5MDkxMzkz", "url": "https://api.github.com/repos/datalad/datalad/labels/credentials", "name": "credentials", "color": "768F68", "default": false, "description": "Issues concerning credential(-management)"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-10-04T08:50:22Z", "updated_at": "2021-04-16T05:28:11Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Credential handling is a bit of dark magic in DataLad, although the foundations are very flexible and should be capable of dealing with any scenario that I can come up with. Previous plans to replace it have not led to any results (e.g. #1783). However, there are long-standing limitations like the lack of a modification API (#396), and priorities (#322).\r\n\r\nThe biggest issue right now (from my POV) is the specification of credentials in non-interactive environments without a credential store being easily available (HPC/HTC). The only practical approach is to supply them via ENV variables. How these must be named is undocumented and knowledge that is only discoverable by the initiated.\r\n\r\nThe last attempt to do something in that direction was #4135 (stalled).\r\n\r\nI propose to adjust credential handling to:\r\n\r\n- use `ConfigManager` instead of direct environment variable inspection (this will open up many standard ways to supply credentials that are all better documented then the present one) -- such a PR should replace #4135\r\n- document a predictable credential (variable) naming scheme\r\n- keep using python-keyring whenever the environment doesn't have what is needed\r\n- address #396 by implementing a datalad command that can at least list, and delete credentials", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4981/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4981/timeline", "performed_via_github_app": null}