{"url": "https://api.github.com/repos/datalad/datalad/issues/5861", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5861/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5861/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5861/events", "html_url": "https://github.com/datalad/datalad/pull/5861", "id": 959328675, "node_id": "MDExOlB1bGxSZXF1ZXN0NzAyNDU5MDI4", "number": 5861, "title": "mimic new logic of git-annex to split_ext", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 3049454433, "node_id": "MDU6TGFiZWwzMDQ5NDU0NDMz", "url": "https://api.github.com/repos/datalad/datalad/labels/patch", "name": "patch", "color": "870048", "default": false, "description": "Increment the patch version when merged"}], "state": "open", "locked": false, "assignee": {"login": "jwodder", "id": 98207, "node_id": "MDQ6VXNlcjk4MjA3", "avatar_url": "https://avatars.githubusercontent.com/u/98207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwodder", "html_url": "https://github.com/jwodder", "followers_url": "https://api.github.com/users/jwodder/followers", "following_url": "https://api.github.com/users/jwodder/following{/other_user}", "gists_url": "https://api.github.com/users/jwodder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwodder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwodder/subscriptions", "organizations_url": "https://api.github.com/users/jwodder/orgs", "repos_url": "https://api.github.com/users/jwodder/repos", "events_url": "https://api.github.com/users/jwodder/events{/privacy}", "received_events_url": "https://api.github.com/users/jwodder/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jwodder", "id": 98207, "node_id": "MDQ6VXNlcjk4MjA3", "avatar_url": "https://avatars.githubusercontent.com/u/98207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwodder", "html_url": "https://github.com/jwodder", "followers_url": "https://api.github.com/users/jwodder/followers", "following_url": "https://api.github.com/users/jwodder/following{/other_user}", "gists_url": "https://api.github.com/users/jwodder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwodder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwodder/subscriptions", "organizations_url": "https://api.github.com/users/jwodder/orgs", "repos_url": "https://api.github.com/users/jwodder/repos", "events_url": "https://api.github.com/users/jwodder/events{/privacy}", "received_events_url": "https://api.github.com/users/jwodder/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/90", "html_url": "https://github.com/datalad/datalad/milestone/90", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/90/labels", "id": 7141415, "node_id": "MI_kwDOANZqws4AbPgn", "number": 90, "title": "0.14.9", "description": "bugfix release if ever to come ", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 1, "closed_issues": 0, "state": "open", "created_at": "2021-09-10T14:21:23Z", "updated_at": "2021-09-10T14:21:46Z", "due_on": null, "closed_at": null}, "comments": 12, "created_at": "2021-08-03T17:18:12Z", "updated_at": "2021-09-29T19:52:48Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/5861", "html_url": "https://github.com/datalad/datalad/pull/5861", "diff_url": "https://github.com/datalad/datalad/pull/5861.diff", "patch_url": "https://github.com/datalad/datalad/pull/5861.patch"}, "body": "The change was introduced in git-annex today\r\nin\r\n\r\n[8.20210803-2-g899983058](https://git.kitenet.net/index.cgi/git-annex.git/commit/?id=899983058f77fbeb67a2ac04016ea26fec5468fa)\r\n\r\nin response to my report\r\n\r\nhttps://git-annex.branchable.com/bugs/should_not_assume_entire_name_to_be_an_extension__63__/\r\n\r\nI have decided to make it git-annex version specific since most likely use is\r\n\"along side with annex operation\" although I could be wrong. ATM we use this\r\none in only few spots:\r\n\r\n\t(git)lena:~datalad/datalad-maint[rf-annex-dotfile-extension]git-annex\r\n\t$> git grep split_ext | grep -v 'test_'\r\n\tdatalad/metadata/aggregate.py:from datalad.support.path import split_ext\r\n\tdatalad/metadata/aggregate.py:        split_ext(key).split('--', 1)[1] if key else key\r\n\tdatalad/plugin/addurls.py:from datalad.support.path import split_ext\r\n\tdatalad/plugin/addurls.py:    root, ext = split_ext(filename)\r\n\tdatalad/support/path.py:def split_ext(filename):\r\n\tdatalad/support/path.py:    >>> from datalad.plugin.addurls import split_ext\r\n\tdatalad/support/path.py:    >>> split_ext(\"filename.py\")\r\n\tdatalad/support/path.py:    >>> split_ext(\"filename.tar.gz\")\r\n\tdatalad/support/path.py:    >>> split_ext(\"filename.above4chars.ext\")\r\n\r\nYet to see with a fresh datalad/git-annex build of tomorrow if anything\r\ngot broken, before we introduce this \"fix\".\r\n\r\nDear @jwodder, please read the haskell diff of [8.20210803-2-g899983058](https://git.kitenet.net/index.cgi/git-annex.git/commit/?id=899983058f77fbeb67a2ac04016ea26fec5468fa) and let me know if the logic I added in Python corresponds (I with there were more tests in annex, which I could have read ;-))", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5861/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5861/timeline", "performed_via_github_app": null}