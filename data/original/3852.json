{"url": "https://api.github.com/repos/datalad/datalad/issues/3852", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3852/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3852/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3852/events", "html_url": "https://github.com/datalad/datalad/issues/3852", "id": 516126549, "node_id": "MDU6SXNzdWU1MTYxMjY1NDk=", "number": 3852, "title": "Hanging while running tests ", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-01T13:54:03Z", "updated_at": "2020-09-04T13:21:54Z", "closed_at": "2020-09-04T13:21:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\nTried to run tests yesterday on a local cluster (installed via miniconda), apparently they immediately hanged:\r\n\r\n```shell\r\n[d31548v@discovery7 tmp]$ TMPDIR=$PWD python -m nose -s -v datalad 2>&1 | tee datalad-tests-home.log\r\nFailure: SkipTest () ... SKIP                                                                                                                                                                                                     \r\ndatalad.cmdline.tests.test_helpers.test_strip_arg_from_argv ... ok\r\ndatalad.cmdline.tests.test_helpers.test_get_repo_instance_annex ...   \r\n```\r\n\r\nand the processes tree:\r\n```shell\r\nd31548v  19053  0.0  0.0 138240  1692 ?        Ss   Oct31   0:00   SCREEN\r\nd31548v  19054  0.0  0.0 128020  4508 pts/10   Ss   Oct31   0:00     /bin/bash\r\nd31548v  26477  0.6  0.0 1887412 127844 pts/10 S+   Oct31   3:54       python -m nose -s -v datalad\r\nd31548v   7915  0.0  0.0      0     0 pts/10   Z+   00:45   0:00         [python] <defunct>\r\nd31548v   2947  0.0  0.0  10028  1572 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch-check\r\nd31548v   2948  0.0  0.0  10028  1584 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch\r\nd31548v   2950  0.0  0.0  10028  1576 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch-check\r\nd31548v   2951  0.0  0.0  10028  1580 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch\r\nd31548v   2954  0.0  0.0  10028  1576 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch-check\r\nd31548v   2955  0.0  0.0  10028  1584 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch\r\nd31548v   2957  0.0  0.0  10036  1628 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch-check\r\nd31548v   2958  0.0  0.0  10036  1640 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch\r\nd31548v   2959  0.0  0.0  10028  1592 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch-check\r\nd31548v   2960  0.0  0.0  10028  1596 pts/10   S+   01:04   0:00         /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git cat-file --batch\r\nd31548v  26478  0.0  0.0 107960   664 pts/10   S+   Oct31   0:00       tee datalad-tests-home.log\r\n```\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n```\r\n[d31548v@discovery7 tmp]$ datalad --version\r\ndatalad 0.12.0rc6\r\n```\r\n\r\n<details><summary>DataLad 0.12.0rc6 WTF (configuration, datalad, dependencies, environment, extensions, git-annex, location, metadata_extractors, python, system)</summary>\r\n\r\n# WTF\r\n## configuration <SENSITIVE, report disabled by configuration>\r\n## datalad \r\n  - version: 0.12.0rc6\r\n  - full_version: 0.12.0rc6\r\n## dependencies \r\n  - cmd:annex: 7.20191024-g6dc2272\r\n  - cmd:git: 2.23.0\r\n  - cmd:bundled-git: 2.23.0\r\n  - cmd:system-git: 2.23.0\r\n  - cmd:system-ssh: 7.4p1\r\n  - appdirs: 1.4.3\r\n  - boto: 2.49.0\r\n  - exifread: 2.1.2\r\n  - git: 3.0.4\r\n  - gitdb: 2.0.6\r\n  - humanize: 0.5.1\r\n  - iso8601: 0.1.12\r\n  - keyring: 19.2.0\r\n  - keyrings.alt: 3.1\r\n  - msgpack: 0.6.2\r\n  - mutagen: 1.41.1\r\n  - requests: 2.22.0\r\n  - wrapt: 1.11.2\r\n## environment \r\n  - PATH: /dartfs-hpc/rc/home/v/d31548v/miniconda/bin:/dartfs-hpc/admin/opt/el7/intel/compilers_and_libraries_2018.1.163/linux/bin/intel64:/usr/local/bin:/usr/lib/qt-3.3/bin:/opt/java/latest/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/opt/bin:/optnfs/moab/active/bin:/dartfs-hpc/admin/etc/cluster_files/scripts:/optnfs/mkerberos/bin:/dartfs-hpc/admin/local/bin:/dartfs-hpc/rc/home/v/d31548v/bin\r\n  - LANG: en_US\r\n  - GIT_PYTHON_GIT_EXECUTABLE: /dartfs-hpc/rc/home/v/d31548v/miniconda/bin/git\r\n## extensions \r\n  - neuroimaging: \r\n    - load_error: None\r\n    - description: Neuroimaging tools\r\n    - module: datalad_neuroimaging\r\n    - version: 0.2.3\r\n    - entrypoints: \r\n      - datalad_neuroimaging.bids2scidata.BIDS2Scidata: \r\n        - module: datalad_neuroimaging.bids2scidata\r\n        - class: BIDS2Scidata\r\n        - names: \r\n          - bids2scidata\r\n        - load_error: None\r\n  - container: \r\n    - load_error: None\r\n    - description: Containerized environments\r\n    - module: datalad_container\r\n    - version: 0.5.0\r\n    - entrypoints: \r\n      - datalad_container.containers_list.ContainersList: \r\n        - module: datalad_container.containers_list\r\n        - class: ContainersList\r\n        - names: \r\n          - containers-list\r\n          - containers_list\r\n        - load_error: None\r\n      - datalad_container.containers_remove.ContainersRemove: \r\n        - module: datalad_container.containers_remove\r\n        - class: ContainersRemove\r\n        - names: \r\n          - containers-remove\r\n          - containers_remove\r\n        - load_error: None\r\n      - datalad_container.containers_add.ContainersAdd: \r\n        - module: datalad_container.containers_add\r\n        - class: ContainersAdd\r\n        - names: \r\n          - containers-add\r\n          - containers_add\r\n        - load_error: None\r\n      - datalad_container.containers_run.ContainersRun: \r\n        - module: datalad_container.containers_run\r\n        - class: ContainersRun\r\n        - names: \r\n          - containers-run\r\n          - containers_run\r\n        - load_error: None\r\n## git-annex \r\n  - version: 7.20191024-g6dc2272\r\n  - build flags: \r\n    - Assistant\r\n    - Webapp\r\n    - Pairing\r\n    - S3\r\n    - WebDAV\r\n    - Inotify\r\n    - DBus\r\n    - DesktopNotify\r\n    - TorrentParser\r\n    - MagicMime\r\n    - Feeds\r\n    - Testsuite\r\n  - dependency versions: \r\n    - aws-0.21.1\r\n    - bloomfilter-2.0.1.0\r\n    - cryptonite-0.25\r\n    - DAV-1.3.3\r\n    - feed-1.0.1.0\r\n    - ghc-8.6.5\r\n    - http-client-0.5.14\r\n    - persistent-sqlite-2.9.3\r\n    - torrent-10000.1.1\r\n    - uuid-1.3.13\r\n    - yesod-1.6.0\r\n  - key/value backends: \r\n    - SHA256E\r\n    - SHA256\r\n    - SHA512E\r\n    - SHA512\r\n    - SHA224E\r\n    - SHA224\r\n    - SHA384E\r\n    - SHA384\r\n    - SHA3_256E\r\n    - SHA3_256\r\n    - SHA3_512E\r\n    - SHA3_512\r\n    - SHA3_224E\r\n    - SHA3_224\r\n    - SHA3_384E\r\n    - SHA3_384\r\n    - SKEIN256E\r\n    - SKEIN256\r\n    - SKEIN512E\r\n    - SKEIN512\r\n    - BLAKE2B256E\r\n    - BLAKE2B256\r\n    - BLAKE2B512E\r\n    - BLAKE2B512\r\n    - BLAKE2B160E\r\n    - BLAKE2B160\r\n    - BLAKE2B224E\r\n    - BLAKE2B224\r\n    - BLAKE2B384E\r\n    - BLAKE2B384\r\n    - BLAKE2BP512E\r\n    - BLAKE2BP512\r\n    - BLAKE2S256E\r\n    - BLAKE2S256\r\n    - BLAKE2S160E\r\n    - BLAKE2S160\r\n    - BLAKE2S224E\r\n    - BLAKE2S224\r\n    - BLAKE2SP256E\r\n    - BLAKE2SP256\r\n    - BLAKE2SP224E\r\n    - BLAKE2SP224\r\n    - SHA1E\r\n    - SHA1\r\n    - MD5E\r\n    - MD5\r\n    - WORM\r\n    - URL\r\n  - remote types: \r\n    - git\r\n    - gcrypt\r\n    - p2p\r\n    - S3\r\n    - bup\r\n    - directory\r\n    - rsync\r\n    - web\r\n    - bittorrent\r\n    - webdav\r\n    - adb\r\n    - tahoe\r\n    - glacier\r\n    - ddar\r\n    - git-lfs\r\n    - hook\r\n    - external\r\n  - operating system: linux x86_64\r\n  - supported repository versions: \r\n    - 7\r\n  - upgrade supported from repository versions: \r\n    - 0\r\n    - 1\r\n    - 2\r\n    - 3\r\n    - 4\r\n    - 5\r\n    - 6\r\n## location \r\n  - path: /dartfs-hpc/rc/home/v/d31548v/tmp\r\n  - type: directory\r\n## metadata_extractors \r\n  - annex: \r\n    - module: datalad.metadata.extractors.annex\r\n    - version: None\r\n    - load_error: None\r\n  - audio: \r\n    - module: datalad.metadata.extractors.audio\r\n    - version: None\r\n    - load_error: None\r\n  - datacite: \r\n    - module: datalad.metadata.extractors.datacite\r\n    - version: None\r\n    - load_error: None\r\n  - datalad_core: \r\n    - module: datalad.metadata.extractors.datalad_core\r\n    - version: None\r\n    - load_error: None\r\n  - datalad_rfc822: \r\n    - module: datalad.metadata.extractors.datalad_rfc822\r\n    - version: None\r\n    - load_error: None\r\n  - exif: \r\n    - module: datalad.metadata.extractors.exif\r\n    - version: None\r\n    - load_error: None\r\n  - frictionless_datapackage: \r\n    - module: datalad.metadata.extractors.frictionless_datapackage\r\n    - version: None\r\n    - load_error: None\r\n  - image: \r\n    - module: datalad.metadata.extractors.image\r\n    - version: None\r\n    - load_error: None\r\n  - xmp: \r\n    - module: datalad.metadata.extractors.xmp\r\n    - load_error: No module named 'libxmp' [xmp.py:<module>:20]\r\n  - bids: \r\n    - module: datalad_neuroimaging.extractors.bids\r\n    - version: None\r\n    - load_error: None\r\n  - dicom: \r\n    - module: datalad_neuroimaging.extractors.dicom\r\n    - version: None\r\n    - load_error: None\r\n  - nidm: \r\n    - module: datalad_neuroimaging.extractors.nidm\r\n    - version: None\r\n    - load_error: None\r\n  - nifti1: \r\n    - module: datalad_neuroimaging.extractors.nifti1\r\n    - version: None\r\n    - load_error: None\r\n## python \r\n  - version: 3.7.4\r\n  - implementation: CPython\r\n## system \r\n  - type: posix\r\n  - name: Linux\r\n  - release: 3.10.0-1062.1.1.el7.x86_64\r\n  - version: #1 SMP Fri Sep 13 22:55:44 UTC 2019\r\n  - distribution: CentOS Linux/7.7.1908/Core\r\n  - max_path_length: 289\r\n  - encoding: \r\n    - default: utf-8\r\n    - filesystem: iso8859-1\r\n    - locale.prefered: ISO-8859-1\r\n</details>\r\n\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3852/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3852/timeline", "performed_via_github_app": null}