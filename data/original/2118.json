{"url": "https://api.github.com/repos/datalad/datalad/issues/2118", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2118/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2118/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2118/events", "html_url": "https://github.com/datalad/datalad/issues/2118", "id": 294937234, "node_id": "MDU6SXNzdWUyOTQ5MzcyMzQ=", "number": 2118, "title": "Publishing to sibling after changes to subdataset only works partially ", "user": {"login": "ejolly", "id": 8481982, "node_id": "MDQ6VXNlcjg0ODE5ODI=", "avatar_url": "https://avatars.githubusercontent.com/u/8481982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ejolly", "html_url": "https://github.com/ejolly", "followers_url": "https://api.github.com/users/ejolly/followers", "following_url": "https://api.github.com/users/ejolly/following{/other_user}", "gists_url": "https://api.github.com/users/ejolly/gists{/gist_id}", "starred_url": "https://api.github.com/users/ejolly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ejolly/subscriptions", "organizations_url": "https://api.github.com/users/ejolly/orgs", "repos_url": "https://api.github.com/users/ejolly/repos", "events_url": "https://api.github.com/users/ejolly/events{/privacy}", "received_events_url": "https://api.github.com/users/ejolly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 442447894, "node_id": "MDU6TGFiZWw0NDI0NDc4OTQ=", "url": "https://api.github.com/repos/datalad/datalad/labels/more-info-needed", "name": "more-info-needed", "color": "fbca04", "default": false, "description": "Key information is missing in order to efficiently tackle the issue"}, {"id": 881374230, "node_id": "MDU6TGFiZWw4ODEzNzQyMzA=", "url": "https://api.github.com/repos/datalad/datalad/labels/possibly-fixed", "name": "possibly-fixed", "color": "77dd77", "default": false, "description": "A fix might be available, but was not (yet) confirmed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-02-06T22:32:32Z", "updated_at": "2020-02-26T09:41:52Z", "closed_at": "2020-02-26T09:41:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\nAfter changing/adding a file in a subdataset and running `datalad save` on both the subdataset and the parent, `datalad publish` throws an error. The sibling *does* receive the updated symlinks to files, but `git status` on the sibling shows that the changes are not committed. \r\n\r\nCalling `datalad save` on the sibling after the pseudo-fail publish commits the changes correctly.\r\n\r\n#### What steps will reproduce the problem?\r\n\r\n``` \r\n[ejolly@ndoli fnl]$ datalad publish --to gza -r\r\npublish(notneeded): preprocessed (dataset)\r\n[ERROR  ] sequence item 1: expected string, NoneType found [publish.py:has_diff:90] (TypeError)\r\n```\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad plugin wtf`)?\r\n0.9.1\r\nUsing branch 0.9.x does not solve the issue\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\nBoth machines are running linux though different flavors: Cent OS 6 (Dartmouth Discovery Cluster) is trying to publish to Ubuntu Xenial machine. \r\n\r\n#### Have you had any success using DataLad before? (Sometimes we get tired of reading bug reports all day and a lil' positive end note does wonders)\r\n\r\nDatalad is awesome.  The ability to easily maintain shared file trees with optional data-files across machines (though just the tip the iceberg of `datalad`'s functionality) makes life SO much better :) \r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2118/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2118/timeline", "performed_via_github_app": null}