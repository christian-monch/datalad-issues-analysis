{"url": "https://api.github.com/repos/datalad/datalad/issues/3184", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3184/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3184/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3184/events", "html_url": "https://github.com/datalad/datalad/pull/3184", "id": 415939024, "node_id": "MDExOlB1bGxSZXF1ZXN0MjU3MzE3NjM3", "number": 3184, "title": "ENH: duecredit support for citing datalad itself AND datasets it opens", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/60", "html_url": "https://github.com/datalad/datalad/milestone/60", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/60/labels", "id": 4073134, "node_id": "MDk6TWlsZXN0b25lNDA3MzEzNA==", "number": 60, "title": "0.11.x", "description": "To collect issues/PRs targetting 0.11.x development line", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 27, "state": "closed", "created_at": "2019-02-20T15:10:42Z", "updated_at": "2020-03-06T19:55:16Z", "due_on": null, "closed_at": "2020-03-06T19:55:16Z"}, "comments": 8, "created_at": "2019-03-01T04:41:19Z", "updated_at": "2019-03-19T18:14:44Z", "closed_at": "2019-03-16T11:33:43Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3184", "html_url": "https://github.com/datalad/datalad/pull/3184", "diff_url": "https://github.com/datalad/datalad/pull/3184.diff", "patch_url": "https://github.com/datalad/datalad/pull/3184.patch"}, "body": "This pull request fixes #2065 - those eyes didn't let me sleep! I will blame @tyarkoni for anything to come.\r\n- includes support for actually DueCrediting any dataset we \"instantiate\"\r\n- ATM just ad-hoc extraction of metadata fields from `bids` and `datacite` (for CRCNS) records. Proper solution will need integration with extractors or some other harmonization which we do not have ATM\r\n- Relies on changes yet to be merged/released in DueCredit: https://github.com/duecredit/duecredit/pull/144\r\n   - basic support for free text citations (so we could at least point to those datasets etc)\r\n   - access to `due.active`\r\n\r\nWith those changes and this PR, we are getting smth like:\r\n```shell\r\n> rm .duecredit.p; DUECREDIT_ENABLE=1 datalad ls ~/datalad/openfmri/ds000241 /home/yoh/datalad/crcns/aa-1                                                                        \r\n/home/yoh/datalad/openfmri/ds000241   [annex]  master  1.0.0+1-2-g6bb6937 2018-06-08/07:44:21  \u2713\r\n/home/yoh/datalad/crcns/aa-1   [annex]  master  \u2717 2018-06-08/10:23:47  \u2713\r\n\r\nDueCredit Report:\r\n- DataLad - Data management and distribution platform / datalad (v 0.11.3.dev22) [1]\r\n  - Single-unit recordings from two auditory areas in male zebra finches / datalad:77271f9e (v 1.0) [2]\r\n  - AK6: Animal Kingdom; 6 Species / datalad:f7ccf78c (v 1.0.0+1-2-g6bb6937) [3]\r\n\r\n1 package cited\r\n0 modules cited\r\n2 functions cited\r\n\r\nReferences\r\n----------\r\n\r\n[1] Visconti di Oleggio Castello, M. et al., 2019. datalad/datalad 0.11.3.\r\n[2] Theunissen, F.E. et al., 2009. Single-unit recordings from two auditory areas in male zebra finches.\r\n[3] Please cite: 'Connolly, A. C., J. S. Guntupalli, J. Gors, M. Hanke, Y. O. Halchenko, Y.-C. Wu, H. Abdi, and J. V. Haxby. The Representation of Biological Classes in the Human Brain. Journal of Neuroscience 32.8 (2012): 2608-618.' and include the following message: 'This data was obtained from the OpenfMRI database. Its accession number is ds000241'\r\n```\r\n\r\n```shell\r\n$> duecredit summary --format bibtex              \r\n@misc{https://doi.org/10.5281/zenodo.808846,\r\n  doi = {10.5281/zenodo.808846},\r\n  url = {https://zenodo.org/record/808846},\r\n  author = {Visconti di Oleggio Castello, Matteo and Halchenko, Yaroslav O. and Hanke, Michael and Poldrack, Benjamin and Meyer, Kyle and Solanky, Debanjum Singh and Alteva, Gergana and Gors, Jason and MacFarlane, Dave and Olaf H\u00e4usler, Christian and Olson, Taylor and Waite, Alex and De La Vega, Alejandro and Sochat, Vanessa and Keshavan, Anisha and Ma, Feilong and Christian, Horea and Poelen, Jorrit and Skyt\u00e9n, Kusti and Visconti di Oleggio Castello, Matteo and Hardcastle, Nell and Stoeter, Torsten and C Lau, Vicky},\r\n  keywords = {data version control, data distribution, execution provenance tracking},\r\n  title = {datalad/datalad 0.11.3},\r\n  publisher = {Zenodo},\r\n  year = {2019}\r\n}\r\n@misc{https://doi.org/10.6080/k0f769gp,\r\n  doi = {10.6080/k0f769gp},\r\n  url = {http://crcns.org/data-sets/aa/aa-1},\r\n  author = {Theunissen, Frederic E. and Hauber, ME and Woolley, Sarah M. N. and Gill, Patrick and Shaevitz, SS and Amin, Noopur and Hsu, A and Singh, NC and Grace, GA and Fremouw, Thane and Zhang, Junli and Cassey, P and Doupe, AJ and David, SV and Vinje, WE},\r\n  keywords = {Neuroscience, Electrophysiology, auditory area, avian (zebra finch)},\r\n  language = {eng},\r\n  title = {Single-unit recordings from two auditory areas in male zebra finches},\r\n  publisher = {CRCNS.org},\r\n  year = {2009}\r\n}\r\n2019-02-28 23:40:55,436 [WARNING] Failed to generate bibtex for Text(u\"Please cite: 'Connolly, A. C., J. S. Guntupalli, J. Gors, M. Hanke, Y. O. Halchenko, Y.-C. Wu, H. Abdi, and J. V. Haxby. The Representation of Biological Classes in the Human Brain. Journal of Neuroscience 32.8 (2012): 2608-618.' and include the following message: 'This data was obtained from the OpenfMRI database. Its accession number is ds000241'\", key=u\"please cite: 'connolly, a. c., j. s. guntupalli, j. gors, m. hanke, y. o. halchenko, y.-c. wu, h. abdi, and j. v. haxby. the representation of biological classes in the human brain. journal of neuroscience 32.8 (2012): 2608-618.' and include the following message: 'this data was obtained from the openfmri database. its accession number is ds000241'\") (io.py:383)\r\n```\r\n\r\nWould be fun to see it output for a real use case with Python analysis script which uses DataLad to get the data -- have any in mind? ;)\r\n\r\n### TODOs\r\n- [x] Basic unit- or integration/smoke test\r\n\r\nPlease have a look @datalad/developers\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3184/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3184/timeline", "performed_via_github_app": null}