{"url": "https://api.github.com/repos/datalad/datalad/issues/2043", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2043/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2043/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2043/events", "html_url": "https://github.com/datalad/datalad/pull/2043", "id": 283088405, "node_id": "MDExOlB1bGxSZXF1ZXN0MTgyMDY3MDUx", "number": 2043, "title": "`save` update, fix bug, test intended behavior, improve docs", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}, {"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}, {"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/48", "html_url": "https://github.com/datalad/datalad/milestone/48", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/48/labels", "id": 3040617, "node_id": "MDk6TWlsZXN0b25lMzA0MDYxNw==", "number": 48, "title": "Release 0.10.0", "description": "The release with new metadata aggregation/search support.\r\n\r\nShould include 0.9.2 fixes etc, i.e. have 0.9.x branch merged", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 51, "state": "closed", "created_at": "2018-01-16T22:43:30Z", "updated_at": "2018-06-13T16:50:07Z", "due_on": null, "closed_at": "2018-06-13T16:50:07Z"}, "comments": 23, "created_at": "2017-12-19T02:52:27Z", "updated_at": "2018-07-15T06:06:41Z", "closed_at": "2018-04-18T15:11:03Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2043", "html_url": "https://github.com/datalad/datalad/pull/2043", "diff_url": "https://github.com/datalad/datalad/pull/2043.diff", "patch_url": "https://github.com/datalad/datalad/pull/2043.patch"}, "body": "#### What is the problem?\r\nwell -- we have `add` to add stuff, which also `saves`.  git allows for a convenient \"commit .\" which saves all changes in the current sub directory, so I thought that it would only make sense to call \"datalad save -m msg .\"... to my surprise it added all kinds of stuff which it should have not!\r\n\r\n#### What steps will reproduce the problem?\r\n\r\n```shell\r\nhopa:~\r\n$> datalad create /tmp/repro\r\n[INFO   ] Creating a new annex repo at /tmp/repro \r\ncreate(ok): /tmp/repro (dataset)                                                 \r\n(dev3) 2 13324.....................................:Mon 18 Dec 2017 09:47:55 PM EST:.\r\nhopa:~\r\n$> cd /tmp/repro\r\n(dev3) 2 13325.....................................:Mon 18 Dec 2017 09:47:56 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> touch 1 2 3\r\n(dev3) 2 13326.....................................:Mon 18 Dec 2017 09:48:03 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> datalad add -m added\\ 1 1\r\nadd(ok): /tmp/repro/1 (file)00:00, ?B/s]                                         \r\nsave(ok): /tmp/repro (dataset)\r\naction summary:\r\n  add (ok: 1)\r\n  save (ok: 1)\r\n(dev3) 2 13327.....................................:Mon 18 Dec 2017 09:48:16 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> rm 1; echo 2>1\r\n\r\n(dev3) 2 13328.....................................:Mon 18 Dec 2017 09:48:28 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> ls -l\r\ntotal 0\r\n-rw------- 1 yoh yoh 0 Dec 18 21:48 1\r\n-rw------- 1 yoh yoh 0 Dec 18 21:48 2\r\n-rw------- 1 yoh yoh 0 Dec 18 21:48 3\r\n(dev3) 2 13329.....................................:Mon 18 Dec 2017 09:48:31 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> datalad save -m \"123\" .\r\nsave(ok): /tmp/repro (dataset)                                                   \r\n(dev3) 2 13330.....................................:Mon 18 Dec 2017 09:48:40 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> git show --stat\r\ncommit 58562e29e3f3469f5e8b7b3f176dafe8044d6ad0 (HEAD -> master)\r\nAuthor: Yaroslav Halchenko <debian@onerussian.com>\r\nDate:   Mon Dec 18 21:48:40 2017 -0500\r\n\r\n    123\r\n\r\n 2 | 1 +\r\n 3 | 1 +\r\n 2 files changed, 2 insertions(+)\r\n(dev3) 2 13331.....................................:Mon 18 Dec 2017 09:48:43 PM EST:.\r\n(git-annex)hopa:/tmp/repro[master]\r\n$> ls -l \r\ntotal 12\r\nlrwxrwxrwx 1 yoh yoh 108 Dec 18 21:48 1 -> .git/annex/objects/2W/kW/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e\r\nlrwxrwxrwx 1 yoh yoh 108 Dec 18 21:48 2 -> .git/annex/objects/2W/kW/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e\r\nlrwxrwxrwx 1 yoh yoh 108 Dec 18 21:48 3 -> .git/annex/objects/2W/kW/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e/MD5E-s0--d41d8cd98f00b204e9800998ecf8427e\r\n```\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad plugin wtf`)?\r\ncurrent master: 0.9.1-521-gf16f652d\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\n#### Have you had any success using DataLad before? (Sometimes we get tired of reading bug reports all day and a lil' positive end note does wonders)\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2043/timeline", "performed_via_github_app": null}