{"url": "https://api.github.com/repos/datalad/datalad/issues/2905", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2905/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2905/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2905/events", "html_url": "https://github.com/datalad/datalad/pull/2905", "id": 367746549, "node_id": "MDExOlB1bGxSZXF1ZXN0MjIxMDgzMjg0", "number": 2905, "title": "ENH+BF: run-procedure", "user": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/53", "html_url": "https://github.com/datalad/datalad/milestone/53", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/53/labels", "id": 3542066, "node_id": "MDk6TWlsZXN0b25lMzU0MjA2Ng==", "number": 53, "title": "Release 0.11.0", "description": "", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 40, "state": "closed", "created_at": "2018-08-02T13:36:42Z", "updated_at": "2018-10-24T18:43:30Z", "due_on": "2018-10-23T07:00:00Z", "closed_at": "2018-10-24T18:43:30Z"}, "comments": 14, "created_at": "2018-10-08T11:28:28Z", "updated_at": "2018-10-22T14:24:16Z", "closed_at": "2018-10-16T12:17:33Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2905", "html_url": "https://github.com/datalad/datalad/pull/2905", "diff_url": "https://github.com/datalad/datalad/pull/2905.diff", "patch_url": "https://github.com/datalad/datalad/pull/2905.patch"}, "body": "Fixes and additions to `run-procedure`:\r\n\r\n- `run-procedure` required the `-d` parameter to discover procedures within a dataset even if called from within the dataset. That's not intuitive and I changed that. When called from within a dataset it will use it (except when passing in sth else via `-d` of course).\r\n- BF: files that are neither executable nor end with `.py` or `.sh` but are in a configured look up location for procedures caused the command to crash. Fixed that.\r\n- procedures can now recursively be discovered in subdatasets as well. The uppermost has highest priority\r\n- added two configs for procedures: `datalad.procedures.NAME.call-format` and `datalad.procedures.NAME.help`. The former replaces (if given) the default, which is based on discovered file type. This allows not only for changing order or even execute different scripts than just python and bash, but also for usage of `run` substitutions.\r\nThe latter is queried by `datalad run-procedure --help-proc NAME`, which yields the value of this config as `message`. So we can provide description, usage info etc. on a procedure.\r\n- proper 'impossible' result when procedure not found (instead of `ValueError`)\r\n\r\nPlease have a look @datalad/developers\r\n", "closed_by": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2905/timeline", "performed_via_github_app": null}