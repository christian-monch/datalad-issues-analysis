{"url": "https://api.github.com/repos/datalad/datalad/issues/5759", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5759/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5759/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5759/events", "html_url": "https://github.com/datalad/datalad/issues/5759", "id": 927433157, "node_id": "MDU6SXNzdWU5Mjc0MzMxNTc=", "number": 5759, "title": "two fresh failures for maint/release in datalad/git-annex", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 132485920, "node_id": "MDU6TGFiZWwxMzI0ODU5MjA=", "url": "https://api.github.com/repos/datalad/datalad/labels/annex", "name": "annex", "color": "0052cc", "default": false, "description": "Git-annex related issue"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/84", "html_url": "https://github.com/datalad/datalad/milestone/84", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/84/labels", "id": 6275407, "node_id": "MDk6TWlsZXN0b25lNjI3NTQwNw==", "number": 84, "title": "0.14.x", "description": "", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 7, "closed_issues": 4, "state": "open", "created_at": "2021-01-05T14:42:35Z", "updated_at": "2021-09-13T13:27:50Z", "due_on": null, "closed_at": null}, "comments": 5, "created_at": "2021-06-22T16:36:46Z", "updated_at": "2021-07-19T21:15:54Z", "closed_at": "2021-07-14T11:45:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "see e.g. https://github.com/datalad/git-annex/runs/2881114136?check_suite_focus=true\r\n\r\n```\r\nERROR: datalad.distribution.tests.test_create_sibling.test_target_ssh_inherit('backup', False, False)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/nose/case.py\", line 198, in runTest\r\n    self.test(*self.arg)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/tests/utils.py\", line 764, in _wrap_with_tempfile\r\n    return t(*(arg + (filename,)), **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/tests/utils.py\", line 764, in _wrap_with_tempfile\r\n    return t(*(arg + (filename,)), **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/distribution/tests/test_create_sibling.py\", line 624, in _test_target_ssh_inherit\r\n    ds.publish(to=remote)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/distribution/dataset.py\", line 503, in apply_func\r\n    return f(**kwargs)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/interface/utils.py\", line 481, in eval_func\r\n    return return_func(generator_func)(*args, **kwargs)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/interface/utils.py\", line 474, in return_func\r\n    results = list(results)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/interface/utils.py\", line 461, in generator_func\r\n    msg=\"Command did not complete successfully\")\r\ndatalad.support.exceptions.IncompleteResultsError: Command did not complete successfully. 1 failed:\r\n[{'action': 'publish',\r\n  'message': ('failed to push to %s: %s;%s',\r\n              'magical',\r\n              'refs/heads/master -> refs/heads/master [rejected] '\r\n              '(non-fast-forward)',\r\n              \" pushed: ['43c9324..5600e27']\"),\r\n  'path': '/tmp/datalad_temp__test_target_ssh_inheritdk_6i6mv',\r\n  'refds': '/tmp/datalad_temp__test_target_ssh_inheritdk_6i6mv',\r\n  'status': 'error',\r\n  'type': 'dataset'}]\r\n\r\n======================================================================\r\nFAIL: datalad.core.distributed.tests.test_clone.test_reckless(True,)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/nose/case.py\", line 198, in runTest\r\n    self.test(*self.arg)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/tests/utils.py\", line 764, in _wrap_with_tempfile\r\n    return t(*(arg + (filename,)), **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/tests/utils.py\", line 764, in _wrap_with_tempfile\r\n    return t(*(arg + (filename,)), **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/tests/utils.py\", line 764, in _wrap_with_tempfile\r\n    return t(*(arg + (filename,)), **kw)\r\n  File \"/opt/hostedtoolcache/Python/3.7.10/x64/lib/python3.7/site-packages/datalad/core/distributed/tests/test_clone.py\", line 442, in check_reckless\r\n    & stat.S_IWGRP)\r\nAssertionError: None\r\n\r\n----------------------------------------------------------------------\r\nRan 1264 tests in 3799.074s\r\n\r\nFAILED (SKIP=93, errors=1, failures=1)\r\n```\r\n\r\nwe did release `maint` since then but I guess the difference is due to `git-annex` version change/release\r\n\r\n```\r\n(tinuous-dev) datalad@smaug:/mnt/datasets/datalad/ci/git-annex/builds/2021/06$ grep 'Versions:' cron-2021062[12]/build-ubuntu.yaml-*-failed/2_test-datalad\\ \\(maint\\).txt\r\ncron-20210621/build-ubuntu.yaml-315-a1f634dc-failed/2_test-datalad (maint).txt:2021-06-21T04:22:30.3341980Z Versions: annexremote=1.5.0 appdirs=1.4.4 boto=2.49.0 cmd:7z=16.02 cmd:annex=8.20210428+git408-gc5149cfe9-1~ndall+1 cmd:bundled-git=2.24.0 cmd:git=2.24.0 cmd:system-git=2.32.0 cmd:system-ssh=8.2p1 humanize=3.9.0 iso8601=0.1.14 keyring=23.0.1 keyrings.alt=4.0.2 msgpack=1.0.2 patoolib=1.12 requests=2.25.1 tqdm=4.61.1 wrapt=1.12.1\r\ncron-20210622/build-ubuntu.yaml-317-a1f634dc-failed/2_test-datalad (maint).txt:2021-06-22T04:01:41.3931603Z Versions: annexremote=1.5.0 appdirs=1.4.4 boto=2.49.0 cmd:7z=16.02 cmd:annex=8.20210621+git12-g4b1b9d7a8-1~ndall+1 cmd:bundled-git=2.24.0 cmd:git=2.24.0 cmd:system-git=2.32.0 cmd:system-ssh=8.2p1 humanize=3.9.0 iso8601=0.1.14 keyring=23.0.1 keyrings.alt=4.0.2 msgpack=1.0.2 patoolib=1.12 requests=2.25.1 tqdm=4.61.1 wrapt=1.12.1\r\n```\r\n\r\ngoing from `8.20210428+git408-gc5149cfe9-1~ndall+1` to `8.20210621+git12-g4b1b9d7a8-1~ndall+1`", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5759/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5759/timeline", "performed_via_github_app": null}