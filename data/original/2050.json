{"url": "https://api.github.com/repos/datalad/datalad/issues/2050", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2050/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2050/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2050/events", "html_url": "https://github.com/datalad/datalad/pull/2050", "id": 283761954, "node_id": "MDExOlB1bGxSZXF1ZXN0MTU5NTY3NjY0", "number": 2050, "title": "A variety of tuneups to AutomagicIO to avoid redoing the same queries in 'search'", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-12-21T03:19:33Z", "updated_at": "2017-12-22T06:45:38Z", "closed_at": "2017-12-22T06:45:38Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2050", "html_url": "https://github.com/datalad/datalad/pull/2050", "diff_url": "https://github.com/datalad/datalad/pull/2050.diff", "patch_url": "https://github.com/datalad/datalad/pull/2050.patch"}, "body": "It might fix the \"stalling\" I have reported somewhere (probably was closed since \"happened on smaug\")\r\nIt should make AutomagicIO of lesser burden on 'search' since before now it would query for the same files over and over again , and look for git repo for every directory etc. So now\r\n\r\n- gets a mode to consider each path only once\r\n- caches repos for each directory considered\r\n- skips paths containing `/.git/` since also not expecting anything to be under annex control there\r\n- assumes that there could be no subdataset under .datalad (for now) which helps to avoid\r\n  looking up for .git for every bloody objects/XX directory (funny part is that then it was all in vein in my case since repo is anyways is git, not annex)\r\n- a bit improved and harmonized logging there\r\n- potentially, at least partially addresses #2041 (thanks @mih for digging the # out)\r\n\r\nDisclaimer: some of the fixes will make also into 0.9.x branch later on", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2050/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2050/timeline", "performed_via_github_app": null}