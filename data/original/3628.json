{"url": "https://api.github.com/repos/datalad/datalad/issues/3628", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3628/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3628/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3628/events", "html_url": "https://github.com/datalad/datalad/issues/3628", "id": 486547621, "node_id": "MDU6SXNzdWU0ODY1NDc2MjE=", "number": 3628, "title": "git-annex v5 upgrade will likely break test suite", "user": {"login": "joeyh", "id": 16392, "node_id": "MDQ6VXNlcjE2Mzky", "avatar_url": "https://avatars.githubusercontent.com/u/16392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joeyh", "html_url": "https://github.com/joeyh", "followers_url": "https://api.github.com/users/joeyh/followers", "following_url": "https://api.github.com/users/joeyh/following{/other_user}", "gists_url": "https://api.github.com/users/joeyh/gists{/gist_id}", "starred_url": "https://api.github.com/users/joeyh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joeyh/subscriptions", "organizations_url": "https://api.github.com/users/joeyh/orgs", "repos_url": "https://api.github.com/users/joeyh/repos", "events_url": "https://api.github.com/users/joeyh/events{/privacy}", "received_events_url": "https://api.github.com/users/joeyh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-28T18:41:50Z", "updated_at": "2019-09-25T02:51:46Z", "closed_at": "2019-09-25T02:51:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "git-annex is close to defaulting to v7 and auto-upgrading v5 repos to it. http://git-annex.branchable.com/todo/v7_path_toward_default/\r\n\r\nIt looks like this will break the datalad test suite since it expects git annex init --version=5 to make a v5 repo and not upgrade to v7. (Or v7 to v8 at some future point.)\r\n\r\nOne way to future proof the test suite would be to look at the git-annex version output for \"supported repository versions\" and assume if the version you expect is not listed there, it will have upgraded to a later version.\r\n\r\n(Also, it would be helpful to get any feedback on this transition that you may have. In particular there was an old issue with sqlite on lustre that is potentially blocking but I don't know if it's still an issue.)", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3628/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3628/timeline", "performed_via_github_app": null}