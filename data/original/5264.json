{"url": "https://api.github.com/repos/datalad/datalad/issues/5264", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5264/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5264/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5264/events", "html_url": "https://github.com/datalad/datalad/issues/5264", "id": 775917762, "node_id": "MDU6SXNzdWU3NzU5MTc3NjI=", "number": 5264, "title": "\"too busy\" monitoring for output", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 289240596, "node_id": "MDU6TGFiZWwyODkyNDA1OTY=", "url": "https://api.github.com/repos/datalad/datalad/labels/performance", "name": "performance", "color": "f4b2d8", "default": false, "description": "Improve performance of an existing feature"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-12-29T14:22:46Z", "updated_at": "2021-01-04T13:59:13Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Running heudiconv via `datalad containers-run`.  Noted that for every heudiconv which ATM takes about 30% CPU there is about 10% CPU busy datalad.  ATM heudiconv does not even produce any output, so really there is no reason for datalad to consume that much of CPU\r\n\r\n```\r\n  9.00%   9.00%    1.83s     1.83s   _get_output_online (datalad/cmd.py:729)\r\n  0.00%   0.00%   0.020s    0.020s   _internal_poll (subprocess.py:1755)\r\n  0.00%   0.00%   0.020s    0.020s   _internal_poll (subprocess.py:1741)\r\n  0.00%   9.00%   0.000s     1.87s   run (datalad/cmd.py:933)\r\n  0.00%   9.00%   0.000s     1.87s   <module> (datalad:11)\r\n  0.00%   9.00%   0.000s     1.87s   run_command (datalad/core/local/run.py:626)\r\n  0.00%   9.00%   0.000s     1.87s   main (datalad/cmdline/main.py:527)\r\n  0.00%   9.00%   0.000s     1.87s   __call__ (datalad_container/containers_run.py:131)\r\n  0.00%   9.00%   0.000s     1.87s   call_from_parser (datalad/interface/base.py:786)\r\n  0.00%   0.00%   0.000s    0.040s   _get_output_online (datalad/cmd.py:714)\r\n  0.00%   9.00%   0.000s     1.87s   _process_results (datalad/interface/utils.py:570)\r\n```\r\n\r\n# WTF\r\n## datalad \r\n  - full_version: 0.13.6\r\n  - version: 0.13.6\r\n## system \r\n  - distribution: centos/7/Core\r\n  - encoding: \r\n    - default: utf-8\r\n    - filesystem: utf-8\r\n    - locale.prefered: UTF-8\r\n  - max_path_length: 292\r\n  - name: Linux\r\n  - release: 3.10.0-957.5.1.el7.x86_64\r\n  - type: posix\r\n  - version: #1 SMP Fri Feb 1 14:54:57 UTC 2019\r\n\r\ninstalled via conda-forge, ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5264/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5264/timeline", "performed_via_github_app": null}