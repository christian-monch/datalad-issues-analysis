{"url": "https://api.github.com/repos/datalad/datalad/issues/4634", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4634/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4634/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4634/events", "html_url": "https://github.com/datalad/datalad/pull/4634", "id": 640574467, "node_id": "MDExOlB1bGxSZXF1ZXN0NDM1OTU5ODYy", "number": 4634, "title": "TST: clone: Fix clock-dependent test", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-17T16:21:19Z", "updated_at": "2020-06-19T21:24:38Z", "closed_at": "2020-06-19T21:23:08Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4634", "html_url": "https://github.com/datalad/datalad/pull/4634", "diff_url": "https://github.com/datalad/datalad/pull/4634.diff", "patch_url": "https://github.com/datalad/datalad/pull/4634.patch"}, "body": "test_clone_unborn_head() is supposed to set up a scenario where the\r\nfreshly cloned repo has a master branch with no commits and three\r\nnon-master remote tracking branches, including origin/git-annex.  As\r\nof 8f5cc450c (ENH: clone: Try to switch away from an unborn branch,\r\n2020-04-01), clone() handles this situation by checking out the\r\nnon-git-annex ref with the most recent committer date.\r\n\r\nWith Git v2.27.0, specifically 7c5045fc18 (ref-filter: apply fallback\r\nrefname sort only after all user sorts, 2020-05-03), this test fails\r\nintermittently.  The failure is due to a bad approach in the test: it\r\ncommits a change to the abc branch and then one to the chooseme\r\nbranch, with the hope that chooseme will have the later committer\r\ndate.  Given the resolution of Git time stamps, though, both refs can\r\neasily have identical values for the committer date.  Before Git's\r\n7c5045fc18, this issue was masked by Git failing to fall back to\r\nalphabetical sorting of the refs.\r\n\r\nUse the set_date() helper to generate reliable time stamp differences.\r\n", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4634/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4634/timeline", "performed_via_github_app": null}