{"url": "https://api.github.com/repos/datalad/datalad/issues/2555", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2555/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2555/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2555/events", "html_url": "https://github.com/datalad/datalad/issues/2555", "id": 326445549, "node_id": "MDU6SXNzdWUzMjY0NDU1NDk=", "number": 2555, "title": "Use-case \"encrypted archive\"", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-05-25T09:21:43Z", "updated_at": "2020-01-19T11:10:52Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "I need to conduct an analysis for which I need some files that are available on the web in a password-protected ZIP file. Alternatively, there is a Datalad dataset that references the files in the ZIP archive, but I do not have access to any of the remote with these file that the dataset knows about.\r\n\r\nWhen I use `datalad add-archive-content` on the ZIP file in annex it fails, because it doesn't have it an ddoesn't ask for the password. It actually asks, but datalad doesn't channel the request through to the terminal.\r\n@yarikoptic \r\n\r\nHere is a demo file (password is 'password'): [demo_encrypted.zip](https://github.com/datalad/datalad/files/2612172/demo_encrypted.zip)\r\n\r\n```\r\n(datalad3-dev) mih@meiner /tmp % datalad rev-create 2555\r\n[INFO   ] Creating a new annex repo at /tmp/2555 \r\n(dataset)                                                              \r\n(datalad3-dev) mih@meiner /tmp % cd 2555\r\n(datalad3-dev) mih@meiner /tmp/2555 (git)-[master] % git annex addurl https://github.com/datalad/datalad/files/2612172/demo_encrypted.zip\r\naddurl https://github.com/datalad/datalad/files/2612172/demo_encrypted.zip \r\n(to github.com_datalad_datalad_files_2612172_demo_encrypted.zip) ok\r\n(recording state in git...)\r\n(datalad3-dev) 1 mih@meiner /tmp/2555 (git)-[master] % datalad rev-save\r\nsave(ok): . (dataset)\r\n(datalad3-dev) mih@meiner /tmp/2555 (git)-[master] % datalad add-archive-content github.com_datalad_datalad_files_2612172_demo_encrypted.zip\r\n[INFO   ] Adding content of the archive github.com_datalad_datalad_files_2612172_demo_encrypted.zip into annex <AnnexRepo path=/tmp/2555 (<class 'datalad.support.annexrepo.AnnexRepo'>)> \r\n[INFO   ] Initiating special remote datalad-archives \r\n\r\n<HANGS INDEFINITELY until CTRL-C>\r\n\r\n[ERROR  ] Command `['/usr/bin/7z', 'x', '-o/tmp/2555/.git/datalad/tmp/archives/2aac00bcd5', '--', '/tmp/2555/.git/annex/objects/zK/mF/MD5E-s372--b7cffd22d5c4e560726691cf87dfdf7f.zip/MD5E-s372--b7cffd22d5c4e560726691cf87dfdf7f.zip']' returned non-zero exit status 2 [util.py:run_checked:227] (PatoolError) \r\n```", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2555/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2555/timeline", "performed_via_github_app": null}