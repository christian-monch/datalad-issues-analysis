{"url": "https://api.github.com/repos/datalad/datalad/issues/1199", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1199/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1199/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1199/events", "html_url": "https://github.com/datalad/datalad/issues/1199", "id": 201800053, "node_id": "MDU6SXNzdWUyMDE4MDAwNTM=", "number": 1199, "title": "`update` needs attention", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 385404347, "node_id": "MDU6TGFiZWwzODU0MDQzNDc=", "url": "https://api.github.com/repos/datalad/datalad/labels/for%20our%20information", "name": "for our information", "color": "fbca04", "default": false, "description": "Announcement-type issues (possibly inconsequential)"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-19T09:04:19Z", "updated_at": "2020-03-12T14:47:23Z", "closed_at": "2020-03-12T14:47:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Update needs an RF to bring it in line with the more recently refurbished commands. Please share you ideas on what needs to be done. Further work needs decisions on the following @bpoldrack @yarikoptic:\r\n\r\n- [ ] update --merge fails without giving a clear message (conflicts in .gitmodules) why #1525\r\n- [x] Implement `--reobtain-data`, possibly based on #1203\r\n- [x] Decide whether `--merge` should become ON by default\r\n- [x] Give some (any) indication of available updates when run without `--merge` -- at present it will simply say nothing, and even say nothing (and do nothing) if there are actual updates (#1219)\r\n- [ ] Process trees of datasets and save potentially updated states accordingly (see comment at the end of #1370)\r\n- [x] Unify with other commands and say \"what to update\" rather than \"from where\" as the primary argument(s) #1185 \r\n- [x] Simplify complexity by just supporting an update from one sibling at a time, instead of am ordered list. It could be done for a list, but complexity explodes when considering trees of datasets at once.\r\n- [ ] if a path to a file or directory *within* a dataset is given as input: shall we fail and ask for root paths only, or shall we inform that the associated dataset will be updated? MIH: leaning towards the latter.\r\n- [ ] decide whether `--fetch-all` combined with `--merge` should remain \"get and apply all available update\", or whether `--fetch-all`should literally mean just that and `--merge` would only merge what is indicated by `--sibling` (MIH: the latter is cleaner)\r\n- [x] for updating an annex repo switch away from `annex merge` to `annex sync --no-push --no-pull` in order to properly handle managed branches (e.g. in v6 repos)\r\n- [x] decide on return value(s). MIH: Seems JSON-like output makes most sense. Proposal:\r\n    * which dataset was updated\r\n    * from which sibling (report actual name in case of requested default)\r\n    * state/commit/tag? updated from and to, in case of merge-enabled update\r\n- [x] Resolution for #1007 \r\n- [x] Resolution for #953\r\n- [x] User reporting #868 \r\n- [x] Multi-branch support #793\r\n- [x] No tags fetched #712 \r\n- [x] #705\r\n- [x] #1306 \r\n- [x] #1307 \r\n- [ ] #1313 more strategies for `-reobtain-data`", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1199/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1199/timeline", "performed_via_github_app": null}