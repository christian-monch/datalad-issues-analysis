{"url": "https://api.github.com/repos/datalad/datalad/issues/4254", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4254/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4254/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4254/events", "html_url": "https://github.com/datalad/datalad/issues/4254", "id": 577214775, "node_id": "MDU6SXNzdWU1NzcyMTQ3NzU=", "number": 4254, "title": "uninstall in default mode (no --no-check) should verify availability of its state on any remote", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}, {"id": 2803278929, "node_id": "MDU6TGFiZWwyODAzMjc4OTI5", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-uninstall", "name": "cmd-uninstall", "color": "FEF2C0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-06T22:44:15Z", "updated_at": "2021-07-28T08:42:54Z", "closed_at": "2021-07-28T08:42:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "continuation of #4253 \r\n\r\nThe \"promise\" of uninstall is that it wouldn't loose any \"data\".  I had no annexed data but had \"unique\" (no longer present on their original remote) git repositories.  But uninstall does not verify availability of present in its branches and referenced git \"objects\" on any of the remotes, and thus uninstalls happily:\r\n\r\n```shell\r\n(dev3) 2 16392.....................................:Fri 06 Mar 2020 05:27:26 PM EST:.\r\n(git)smaug:/mnt/btrfs/datasets/datalad/crawl/hcp-openaccess[master]git\r\n$> datalad uninstall -r HCP1200/675661 HCP1200/680250 HCP1200/680452 HCP1200/683256 HCP1200/685058 HCP1200/686969 HCP1200/687163\r\nuninstall(ok): HCP1200/675661/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/675661/T1w (dataset)\r\nuninstall(ok): HCP1200/675661/unprocessed (dataset)\r\nuninstall(ok): HCP1200/675661 (dataset)\r\nuninstall(ok): HCP1200/680250/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/680250/T1w (dataset)\r\nuninstall(ok): HCP1200/680250/unprocessed (dataset)\r\nuninstall(ok): HCP1200/680250 (dataset)\r\nuninstall(ok): HCP1200/680452/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/680452/T1w (dataset)\r\nuninstall(ok): HCP1200/680452/unprocessed (dataset)\r\nuninstall(ok): HCP1200/680452 (dataset)\r\nuninstall(ok): HCP1200/683256/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/683256/T1w (dataset)\r\nuninstall(ok): HCP1200/683256/unprocessed (dataset)\r\nuninstall(ok): HCP1200/683256 (dataset)\r\nuninstall(ok): HCP1200/685058/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/685058/T1w (dataset)\r\nuninstall(ok): HCP1200/685058/unprocessed (dataset)\r\nuninstall(ok): HCP1200/685058 (dataset)\r\nuninstall(ok): HCP1200/686969/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/686969/T1w (dataset)\r\nuninstall(ok): HCP1200/686969/unprocessed (dataset)\r\nuninstall(ok): HCP1200/686969 (dataset)\r\nuninstall(ok): HCP1200/687163/MNINonLinear (dataset)\r\nuninstall(ok): HCP1200/687163/T1w (dataset)\r\nuninstall(ok): HCP1200/687163/unprocessed (dataset)\r\nuninstall(ok): HCP1200/687163 (dataset)\r\naction summary:\r\n  drop (notneeded: 28)\r\n  uninstall (ok: 28)\r\ndatalad uninstall -r HCP1200/675661 HCP1200/680250 HCP1200/680452      114.97s user 27.78s system 102% cpu 2:19.38 total\r\n```\r\n\r\nrelated issue and discussion (with similar suggested check) I found is https://github.com/datalad/datalad/issues/2967#issuecomment-435148720  ", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4254/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4254/timeline", "performed_via_github_app": null}