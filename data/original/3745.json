{"url": "https://api.github.com/repos/datalad/datalad/issues/3745", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3745/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3745/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3745/events", "html_url": "https://github.com/datalad/datalad/issues/3745", "id": 501090621, "node_id": "MDU6SXNzdWU1MDEwOTA2MjE=", "number": 3745, "title": "datalad (singularity) run singularity image", "user": {"login": "bpinsard", "id": 1155388, "node_id": "MDQ6VXNlcjExNTUzODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1155388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpinsard", "html_url": "https://github.com/bpinsard", "followers_url": "https://api.github.com/users/bpinsard/followers", "following_url": "https://api.github.com/users/bpinsard/following{/other_user}", "gists_url": "https://api.github.com/users/bpinsard/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpinsard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpinsard/subscriptions", "organizations_url": "https://api.github.com/users/bpinsard/orgs", "repos_url": "https://api.github.com/users/bpinsard/repos", "events_url": "https://api.github.com/users/bpinsard/events{/privacy}", "received_events_url": "https://api.github.com/users/bpinsard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-01T19:10:42Z", "updated_at": "2019-10-02T15:55:16Z", "closed_at": "2019-10-02T15:50:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\nOn an HPC I use datalad in a singularity container (to have the required up-to-date git-annex), but if I want to datalad run a preprocessing pipeline that is a singularity image, of course it won't find singularity in the datalad container.\r\n\r\neg.\r\n```\r\n$ singularity run  datalad.sif run -i .... -i ...  'singularity run .... fmriprep.sif ......'\r\n[INFO   ] Making sure inputs are available (this may take some time) \r\n[INFO   ] == Command start (output follows) ===== \r\n/bin/sh: 1: singularity: not found\r\n[INFO   ] == Command exit (modification check follows) ===== \r\n```\r\n\r\nIs there any smart way around that limitation?\r\nOr do I necessarily need to manually compile git-annex in the home folder and install datalad in a virtualenv on the HPC instead of using singularity?\r\n\r\nThanks.", "closed_by": {"login": "bpinsard", "id": 1155388, "node_id": "MDQ6VXNlcjExNTUzODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1155388?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpinsard", "html_url": "https://github.com/bpinsard", "followers_url": "https://api.github.com/users/bpinsard/followers", "following_url": "https://api.github.com/users/bpinsard/following{/other_user}", "gists_url": "https://api.github.com/users/bpinsard/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpinsard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpinsard/subscriptions", "organizations_url": "https://api.github.com/users/bpinsard/orgs", "repos_url": "https://api.github.com/users/bpinsard/repos", "events_url": "https://api.github.com/users/bpinsard/events{/privacy}", "received_events_url": "https://api.github.com/users/bpinsard/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3745/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3745/timeline", "performed_via_github_app": null}