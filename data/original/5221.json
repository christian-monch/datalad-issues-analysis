{"url": "https://api.github.com/repos/datalad/datalad/issues/5221", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5221/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5221/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5221/events", "html_url": "https://github.com/datalad/datalad/issues/5221", "id": 760393259, "node_id": "MDU6SXNzdWU3NjAzOTMyNTk=", "number": 5221, "title": "ENH: git-remote-datalad", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-12-09T14:47:33Z", "updated_at": "2021-09-04T15:30:58Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "A git remote, based on git-remote-helpers (rclone, OSF), as outlined in https://github.com/datalad/datalad/issues/4671 (proposing to move common functionality somewhere to be shared;  I think we could just keep add it under `datalad/support/gitremote.py` for now/ever).\r\n`git-remote-datalad` would provide support for cloning URLs like `datalad::URL` (or `datalad+URL`, what is the difference is the question), where URL is something supported by our downloaders (authentication etc).\r\n\r\nthis should allow us to host datasets e.g back to NDA, and then `clone`/`install` from it, while data would reside in original NDA datasets (within the same permission group)\r\n\r\nAspects\r\n- we ideally would need to host multiple (e.g. 40k) (sub)datasets within a single \"NDA collection\"\r\n- there is no \"directories\", so we cannot have `.git/` to store `refs` and `repo.zip` (as done by datalad-osf) (similarly for figshare, zenodo, etc)\r\n- it would be nice if for a \"collection\" it would be easy to identify the \"top level\" super-dataset\r\n\r\nA general solution would be to upload `UUID-git-refs` and `UUID-git-repo.zip` (or `.xz`? rclone uses `.xz` but -osf uses .zip) in the flat hierarchy.  I did not add leading `.` since it might be not allowed by some systems. \r\nBut then `git-remote-datalad` would need to be provided a URL with UUID in it to choose the one to install, and thus we would not be able to simply point to an NDA collection.  May be for top level super-dataset then we would allow for a plain `git-refs` and `git-repo.zip` so they could be automagically figured out.\r\n\r\nRemote could follow the same convention as ria remotes and thus handle URL schema `datalad+URL[#UUID]`\r\n\r\nedit: #543 is some old(er) issue on trying to gather metadata from NDA.  Not sure if relates anyhow, just adding backref", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5221/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5221/timeline", "performed_via_github_app": null}