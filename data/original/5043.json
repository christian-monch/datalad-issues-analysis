{"url": "https://api.github.com/repos/datalad/datalad/issues/5043", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5043/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5043/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5043/events", "html_url": "https://github.com/datalad/datalad/issues/5043", "id": 722106923, "node_id": "MDU6SXNzdWU3MjIxMDY5MjM=", "number": 5043, "title": "Disambiguate multiple entry-point implementations", "user": {"login": "christian-monch", "id": 17925232, "node_id": "MDQ6VXNlcjE3OTI1MjMy", "avatar_url": "https://avatars.githubusercontent.com/u/17925232?v=4", "gravatar_id": "", "url": "https://api.github.com/users/christian-monch", "html_url": "https://github.com/christian-monch", "followers_url": "https://api.github.com/users/christian-monch/followers", "following_url": "https://api.github.com/users/christian-monch/following{/other_user}", "gists_url": "https://api.github.com/users/christian-monch/gists{/gist_id}", "starred_url": "https://api.github.com/users/christian-monch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/christian-monch/subscriptions", "organizations_url": "https://api.github.com/users/christian-monch/orgs", "repos_url": "https://api.github.com/users/christian-monch/repos", "events_url": "https://api.github.com/users/christian-monch/events{/privacy}", "received_events_url": "https://api.github.com/users/christian-monch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-15T08:14:08Z", "updated_at": "2020-10-19T09:26:29Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "#### Extensions might overwrite entry point implementations\r\n\r\nDatalad uses setuptools' entry points in a few places to determine at runtime to discover procedures, extensions, extractors, and indexers. The current code base often assumes that there is only one implementation of any given entry point (groupname + \".\" + name). Due to setuptools' design this is true within a single distribution. But it might not be true if we consider multiple distributions, for example, the datalad core distribution and the datalad-metalad extension. If those would use the same entry point, multiple implementations would be discoverable within the datalad code.\r\n\r\n\r\nThere are places in datalad where overwriting is logged on debug level, e.g. _generate_extension_api. There are places, where overwriting is currently ignored, e.g. extractors and indexers. There are places I did not investigate yet, e.g. add_entrypoints_to_interface_groups.\r\n\r\n##### What should be done\r\n\r\n1. We should decide where we allow/disallow multiple entry-point implementations\r\n2. Where we allow multiple implementations, we should define a way to specify the implementation, e.g. provide a preferred distribution name\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5043/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5043/timeline", "performed_via_github_app": null}