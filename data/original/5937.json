{"url": "https://api.github.com/repos/datalad/datalad/issues/5937", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5937/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5937/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5937/events", "html_url": "https://github.com/datalad/datalad/issues/5937", "id": 982054535, "node_id": "MDU6SXNzdWU5ODIwNTQ1MzU=", "number": 5937, "title": "Decomplexify/unify `create-sibling-github`", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2096760260, "node_id": "MDU6TGFiZWwyMDk2NzYwMjYw", "url": "https://api.github.com/repos/datalad/datalad/labels/corpse-in-basement", "name": "corpse-in-basement", "color": "d4c5f9", "default": false, "description": ""}, {"id": 2803374957, "node_id": "MDU6TGFiZWwyODAzMzc0OTU3", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-create-sibling-github", "name": "cmd-create-sibling-github", "color": "FEF2C0", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2021-08-29T10:02:43Z", "updated_at": "2021-09-22T17:47:28Z", "closed_at": "2021-09-22T17:47:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Looking into #5935 I realized that the pieces of the `gogs` API we would need in order to implement `create-sibling-gogs` are fairly minimal. This made me wonder how that would translate to our use of the github API in `create-sibling-github`, given that one is modeled after the other.\r\n\r\nThis brought two realizations:\r\n\r\n1. The `create-sibling-github` implementation is fairly sophisticated  (in the bad way). After the removal of user/pass auth, it is hard to see why we would need to be using this credential-test-cycle approach anymore -- or even the support of these `hub` tokens. It seems just taking a personal access token is all it needs.\r\n2. If (1) is implemented, we will be performing (very) few different API calls. All of them trivial (no sessions management or alike). Just adding the token to the header of any request is all that is needed in order to make these requests with something generic as `requests`. If we would consider getting rid of pygithub, we could implement `create-sibling-gogs` with almost the exact same code as a reworked `create-sibling-github` -- we would just need to make the API endpoint mapping explicit and use targeted error handlers.\r\n\r\n(1) and (2) combined would pretty much automatically also handle #3755 and #5324, as both a features of the less-centralized nature of gogs too.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5937/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5937/timeline", "performed_via_github_app": null}