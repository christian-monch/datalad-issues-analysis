{"url": "https://api.github.com/repos/datalad/datalad/issues/4372", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4372/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4372/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4372/events", "html_url": "https://github.com/datalad/datalad/issues/4372", "id": 592403077, "node_id": "MDU6SXNzdWU1OTI0MDMwNzc=", "number": 4372, "title": "Merge conflict after human error", "user": {"login": "dorianps", "id": 9083517, "node_id": "MDQ6VXNlcjkwODM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/9083517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dorianps", "html_url": "https://github.com/dorianps", "followers_url": "https://api.github.com/users/dorianps/followers", "following_url": "https://api.github.com/users/dorianps/following{/other_user}", "gists_url": "https://api.github.com/users/dorianps/gists{/gist_id}", "starred_url": "https://api.github.com/users/dorianps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dorianps/subscriptions", "organizations_url": "https://api.github.com/users/dorianps/orgs", "repos_url": "https://api.github.com/users/dorianps/repos", "events_url": "https://api.github.com/users/dorianps/events{/privacy}", "received_events_url": "https://api.github.com/users/dorianps/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-02T06:58:51Z", "updated_at": "2020-04-02T19:46:22Z", "closed_at": "2020-04-02T19:46:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\nWe have a superdataset with 450 subdatasets. They stay in a master location (M). Few days ago a collaborator started a clone A and started to work on it with commits like:\r\n\r\nM123 -> A1 -> A2\r\n\r\nHe had some problems and decided to start over at a different location with a new clone B with commits like this:\r\n\r\nM123 -> B1 > B2 -> B3 -> B4\r\n\r\nWhen the work was done, I merged clone A by mistake in the master location. After finding out it was the wrong sibling, I tried to merge clone B but that does not merge anymore due to conflicts. I tried to `reset --hard` the superdataset in the master location to roll back to commit M123, but conflicts are still there. The conflicts arise because 141 subdatasets have diverging commits now, so git cannot choose how to merge those. I am thinking to `reset --hard` every subdataset to the last commit M123, hoping this will bring to the state before I merged clone A, but doing this manually for 141 subdatasets is a time killer. I also tried to do `git merge -X --theirs` on the superdataset but it did not work. On the other hand, I am uncertain if git reset would leave anything out of datalad control (i.e., not sure if annex needs separate roll backs).\r\n\r\nCan you help me with how to resolve this issue?\r\n\r\n#### What steps will reproduce the problem?\r\nNA\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n0.12.4\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\nNA\r\n\r\n#### Have you had any success using DataLad before? (to assess your expertise/prior luck.  We would welcome your testimonial additions to https://github.com/datalad/datalad/wiki/Testimonials as well)\r\nYes.", "closed_by": {"login": "dorianps", "id": 9083517, "node_id": "MDQ6VXNlcjkwODM1MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/9083517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dorianps", "html_url": "https://github.com/dorianps", "followers_url": "https://api.github.com/users/dorianps/followers", "following_url": "https://api.github.com/users/dorianps/following{/other_user}", "gists_url": "https://api.github.com/users/dorianps/gists{/gist_id}", "starred_url": "https://api.github.com/users/dorianps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dorianps/subscriptions", "organizations_url": "https://api.github.com/users/dorianps/orgs", "repos_url": "https://api.github.com/users/dorianps/repos", "events_url": "https://api.github.com/users/dorianps/events{/privacy}", "received_events_url": "https://api.github.com/users/dorianps/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4372/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4372/timeline", "performed_via_github_app": null}