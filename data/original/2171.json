{"url": "https://api.github.com/repos/datalad/datalad/issues/2171", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2171/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2171/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2171/events", "html_url": "https://github.com/datalad/datalad/issues/2171", "id": 297149144, "node_id": "MDU6SXNzdWUyOTcxNDkxNDQ=", "number": 2171, "title": "diff --recursive seems to limit to 1 level by default!", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/47", "html_url": "https://github.com/datalad/datalad/milestone/47", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/47/labels", "id": 3040616, "node_id": "MDk6TWlsZXN0b25lMzA0MDYxNg==", "number": 47, "title": "Release 0.9.2", "description": "Bugfix/enhancements release for \"stable\" branch", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 52, "state": "closed", "created_at": "2018-01-16T22:43:07Z", "updated_at": "2018-03-04T17:08:13Z", "due_on": null, "closed_at": "2018-03-04T17:08:13Z"}, "comments": 11, "created_at": "2018-02-14T16:00:03Z", "updated_at": "2018-02-16T15:20:11Z", "closed_at": "2018-02-16T14:23:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\nI assumed that `--recursive` should by default have no limit, that is how other commands function AFAIK.  Seems to be not the case with `diff` and nothing in its docstring about that if that is intended\r\n\r\n```shell\r\n(git)smaug:/mnt/btrfs/datasets/datalad/crawl/dicoms/dartmouth-phantoms[master]git\r\n$> datalad diff --recursive                   \r\n   modified(dataset): bids_test4-20161014\r\n   modified(dataset): bids_test4-20161014/phantom-1\r\n   modified(dataset): bids_test4-20161014/phantom-2\r\n   modified(dataset): bids_test4-20161014/phantom-3\r\n   modified(dataset): bids_test4-20161014/phantom-4\r\n   modified(dataset): bids_test4-20161014/phantom-5\r\n   modified(dataset): bids_test4-20161014/phantom-6\r\n   modified(dataset): bids_test4-20161014/phantom-7\r\n   modified(dataset): bids_test4-20161014/phantom-8\r\n   modified(dataset): bids_test4-20161014/phantom-9\r\n\r\n$> datalad diff --recursive --recursion-limit=3\r\n   modified(dataset): bids_test4-20161014\r\n   modified(dataset): bids_test4-20161014/phantom-1\r\n   modified(dataset): bids_test4-20161014/phantom-2\r\n   modified(dataset): bids_test4-20161014/phantom-3\r\n   modified(dataset): bids_test4-20161014/phantom-4\r\n   modified(dataset): bids_test4-20161014/phantom-5\r\n   modified(dataset): bids_test4-20161014/phantom-6\r\n   modified(dataset): bids_test4-20161014/phantom-7\r\n   modified(dataset): bids_test4-20161014/phantom-8\r\n   modified(dataset): bids_test4-20161014/phantom-9\r\n      modified(file): bids_test4-20161014/phantom-1/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-2/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-3/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-4/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-5/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-6/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-7/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-8/.datalad/config\r\n      modified(file): bids_test4-20161014/phantom-9/.datalad/config\r\n```\r\n```shell\r\n$> datalad diff --help | grep -3 recursi  \r\nUsage: datalad diff [-h] [-d DATASET] [--revision [REVISION EXPRESSION]]\r\n                    [--staged] [--ignore-subdatasets IGNORE_SUBDATASETS]\r\n                    [--report-untracked REPORT_UNTRACKED] [-r]\r\n                    [--recursion-limit LEVELS]\r\n                    [PATH [PATH ...]]\r\n\r\nReport changes of dataset components.\r\n--\r\n                        work tree of subdatasets, only changes to the\r\n                        revisions stored in the parent dataset are shown.\r\n                        Using \"all\" hides all changes to subdatasets. Note,\r\n                        even with \"all\" recursive execution will still report\r\n                        other changes in any existing subdataset, only the\r\n                        subdataset record in a parent dataset is not\r\n                        evaluated. Constraints: value must be one of ('none',\r\n--\r\n                        in fully untracked directories. Constraints: value\r\n                        must be one of ('no', 'normal', 'all') [Default:\r\n                        'normal']\r\n  -r, --recursive       if set, recurse into potential subdataset. [Default:\r\n                        False]\r\n  --recursion-limit LEVELS\r\n                        limit recursion into subdataset to the given number of\r\n                        levels. Constraints: value must be convertible to type\r\n                        'int' [Default: None]\r\n```\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad plugin wtf`)?\r\nbleeding edge master 0.9.1-783-g4f58c02c\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2171/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2171/timeline", "performed_via_github_app": null}