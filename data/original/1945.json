{"url": "https://api.github.com/repos/datalad/datalad/issues/1945", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1945/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1945/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1945/events", "html_url": "https://github.com/datalad/datalad/issues/1945", "id": 269965612, "node_id": "MDU6SXNzdWUyNjk5NjU2MTI=", "number": 1945, "title": "make plugins the 1st class citizen of datalad", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-10-31T13:51:31Z", "updated_at": "2018-03-20T07:37:14Z", "closed_at": "2018-03-20T07:37:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\nThis is not to be fixed right away but I just wanted to express in writing my whining a disturbance which plugins brought into the view and possibly just my not clear view on their purpose and difference in \"role\" from regular commands.\r\nAs far as I see them ATM, they are just the same \"datalad commands\" but defined differently and with the possibility for flexibly being added by the user/admin to become available.  The only argument I have heard so far on why they aren't full \"blown\" datalad commands, was \"they are just a python function\".  That is ok.  Our interfaces definitions are pretty much a \"function\" as well (well - glorified into a staticmethod of a class).  But those are just implementation details -- either they are full blown kids of the Interface with _args or a function with parameters described (hopefully) in a docstring. It should be e.g. possible to construct a \"command\" interface from a plugin definition (function) if needed.\r\n\r\nReciprocally I do not see why any interface command couldn't be considered a plugin and thus possibly participate in (not used by me yet) `--run-after` and `--run-before` dance.\r\n\r\nATM plugins are also an ugly duckling with `--show-plugin-help` and `--show-plugin-info` (bloody thing just did it and committed whenever I expected it just to show some kind of info):\r\n\r\n```shell\r\n(git)hopa:~pymvpa/pymvpa2-feedstock[bf]git\r\n$> datalad plugin add_readme --show-plugin-info \r\nadd_readme(ok): /home/yoh/proj/pymvpa/pymvpa2-feedstock/README.rst (file)\r\nadd(ok): /home/yoh/proj/pymvpa/pymvpa2-feedstock/README.rst (file)\r\nsave(ok): /home/yoh/proj/pymvpa/pymvpa2-feedstock (dataset)\r\naction summary:\r\n  add (ok: 1)\r\n  add_readme (ok: 1)\r\n  save (ok: 1)\r\n```\r\n\r\nWhat triggered my whining to condence:\r\nPlaying a bit with conda, I liked how their interface for conda command just gets extended right away if you install additional `conda-build` or `conda-smithy` packages.  I do not see why, in principle, our interface could be extended with plugins, may be groupped into another section of --help-np, and something like --help-commands  providing concise listing of all the commands (without current 2 lines per each) similar to `datalad plugins` output\r\n\r\n#### What steps will reproduce the problem?\r\n\r\ntry to use `datalad plugin`\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1945/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1945/timeline", "performed_via_github_app": null}