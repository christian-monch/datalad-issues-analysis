{"url": "https://api.github.com/repos/datalad/datalad/issues/2747", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2747/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2747/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2747/events", "html_url": "https://github.com/datalad/datalad/issues/2747", "id": 347746131, "node_id": "MDU6SXNzdWUzNDc3NDYxMzE=", "number": 2747, "title": "Symlinks not saved to the dataset", "user": {"login": "simon-dube", "id": 10710692, "node_id": "MDQ6VXNlcjEwNzEwNjky", "avatar_url": "https://avatars.githubusercontent.com/u/10710692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simon-dube", "html_url": "https://github.com/simon-dube", "followers_url": "https://api.github.com/users/simon-dube/followers", "following_url": "https://api.github.com/users/simon-dube/following{/other_user}", "gists_url": "https://api.github.com/users/simon-dube/gists{/gist_id}", "starred_url": "https://api.github.com/users/simon-dube/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simon-dube/subscriptions", "organizations_url": "https://api.github.com/users/simon-dube/orgs", "repos_url": "https://api.github.com/users/simon-dube/repos", "events_url": "https://api.github.com/users/simon-dube/events{/privacy}", "received_events_url": "https://api.github.com/users/simon-dube/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-08-06T00:41:56Z", "updated_at": "2019-03-20T15:56:28Z", "closed_at": "2019-03-20T15:56:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\nIn my current setup, I have a Google Drive remote with a GitHub sibling.\r\nWhen I create a symlink in a dataset and save it, I get this for result:\r\n`save(ok): [path to dataset]`\r\nIf I publish it, it is then present on GitHub as a symlbolic link.\r\n\r\nHowever, `git-annex whereis [path to symlink]` returns nothing.\r\nAdditionnally, the file cannot be dropped, resulting in: `drop(notneeded): [path to symlink] (file) [no annex'ed content]` \r\nWhen performing a `datalad get`, the following result is displayed `get(notneeded): [path to symlink] (file) [already present]`\r\n#### What steps will reproduce the problem?\r\n1) Create a symbolic link to any file on disk via `ln -s`\r\n2) `datalad save [path to symlink]`\r\n3) `datalad publish --to [remote] --transfer-data all`\r\n#### What version of DataLad are you using?\r\nDatalad: datalad 0.10.1\r\nOS: Ubuntu 18.04.1 LTS\r\n#### Is there anything else that would be useful to know in this context?\r\nI experimented with hardlinks and I was wondering if the results I had were expected. When saving a hardlink, the actual file content was added to the `.git/annex/objects`. However, what this does is that it actually creates a copy of the file. According to what I found regarding [hard links](https://stackoverflow.com/questions/185899/what-is-the-difference-between-a-symbolic-link-and-a-hard-link), the fact that what was previously a link to a given file is now its own separate file may feel a bit odd. Usually, the hard link would still link to the original data and if this data is modified, this would appear when opening the file from the hard link. I am still new to symlinks and hardlinks, but I was wondering if an option to transform the hardlink into a symlink could be a good option. Still such a thing would also mean that deleting the original file would result in the actual file deletion which is not the case with hardlinks. The current implementation might be the best trade off regarding them, but I was curious to see if such an option could be a nice to have.\r\n\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2747/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2747/timeline", "performed_via_github_app": null}