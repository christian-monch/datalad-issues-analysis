{"url": "https://api.github.com/repos/datalad/datalad/issues/2596", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2596/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2596/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2596/events", "html_url": "https://github.com/datalad/datalad/issues/2596", "id": 328255593, "node_id": "MDU6SXNzdWUzMjgyNTU1OTM=", "number": 2596, "title": "FOI: iter_entry_points requires \"proper\" installation since relies on having .egg-info", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-05-31T18:51:01Z", "updated_at": "2019-12-21T14:13:46Z", "closed_at": "2019-12-21T14:13:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nTL;ML (too long more later ;-) )  Debian package build fails, since dh-python helper runs tests within .pybuild/cpython2_2.7_datalad/build while datalad.egg-info is only within the main source codebase... that causes entry points for the extractors, even though shipped alongside with the main codebase, to not be found and tests to fail.\r\n\r\noverall should be fixed in dh-python probably one way or another, but I also wondered if we should be more resilient to such cases and make sure that \"entry points\" provided within the main code base are guaranteed to be found in either case.  Moreover such centralization would be desired for \"isolating\" the build, so that it doesn't pick up something (older datalad?) installed system wide and possibly registering entry points as well -- then we could explicitly state to not include \"outside\" entry points while running package build tests", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2596/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2596/timeline", "performed_via_github_app": null}