{"url": "https://api.github.com/repos/datalad/datalad/issues/1699", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1699/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1699/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1699/events", "html_url": "https://github.com/datalad/datalad/issues/1699", "id": 249154944, "node_id": "MDU6SXNzdWUyNDkxNTQ5NDQ=", "number": 1699, "title": "datalad save ideally shouldn't explore entire hierarchy and rely on \"git status\" output may be?", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}, {"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-08-09T20:41:05Z", "updated_at": "2017-08-17T12:38:41Z", "closed_at": "2017-08-17T12:38:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "save -r seems to traverse full hierarchy, which is slower than just to query git status first for what paths might be needed saving.\r\n\r\ninitially encountered when had only one dataset known to be modified but datalad was oldish so decided to test current master and \r\n```shell\r\n$> datalad save -m \"Added initial subdataset with sherlock for MIND-2017\" -r\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nipype-2017/ds000114 (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nipype-2017 (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017/ds000114/derivatives/freesurfer (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017/ds000114/derivatives/fmriprep (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017/ds000114 (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/nih-2017 (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/mind-2017/sherlock (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops/mind-2017 (dataset)\r\nsave(notneeded): /mnt/btrfs/datasets/datalad/crawl/workshops (dataset)\r\naction summary:\r\n  save (notneeded: 9)\r\n(dev)2 14833.....................................:Wed 09 Aug 2017 04:38:01 PM EDT:.\r\n(git)smaug:/mnt/btrfs/datasets/datalad/crawl/workshops[master]git\r\n$> git status\r\nOn branch master\r\nnothing to commit, working directory clean\r\n(dev)2 14834.....................................:Wed 09 Aug 2017 04:38:32 PM EDT:.\r\n(git)smaug:/mnt/btrfs/datasets/datalad/crawl/workshops[master]git\r\n$> datalad --version\r\ndatalad 0.8.0.dev1\r\n```\r\n\r\nso -- it does get through the entire sub-hierarchy one by one, although could just see that all is clean according to fast \"git status\"", "closed_by": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1699/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1699/timeline", "performed_via_github_app": null}