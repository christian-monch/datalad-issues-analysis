{"url": "https://api.github.com/repos/datalad/datalad/issues/2867", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2867/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2867/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2867/events", "html_url": "https://github.com/datalad/datalad/issues/2867", "id": 362929069, "node_id": "MDU6SXNzdWUzNjI5MjkwNjk=", "number": 2867, "title": "`publish` may not be happy with v6", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-23T09:49:55Z", "updated_at": "2019-06-26T04:43:49Z", "closed_at": "2019-06-26T04:43:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Not the result of an in-depth analysis, but glancing through the code I get the feeling that there is way too much magic in there that does not anticipate what needs to be sync'ed locally and pushed remotely in order to actually publish successfully -- when acknowledging the fact that the current branch is frequently not the one you actually want to \"push\" [think adjusted/master(unlocked)].\r\n\r\nLooking at the potential for combinatorial issues in the space of `--since`, `--missing` and specification of individual paths I am in cold sweat. If I end up as the one approaching this, I'd go for a new (maybe `sync`) command that first implements the bare necessities separately without any of the anticipation logic of the current `publish`. Intuitively, I'd say that this minimum is the thinnest possible wrapper around `annex sync` that also works with plain git repos, likely without support for `--recursive`.\r\n\r\nA future `publish` can then be built on top of this command.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2867/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2867/timeline", "performed_via_github_app": null}