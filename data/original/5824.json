{"url": "https://api.github.com/repos/datalad/datalad/issues/5824", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5824/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5824/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5824/events", "html_url": "https://github.com/datalad/datalad/issues/5824", "id": 953059305, "node_id": "MDU6SXNzdWU5NTMwNTkzMDU=", "number": 5824, "title": "Clarify the \"promise\" of a .config \"life cycle\"", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 519289523, "node_id": "MDU6TGFiZWw1MTkyODk1MjM=", "url": "https://api.github.com/repos/datalad/datalad/labels/on%20hold%20-%20input%20required", "name": "on hold - input required", "color": "fbca04", "default": false, "description": "Work on this issue cannot proceed until critical feedback was given"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2021-07-26T16:05:32Z", "updated_at": "2021-07-26T16:37:29Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "NB/ref: inspired to file it while going through https://github.com/datalad/datalad/issues/5798, we have a relatively expansive and not yet sure if always guaranteed to react to external changes handling of config. #4364 was one of the recentish manifestations where I had put some discussion but ATM I do not have a clear picture/scope of the problem. May be it \"does not exist\" and we could close it...\r\n\r\n<details>\r\n<summary>extract from pull/4364#issuecomment-607288130 , for which I thought I filed a dedicated issue, but failed to find:</summary> \r\n\r\nhttps://github.com/datalad/datalad/pull/4364#issuecomment-607288130  :\r\n\r\nwell, that failing test is pretty much just a litmus indicator of a changed behavior from 0.12.x to current master -- somehow before we were triggering reload of the config upon those new `Dataset()` calls whenever now we don't.\r\n\r\n... failing now test shouldn't be testing the \"scope of life of the .config\" ... -- I think we just need to decide on clear definition of the \"life scope\" of the config, i.e. when we promise to react to external changes to config.  ATM I believe we at large react only if we change them or know that they might have been changed by the git command we ran.\r\nI am ok if we decide to either \"not monitor at all\", \"check once in a while (5 sec?)\" (so add this `.reload` but add some timeout handling to `reload()`), promise in future to use inotify or not, etc.\r\n\r\nOr alternative dimension of promises -- \"we reload whenever a 'new' *Repo or Dataset is requested\" (it feels like that is what it was before, and what this PR is \"fixing\" but too aggressively), \"we reload whenever `.config` is requested\" (that is exactly what this #4364 PR is doing).\r\n \r\nOtherwise it is not clear what is our \"promise\" on the up-to-date'ness of the `.config`.\r\n\r\n</details>\r\n\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5824/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5824/timeline", "performed_via_github_app": null}