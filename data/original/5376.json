{"url": "https://api.github.com/repos/datalad/datalad/issues/5376", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5376/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5376/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5376/events", "html_url": "https://github.com/datalad/datalad/issues/5376", "id": 794875558, "node_id": "MDU6SXNzdWU3OTQ4NzU1NTg=", "number": 5376, "title": "How to deal with the javascript blobs in the code base", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2096760260, "node_id": "MDU6TGFiZWwyMDk2NzYwMjYw", "url": "https://api.github.com/repos/datalad/datalad/labels/corpse-in-basement", "name": "corpse-in-basement", "color": "d4c5f9", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2021-01-27T08:14:55Z", "updated_at": "2021-04-13T13:38:42Z", "closed_at": "2021-04-13T13:38:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Github tells that 20% of the codebase are javascript https://github.com/datalad/datalad/search?l=javascript These are largely static, sometimes extremely outdated versions of javascript libraries:\r\n\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/tests/qunit/sinon-1.17.5.js (version not even listed on upstream website anymore, current is 9.2.4!)\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/assets/js/jquery-2.2.4.js (2.x branch is no longer supported upstream, 3.5.1 is current)\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/assets/js/md5-2.3.0.js (uptodate)\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/tests/qunit/qunit-2.0.1.js (~4 years old, 2.14.0 is current)\r\n-  https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/assets/js/jquery.dataTables-1.10.12.js (1.10.23 is current, unclear if it could be even made to work with jquery 2x)\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/assets/js/showdown-1.8.5-33-g0c6ce94.js (~3 years old, 1.9.1 is current)\r\n- https://github.com/datalad/datalad/blob/7c1219d17036d5b22cc69d0185ab0a03609467db/datalad/resources/website/tests/qunit/sinon-qunit-1.0.0.js (~10 years old, 2.0 is newer and already 6 years old)\r\n\r\nSo with few exceptions these are very outdated. Moreover, they just sit in the source repo and have received no maintenance after 2018 (some no a single change after the initial inclusion).\r\n\r\nWe should discuss how to handle this code in the future.\r\n\r\nAn initial step could be to pull the (large) static js library blobs from the repo, and replace them with adhoc downloads from an alternative source.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5376/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5376/timeline", "performed_via_github_app": null}