{"url": "https://api.github.com/repos/datalad/datalad/issues/5820", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5820/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5820/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5820/events", "html_url": "https://github.com/datalad/datalad/issues/5820", "id": 952552992, "node_id": "MDU6SXNzdWU5NTI1NTI5OTI=", "number": 5820, "title": "Replace os.path imports with custom helper", "user": {"login": "adswa", "id": 29738718, "node_id": "MDQ6VXNlcjI5NzM4NzE4", "avatar_url": "https://avatars.githubusercontent.com/u/29738718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adswa", "html_url": "https://github.com/adswa", "followers_url": "https://api.github.com/users/adswa/followers", "following_url": "https://api.github.com/users/adswa/following{/other_user}", "gists_url": "https://api.github.com/users/adswa/gists{/gist_id}", "starred_url": "https://api.github.com/users/adswa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adswa/subscriptions", "organizations_url": "https://api.github.com/users/adswa/orgs", "repos_url": "https://api.github.com/users/adswa/repos", "events_url": "https://api.github.com/users/adswa/events{/privacy}", "received_events_url": "https://api.github.com/users/adswa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 180416763, "node_id": "MDU6TGFiZWwxODA0MTY3NjM=", "url": "https://api.github.com/repos/datalad/datalad/labels/good%20first%20issue", "name": "good first issue", "color": "fbca04", "default": true, "description": ""}, {"id": 545918236, "node_id": "MDU6TGFiZWw1NDU5MTgyMzY=", "url": "https://api.github.com/repos/datalad/datalad/labels/DX", "name": "DX", "color": "0052cc", "default": false, "description": "developer experience"}, {"id": 1148380859, "node_id": "MDU6TGFiZWwxMTQ4MzgwODU5", "url": "https://api.github.com/repos/datalad/datalad/labels/easy", "name": "easy", "color": "fbca04", "default": false, "description": "easy to fix issue, good starting point for a contribution"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2021-07-26T06:29:50Z", "updated_at": "2021-07-26T16:40:12Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "In #5814 @yarikoptic noted that there is an alternative to ``os.path`` imports:\r\n\r\n> we also have `datalad/support/path.py` which provides few extra functions but primarily a replacement for `os.path` imports with some guards added for unicode filenames handling.  I guess neither me nor anyone else switched to use it systematically and was doing imports `import datalad.support.path as op` only whenever running into unicode issues... surprisingly I find only a single import of such kind!\r\n```shell\r\n$> git grep 'import .*\\.path.*as op' | grep -v 'os\\.path'\r\ndatalad/plugin/addurls.py:import datalad.support.path as op\r\n```\r\n>but we do few direct ones:\r\n\r\n```shell\r\n$> git grep support.path -- datalad\r\ndatalad/customremotes/archives.py:from ..support.path import exists\r\ndatalad/customremotes/base.py:from ..support.path import exists, join as opj, dirname, lexists\r\ndatalad/distribution/tests/test_siblings.py:from datalad.support.path import (\r\ndatalad/interface/results.py:from datalad.support.path import robust_abspath\r\ndatalad/metadata/aggregate.py:from datalad.support.path import split_ext\r\ndatalad/plugin/addurls.py:import datalad.support.path as op\r\ndatalad/plugin/addurls.py:from datalad.support.path import split_ext\r\ndatalad/plugin/export_to_figshare.py:    from ..support.path import basename\r\ndatalad/support/archives.py:from datalad.support.path import (\r\n``` \r\n\r\n> [...] think it might be worth to \"solidify\" that we use that helper submodule instead of `os.path`\r\n\r\nRecording it here as a new issue to not loose the comment. ", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5820/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5820/timeline", "performed_via_github_app": null}