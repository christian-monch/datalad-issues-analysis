{"url": "https://api.github.com/repos/datalad/datalad/issues/4580", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4580/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4580/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4580/events", "html_url": "https://github.com/datalad/datalad/issues/4580", "id": 626174557, "node_id": "MDU6SXNzdWU2MjYxNzQ1NTc=", "number": 4580, "title": "gdrive datalad howto", "user": {"login": "satra", "id": 184063, "node_id": "MDQ6VXNlcjE4NDA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/184063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satra", "html_url": "https://github.com/satra", "followers_url": "https://api.github.com/users/satra/followers", "following_url": "https://api.github.com/users/satra/following{/other_user}", "gists_url": "https://api.github.com/users/satra/gists{/gist_id}", "starred_url": "https://api.github.com/users/satra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satra/subscriptions", "organizations_url": "https://api.github.com/users/satra/orgs", "repos_url": "https://api.github.com/users/satra/repos", "events_url": "https://api.github.com/users/satra/events{/privacy}", "received_events_url": "https://api.github.com/users/satra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-05-28T02:57:46Z", "updated_at": "2020-05-29T02:37:35Z", "closed_at": "2020-05-29T02:37:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "i'm trying to create a dataset, where i can push the files to a rclone remote (gdrive in this specific case, but hopefully will work otherwise). and then access this dataset on a different computer. both computers have rclone and i can fetch the files with rclone itself.\r\n\r\ni installed using conda into a new environment:\r\n```\r\nconda create -n datalad python=3 datalad rclone\r\n```\r\nthen i had to copy this file into the bin directory of the environment: `https://raw.githubusercontent.com/DanielDent/git-annex-remote-rclone/master/git-annex-remote-rclone` (and `chmod +x` it)\r\n\r\ninside my datalad dataset, i could do this:\r\n`git annex initremote <remotename> type=external externaltype=rclone target=<rclone-label-of-gdrive> prefix=<remote-folder-name> chunk=50MiB encryption=shared mac=HMACSHA512 rclone_layout=lower`\r\nand then i could copy data from local to remote\r\n`git-annex copy --to=<remotename> zip_files.txt`\r\n\r\n**i tried datalad publish but that didn't work.** (btw, many of the handbook examples use `datalad push` but that doesn't seem to exist as a datalad subcommand.\r\n\r\nafter that:\r\n```\r\ndatalad create-sibling-github testdatalad\r\ndatalad publish --to=github\r\n```\r\nand that went through the process of creating and pushing the repo to github. (this bit also required me to change the git remote for github to use my ssh key)\r\n\r\nand now technically i should be able to clone the repo from github and then fetch the data from gdrive\r\n\r\nbut alas on my computer which is configured fine with rclone, i cannot seem to fetch the file.\r\n\r\n```\r\n$ rclone ls gd-sig://testdatalad/\r\n  1526639 0d0/805/GPGHMACSHA512--574520d238f4afcc96e3fdb2b2d5efd295fb4ae7b3941170e335c0ebcb5840580be0d6835aa7cf04cc69ebefec77b5f89c4249f6a1cbbfad464c8611cfae13b7\r\n```\r\n\r\ngit-annex whereis shows me that it is configured but \r\n\r\n```\r\n$ git-annex get zip_files.txt \r\nget zip_files.txt (not available) \r\n  Try making some of these repositories available:\r\n  \t8cf1e069-a518-42fd-be6f-8ef794a06832 -- mygdsigremote\r\n\r\n  (Note that these git remotes have annex-ignore set: origin)\r\nfailed\r\ngit-annex: get: 1 failed\r\n$ git annex emableremote mygdsigremote\r\ngit-annex: Unknown command 'emableremote'\r\n\r\nDid you mean one of these?\r\n\tenableremote\r\n\r\n$ git annex enableremote mygdsigremote\r\nenableremote mygdsigremote ok\r\n(recording state in git...)\r\n(datalad) [satra@MacBook-Pro-8 testdatalad (master)]$ git-annex get zip_files.txt \r\nget zip_files.txt (from mygdsigremote...) \r\n2020/05/27 22:48:57 ERROR : : error reading source directory: directory not found\r\n2020/05/27 22:48:57 ERROR : Attempt 1/3 failed with 1 errors and: directory not found\r\n2020/05/27 22:48:57 ERROR : : error reading source directory: directory not found\r\n2020/05/27 22:48:57 ERROR : Attempt 2/3 failed with 1 errors and: directory not found\r\n2020/05/27 22:48:57 ERROR : : error reading source directory: directory not found\r\n2020/05/27 22:48:57 ERROR : Attempt 3/3 failed with 1 errors and: directory not found\r\n2020/05/27 22:48:57 Failed to copy: directory not found\r\n\r\n  Unable to access these remotes: mygdsigremote\r\n\r\n  Try making some of these repositories available:\r\n  \t8cf1e069-a518-42fd-be6f-8ef794a06832 -- [mygdsigremote]\r\n\r\n  (Note that these git remotes have annex-ignore set: origin)\r\nfailed\r\ngit-annex: get: 1 failed\r\n\r\n```\r\n\r\ni suspect this command `git annex emableremote mygdsigremote` is not doing what i think it should be doing :)", "closed_by": {"login": "satra", "id": 184063, "node_id": "MDQ6VXNlcjE4NDA2Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/184063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/satra", "html_url": "https://github.com/satra", "followers_url": "https://api.github.com/users/satra/followers", "following_url": "https://api.github.com/users/satra/following{/other_user}", "gists_url": "https://api.github.com/users/satra/gists{/gist_id}", "starred_url": "https://api.github.com/users/satra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/satra/subscriptions", "organizations_url": "https://api.github.com/users/satra/orgs", "repos_url": "https://api.github.com/users/satra/repos", "events_url": "https://api.github.com/users/satra/events{/privacy}", "received_events_url": "https://api.github.com/users/satra/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4580/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4580/timeline", "performed_via_github_app": null}