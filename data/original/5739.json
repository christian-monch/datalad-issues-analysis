{"url": "https://api.github.com/repos/datalad/datalad/issues/5739", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5739/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5739/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5739/events", "html_url": "https://github.com/datalad/datalad/issues/5739", "id": 918795838, "node_id": "MDU6SXNzdWU5MTg3OTU4Mzg=", "number": 5739, "title": "Unable to drop text files added with download-url", "user": {"login": "mankoff", "id": 145117, "node_id": "MDQ6VXNlcjE0NTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/145117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mankoff", "html_url": "https://github.com/mankoff", "followers_url": "https://api.github.com/users/mankoff/followers", "following_url": "https://api.github.com/users/mankoff/following{/other_user}", "gists_url": "https://api.github.com/users/mankoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mankoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mankoff/subscriptions", "organizations_url": "https://api.github.com/users/mankoff/orgs", "repos_url": "https://api.github.com/users/mankoff/repos", "events_url": "https://api.github.com/users/mankoff/events{/privacy}", "received_events_url": "https://api.github.com/users/mankoff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2021-06-11T14:04:46Z", "updated_at": "2021-06-11T21:26:01Z", "closed_at": "2021-06-11T15:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\n\r\nI ran `datalad download-url -m \"${URL}\" -O ${path} ${URL}` and which downloaded some PDF and TXT files. The PDF files are symlinked like in the Handbook demo. The TXT files exist locally and are taking up 100s of MB.\r\n\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n\r\n0.12.4\r\n\r\n```\r\n$ datalad -l 9 drop CEN_hour_v03.txt \r\n[DEBUG  ] Command line args 1st pass. Parsed: Namespace() Unparsed: ['drop', 'CEN_hour_v03.txt'] \r\n[DEBUG  ] Discovering plugins \r\n[DEBUG  ] Building doc for <class 'datalad.interface.annotate_paths.AnnotatePaths'> \r\n[DEBUG  ] Building doc for <class 'datalad.distribution.drop.Drop'> \r\n[DEBUG  ] Parsing known args among ['/usr/bin/datalad', '-l', '9', 'drop', 'CEN_hour_v03.txt'] \r\n[Level 9] Running: ['git', '--git-dir=', 'config', '-z', '-l', '--show-origin'] \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.drop.Drop'> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.interface.annotate_paths.AnnotatePaths'> \r\n[Level 9] Running: ['git', '--git-dir=', 'config', '-z', '-l', '--show-origin'] \r\n[Level 9] Running: ['git', 'config', '-z', '-l', '--show-origin', '--file', '/home/kdm/projects/cryo-data/data/PROMICE-AWS/.datalad/config'] \r\n[Level 9] Running: ['git', 'config', '-z', '-l', '--show-origin'] \r\n[DEBUG  ] Building doc for <class 'datalad.core.local.status.Status'> \r\n[DEBUG  ] Building doc for <class 'datalad.core.local.save.Save'> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.core.local.save.Save'> \r\n[Level 9] Running: ['git', 'config', '-z', '-l', '--show-origin'] \r\n[DEBUG  ] Resolved dataset for saving: /home/kdm/projects/cryo-data/data/PROMICE-AWS \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.core.local.status.Status'> \r\n[Level 9] Running: ['git', 'config', '-z', '-l', '--show-origin'] \r\n[DEBUG  ] Resolved dataset for status reporting: /home/kdm/projects/cryo-data/data/PROMICE-AWS \r\n[DEBUG  ] query <AnnexRepo path=/home/kdm/projects/cryo-data/data/PROMICE-AWS (<class 'datalad.support.annexrepo.AnnexRepo'>)>.diffstatus() for paths: None \r\n[Level 9] Running: ['git', 'show', '-z', '--no-patch', '--format=%H', '--'] \r\n[DEBUG  ] <AnnexRepo path=/home/kdm/projects/cryo-data/data/PROMICE-AWS (<class 'datalad.support.annexrepo.AnnexRepo'>)>.get_content_info(...) \r\n[DEBUG  ] Query repo: ['git', 'ls-files', '--stage', '-z', '-d', '-m', '--exclude-standard'] \r\n[Level 9] Running: ['git', 'ls-files', '--stage', '-z', '-d', '-m', '--exclude-standard'] \r\n[DEBUG  ] Done query repo: ['git', 'ls-files', '--stage', '-z', '-d', '-m', '--exclude-standard'] \r\n[DEBUG  ] Done <AnnexRepo path=/home/kdm/projects/cryo-data/data/PROMICE-AWS (<class 'datalad.support.annexrepo.AnnexRepo'>)>.get_content_info(...) \r\n[Level 9] Running: ['git', 'ls-files', '-z', '-m'] \r\n[DEBUG  ] <AnnexRepo path=/home/kdm/projects/cryo-data/data/PROMICE-AWS (<class 'datalad.support.annexrepo.AnnexRepo'>)>.get_content_info(...) \r\n[DEBUG  ] Query repo: ['git', 'ls-tree', 'HEAD', '-z', '-r', '--full-tree', '-l'] \r\n[Level 9] Running: ['git', 'ls-tree', 'HEAD', '-z', '-r', '--full-tree', '-l'] \r\n[DEBUG  ] Done query repo: ['git', 'ls-tree', 'HEAD', '-z', '-r', '--full-tree', '-l'] \r\n[DEBUG  ] Done <AnnexRepo path=/home/kdm/projects/cryo-data/data/PROMICE-AWS (<class 'datalad.support.annexrepo.AnnexRepo'>)>.get_content_info(...) \r\n[DEBUG  ] Determined 1 datasets for saving from input arguments \r\n[Level 9] Running: ['git', 'show', '-z', '--no-patch', '--format=%H', '--'] \r\n[Level 9] Running: ['git', 'show', '-z', '--no-patch', '--format=%H', '--'] \r\n[Level 9] Running: ['git', 'annex', 'version', '--raw'] \r\n[Level 9] Running: ['git-annex', 'drop', '-c', 'annex.dotfiles=true', '--json', '--json-error-messages', '--', 'v03/hourly/csv/CEN_hour_v03.txt'] \r\n[DEBUG  ] no annex'ed content [drop(/home/kdm/projects/cryo-data/data/PROMICE-AWS/v03/hourly/csv/CEN_hour_v03.txt)] \r\n```", "closed_by": {"login": "mankoff", "id": 145117, "node_id": "MDQ6VXNlcjE0NTExNw==", "avatar_url": "https://avatars.githubusercontent.com/u/145117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mankoff", "html_url": "https://github.com/mankoff", "followers_url": "https://api.github.com/users/mankoff/followers", "following_url": "https://api.github.com/users/mankoff/following{/other_user}", "gists_url": "https://api.github.com/users/mankoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mankoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mankoff/subscriptions", "organizations_url": "https://api.github.com/users/mankoff/orgs", "repos_url": "https://api.github.com/users/mankoff/repos", "events_url": "https://api.github.com/users/mankoff/events{/privacy}", "received_events_url": "https://api.github.com/users/mankoff/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5739/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5739/timeline", "performed_via_github_app": null}