{"url": "https://api.github.com/repos/datalad/datalad/issues/2546", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2546/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2546/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2546/events", "html_url": "https://github.com/datalad/datalad/issues/2546", "id": 326003288, "node_id": "MDU6SXNzdWUzMjYwMDMyODg=", "number": 2546, "title": "We need a cross-platform convention for paths", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 519289523, "node_id": "MDU6TGFiZWw1MTkyODk1MjM=", "url": "https://api.github.com/repos/datalad/datalad/labels/on%20hold%20-%20input%20required", "name": "on hold - input required", "color": "fbca04", "default": false, "description": "Work on this issue cannot proceed until critical feedback was given"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2018-05-24T07:51:16Z", "updated_at": "2018-10-28T22:34:56Z", "closed_at": "2018-10-28T19:34:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have path issues on non-POSIX systems (i.e. Windows). See e.g. #2528 #2531 \r\n\r\nOne source of problems is how GitPython handles paths on Windows.  For example, our `GitRepo.get_indexed_files()` returns the keys in GitPython's index (which are relative paths within the repository), but they are always POSIX paths.\r\n\r\nThat conflicts with our apparent assumption that we could simply turn them into absolute paths with `os.path` functions on any platform. Soooo, what shall we do?\r\n\r\n1. Always return any path in POSIX conventions\r\n    - shifts a substantial amount of platform dependent code to become a user's responsibility\r\n    - we would have to test/convert any incoming path specification to POSIX\r\n\r\n2. Always return platform dependent paths\r\n    - most gentle to users\r\n    - we would have to convert any path specification that needs to become POSIX to get properly tested (for equality, etc.), or needs to get stored in Git (e.g. gitmodules, etc.) ourselves.\r\n\r\nI think the responsible choice is (2), while (1) is sending the message \"do not use this on non-POSIX platforms\" (in which case I would argue that we should declare any effort to get anything to run on windows as futile and discouraged).", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2546/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2546/timeline", "performed_via_github_app": null}