{"url": "https://api.github.com/repos/datalad/datalad/issues/3983", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3983/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3983/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3983/events", "html_url": "https://github.com/datalad/datalad/pull/3983", "id": 545171875, "node_id": "MDExOlB1bGxSZXF1ZXN0MzU5MTI5MTgz", "number": 3983, "title": "TST: create-sibling: Loosen check's assumption about Git's behavior", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-03T21:30:03Z", "updated_at": "2020-01-06T14:56:55Z", "closed_at": "2020-01-04T00:33:25Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3983", "html_url": "https://github.com/datalad/datalad/pull/3983", "diff_url": "https://github.com/datalad/datalad/pull/3983.diff", "patch_url": "https://github.com/datalad/datalad/pull/3983.patch"}, "body": "This addresses one of the failures from gh-3890.\r\n\r\n---\r\n\r\n```\r\nA check in test_target_ssh_simple assumes that executing the\r\npost-update hook will change the modification times of .git/info/refs\r\nand .git/objects/info/packs.  In test runs with more recent Git\r\nversions, this check has started to fail because the modification\r\ntimes of the files are not updated [0].  This change in behavior is\r\nlikely due to Git's f4f476b6a1 (update-server-info: avoid needless\r\noverwrites, 2019-05-13), which was part of the v2.23.0 release.\r\n\r\nWe could condition the check on the Git version, but, as the now\r\nfailing check demonstrates, this check is much too concerned with\r\ninternal implementation details of git.  To avoid the test starting to\r\nfail due to another change within .git/ that we do not control, let's\r\ninstead update the check to not assume that it knows the strict set of\r\nfiles that's modified.\r\n```\r\n\r\n\\[0]: Re: https://github.com/datalad/datalad/issues/3890#issuecomment-565587037\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3983/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3983/timeline", "performed_via_github_app": null}