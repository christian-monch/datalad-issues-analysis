{"url": "https://api.github.com/repos/datalad/datalad/issues/2232", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2232/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2232/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2232/events", "html_url": "https://github.com/datalad/datalad/pull/2232", "id": 300308560, "node_id": "MDExOlB1bGxSZXF1ZXN0MTcxNzYwNjIx", "number": 2232, "title": "Fails to datalad install subdataset when dataset path has ~", "user": {"login": "snastase", "id": 3496566, "node_id": "MDQ6VXNlcjM0OTY1NjY=", "avatar_url": "https://avatars.githubusercontent.com/u/3496566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snastase", "html_url": "https://github.com/snastase", "followers_url": "https://api.github.com/users/snastase/followers", "following_url": "https://api.github.com/users/snastase/following{/other_user}", "gists_url": "https://api.github.com/users/snastase/gists{/gist_id}", "starred_url": "https://api.github.com/users/snastase/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snastase/subscriptions", "organizations_url": "https://api.github.com/users/snastase/orgs", "repos_url": "https://api.github.com/users/snastase/repos", "events_url": "https://api.github.com/users/snastase/events{/privacy}", "received_events_url": "https://api.github.com/users/snastase/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-26T16:37:00Z", "updated_at": "2018-07-15T04:46:42Z", "closed_at": "2018-03-01T07:57:42Z", "author_association": "NONE", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2232", "html_url": "https://github.com/datalad/datalad/pull/2232", "diff_url": "https://github.com/datalad/datalad/pull/2232.diff", "patch_url": "https://github.com/datalad/datalad/pull/2232.patch"}, "body": "```shell\r\nsnastase$ datalad -l debug install -r -g .\r\n...\r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.install.Install'> \r\n[DEBUG  ] Building doc for <class 'datalad.plugin.Plugin'> \r\n[DEBUG  ] Install passes into get 1 items \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.get.Get'> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.interface.annotate_paths.AnnotatePaths'> \r\n[DEBUG  ] already installed [get(/Users/snastase/Work/storyteller/data)] \r\nget(notneeded): /Users/snastase/Work/storyteller/data (dataset) [already installed]\r\n[DEBUG  ] Building doc for <class 'datalad.distribution.subdatasets.Subdatasets'> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.subdatasets.Subdatasets'> \r\n[DEBUG  ] Resolved dataset for subdataset reporting/modification: <Dataset path=/Users/snastase/Work/storyteller/data> \r\n[INFO   ] Installing <Dataset path=/Users/snastase/Work/storyteller/data> recursively \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.subdatasets.Subdatasets'> \r\n[DEBUG  ] Resolved dataset for subdataset reporting/modification: <Dataset path=/Users/snastase/Work/storyteller/data> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.subdatasets.Subdatasets'> \r\n[DEBUG  ] Resolved dataset for subdataset reporting/modification: <Dataset path=/Users/snastase/Work/storyteller/data> \r\n[DEBUG  ] Determined class of decorated function: <class 'datalad.distribution.clone.Clone'> \r\n[DEBUG  ] Resolved clone source from '~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc' to '~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc' \r\n[DEBUG  ] Resolved clone target path to: '/Users/snastase/Work/storyteller/data/derivatives/mriqc' \r\n[INFO   ] Cloning ~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc to '/Users/snastase/Work/storyteller/data/derivatives/mriqc' \r\n[DEBUG  ] Attempting to clone ~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc (1 out of 1 candidates) to '/Users/snastase/Work/storyteller/data/derivatives/mriqc' \r\n[DEBUG  ] Git clone from ~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc to /Users/snastase/Work/storyteller/data/derivatives/mriqc \r\n[DEBUG  ] Failed to clone from URL: ~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc (Cmd('git') failed due to: exit code(128)\r\n  cmdline: git clone -v ~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc /Users/snastase/Work/storyteller/data/derivatives/mriqc\r\n  stderr: 'fatal: repository '~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc' does not exist\r\n' [cmd.py:wait:418]) \r\n[ERROR  ] Failed to clone data from any candidate source URL: ['~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc'] [install(/Users/snastase/Work/storyteller/data/derivatives/mriqc)] \r\n[ERROR  ] Installation of subdatasets <Dataset path=/Users/snastase/Work/storyteller/data/derivatives/mriqc> failed with exception: InstallFailedError: \r\nFailed to install dataset from: ['~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc'] [get.py:_install_subds_from_flexible_source:183] [install(/Users/snastase/Work/storyteller/data/derivatives/mriqc)] \r\ninstall(error): /Users/snastase/Work/storyteller/data/derivatives/mriqc (dataset) [Installation of subdatasets <Dataset path=/Users/snastase/Work/storyteller/data/derivatives/mriqc> failed with exception: InstallFailedError: \r\nFailed to install dataset from: ['~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc'] [get.py:_install_subds_from_flexible_source:183]]\r\n[DEBUG  ] Determine what files match the query to work with \r\n[DEBUG  ] No files found needing fetching. \r\n[DEBUG  ] nothing to get from /Users/snastase/Work/storyteller/data [get(/Users/snastase/Work/storyteller/data)] \r\nget(notneeded): /Users/snastase/Work/storyteller/data (directory) [nothing to get from /Users/snastase/Work/storyteller/data]\r\n[DEBUG  ] no dataset annex, content already present [get(/Users/snastase/Work/storyteller/data/derivatives/mriqc)] \r\nget(notneeded): /Users/snastase/Work/storyteller/data/derivatives/mriqc [no dataset annex, content already present]\r\naction summary:\r\n  get (notneeded: 3)\r\n  install (error: 1)\r\n[DEBUG  ] could not perform all requested actions: Command did not complete successfully [{'status': 'error', 'action': 'install', 'path': '/Users/snastase/Work/storyteller/data/derivatives/mriqc', 'type': 'dataset', 'message': ('Installation of subdatasets %s failed with exception: %s', <Dataset path=/Users/snastase/Work/storyteller/data/derivatives/mriqc>, \"InstallFailedError: \\nFailed to install dataset from: ['~/Work/vagrant/ubuntu-xenial-16.04.3/storyteller/data/derivatives/mriqc'] [get.py:_install_subds_from_flexible_source:183]\")}] [utils.py:generator_func:442] \r\n```\r\nThis was fixed by changing to full path in .git/config", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2232/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2232/timeline", "performed_via_github_app": null}