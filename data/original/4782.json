{"url": "https://api.github.com/repos/datalad/datalad/issues/4782", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4782/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4782/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4782/events", "html_url": "https://github.com/datalad/datalad/pull/4782", "id": 668090954, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU4NjQxOTgw", "number": 4782, "title": "Add MANIFEST.in to include _datalad_build_support", "user": {"login": "jwodder", "id": 98207, "node_id": "MDQ6VXNlcjk4MjA3", "avatar_url": "https://avatars.githubusercontent.com/u/98207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwodder", "html_url": "https://github.com/jwodder", "followers_url": "https://api.github.com/users/jwodder/followers", "following_url": "https://api.github.com/users/jwodder/following{/other_user}", "gists_url": "https://api.github.com/users/jwodder/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwodder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwodder/subscriptions", "organizations_url": "https://api.github.com/users/jwodder/orgs", "repos_url": "https://api.github.com/users/jwodder/repos", "events_url": "https://api.github.com/users/jwodder/events{/privacy}", "received_events_url": "https://api.github.com/users/jwodder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-29T19:33:36Z", "updated_at": "2020-11-21T03:00:12Z", "closed_at": "2020-08-04T14:38:16Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4782", "html_url": "https://github.com/datalad/datalad/pull/4782", "diff_url": "https://github.com/datalad/datalad/pull/4782.diff", "patch_url": "https://github.com/datalad/datalad/pull/4782.patch"}, "body": "This PR adds a `MANIFEST.in` file to the project so that `_datalad_build_support/` (et alii) will always be included in sdists regardless of whether the sdists are built in an environment with `setuptools_scm` installed or not.  The file is written so that building an sdist should give the same results with & without `setuptools_scm` (until someone adds a new top-level file or directory, at least).  Read more about `MANIFEST.in` [here](https://packaging.python.org/guides/using-manifest-in/).\r\n\r\nCloses #3808.\r\n\r\nThe decisions about what files to include & exclude in the sdist were based on my own personal packaging policies.  Rough rationales are as follows:\r\n\r\n- Included files:\r\n    - `_datalad_build_support/` is necessary for building the project.\r\n    - `COPYING` and `CONTRIBUTORS` are included for legal purposes.\r\n    - Files related to testing and benchmarking (`Makefile`, `asv.conf.json`, `tox.ini`, `.coveragerc`, `benchmarks`, `requirements.txt`, `Gruntfile.js`) are included so that people who receive the sdist can run the tests themselves.\r\n    - `CHANGELOG.md` and `docs/` are included simply because I believe they should be included in sdists.\r\n    - I wasn't sure how necessary `tools/` or `requirements-devel.txt` were, so I erred on the side of caution and left them in.\r\n\r\n- Excluded files:\r\n    - `.gitignore`, `.gitmodules`, `.mailmap`, and `.noannex` are only relevant if you're working with the actual Git repository.\r\n    - `.github`, `.travis.yml`, `appveyor.yaml`, and `readthedocs.yml` are only used for third-party integrations that aren't present when you've just got an sdist.\r\n    - `CODE_OF_CONDUCT.md` and `CONTRIBUTING.md` are only relevent for people interacting with the project through GitHub.\r\n    - `sandbox/` just sounds like the type of directory that you don't want to distribute.\r\n    - Brief research seems to indicate that `.zenodo.json` only belongs on this repository and this repository alone.\r\n    - Compiled Python bytecode caches should always be excluded from sdists, hence the final line.", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4782/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4782/timeline", "performed_via_github_app": null}