{"url": "https://api.github.com/repos/datalad/datalad/issues/3661", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3661/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3661/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3661/events", "html_url": "https://github.com/datalad/datalad/issues/3661", "id": 492195531, "node_id": "MDU6SXNzdWU0OTIxOTU1MzE=", "number": 3661, "title": "`uninstall --recursive *` does not recurse into subdatasets", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-11T12:04:37Z", "updated_at": "2019-10-05T08:36:21Z", "closed_at": "2019-10-05T08:36:21Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Here is what I see:\r\n\r\n```\r\n% datalad uninstall -r --nocheck *\r\nuninstall(impossible): /tmp/alot/00 (directory) [can only uninstall datasets (consider the `drop` command)]\r\nuninstall(impossible): /tmp/alot/01 (directory) [can only uninstall datasets (consider the `drop` command)]\r\n...\r\n```\r\n\r\nThe structure of the dataset is this (the uuid-like directories are the actual subdatasets)\r\n\r\n```\r\n.\r\n\u251c\u2500\u2500 00\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 0ea832de-bec0-45a9-989f-c0376394d6e6\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 3790b8c2-1beb-494c-a5a5-189ccb9737b6\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 4255e451-d5d4-4829-8053-8c2e55c9a647\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 f339565c-345f-42ce-a7ed-f83e1733a237\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 f617fc62-0b65-4471-97f4-f8d006f929a2\r\n\u251c\u2500\u2500 01\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 1c9a767d-0b4c-4214-a8b3-403666191251\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 545dd1fc-b816-4725-a11f-1aafbb71a6bf\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 67d925e2-1bd9-4ec3-9e04-be15aa5f49e1\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 884cb78d-02ee-4762-86fc-4b02f96e0e7f\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 8b773663-eb54-4c7e-bfc2-06ddfb83c6d8\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ad1461b2-40d8-4983-bbb0-8d5b125045a7\r\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 d92e1877-f2f2-403d-ac81-dd747c34a234\r\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 f673af13-1fe8-44c3-aa52-e382299c59e4\r\n\r\n```\r\n\r\nI somewhat expected the above command to uninstall any subdatasets that match the given path, everything underneath the given path (because `--recursive`).\r\n\r\nQuestion is: what should we do, if we call `uninstall` with a path to a directory that has two subdatasets underneath, but **no** recursive is given?", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3661/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3661/timeline", "performed_via_github_app": null}