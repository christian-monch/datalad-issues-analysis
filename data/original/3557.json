{"url": "https://api.github.com/repos/datalad/datalad/issues/3557", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3557/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3557/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3557/events", "html_url": "https://github.com/datalad/datalad/issues/3557", "id": 472281183, "node_id": "MDU6SXNzdWU0NzIyODExODM=", "number": 3557, "title": "addurls: Consider supporting JSON lines", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-24T13:23:12Z", "updated_at": "2020-07-08T21:23:55Z", "closed_at": "2020-07-08T21:23:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At the moment URL-FILE can be a csv file or a JSON file with an array of records.  We could extend this to read a stream of JSON records from stdin if URL-FILE is \"-\".\r\n\r\nOr alternatively we could read content from stdin as either a csv or JSON array, depending on --input-type.  Then a caller piping in a stream of JSON records could easily reformat it as an array with, say, `jq`.\r\n\r\nThe advantage of the second approach is that it doesn't limit stdin consumption to one file type and makes it clearer that addurls slurps all the records into memory rather than working with them as they come in.  The disadvantage, of course, is the need for another intermediate reformatting step.\r\n\r\nRe: https://github.com/datalad/datalad/issues/3556#issuecomment-514604518", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3557/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3557/timeline", "performed_via_github_app": null}