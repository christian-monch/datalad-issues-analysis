{"url": "https://api.github.com/repos/datalad/datalad/issues/959", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/959/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/959/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/959/events", "html_url": "https://github.com/datalad/datalad/pull/959", "id": 180141365, "node_id": "MDExOlB1bGxSZXF1ZXN0ODczNzg2NjM=", "number": 959, "title": "RF: Attempt to shrink the install+get combo (thought experiment)", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 68, "created_at": "2016-09-29T19:33:49Z", "updated_at": "2018-07-14T11:19:19Z", "closed_at": "2016-10-13T19:58:21Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/959", "html_url": "https://github.com/datalad/datalad/pull/959", "diff_url": "https://github.com/datalad/datalad/pull/959.diff", "patch_url": "https://github.com/datalad/datalad/pull/959.patch"}, "body": "TL;DR: `get` obtains any (and any number of dataset components, files, directories, datasets); `install` obtains ONE dataset from a (remote) source.\n\nSize-wise this is not much less code than before. However, I believe the get implementation is cleaner  now. In particular the separation of clone and annexget operations.\n\nMore could be done re helper functions shared by install and get. There is potential for RF into Dataset() and some shrinkage. But not in this PR!\n\nFinished (?) TODO:\n- [x] bring `get` to (practically) 100% coverage\n- [x] bring `install` to (practically) 100% coverage\n- [x] consider changing `--fulfill` into a binary flag `--fulfill-datasets` that needs to be set when recursive `get` should also fulfill matching file handles that pop up in the form of new subdatasets that get installed along the way. I believe something like this is necessary to be able to express: give me, recursively, content for all file handles that are already there, but not for anything new\n- [x] documentation needs heavy pass-over\n- [x] unify naming or make it clear what is the difference since to yoh `--get-data` and `--fulfill` seems to accomplish the same\n- [x] answer to Yarik how in this scheme I would accomplish what he asked in https://github.com/datalad/datalad/pull/959#issuecomment-250915262 -- \"fulfill/get\"  data for all datasets (including sub-datasets) which are already installed (or pointed to directly) while not installing any new dataset\n- [ ] converge on [API we all like with hopefully minimal amount of API breakage](https://docs.google.com/spreadsheets/d/1bi3AQK5yMKwTA_6FN1oCPnIGASy9VmN8LbARr15XMKE/edit?usp=sharing)\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/959/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/959/timeline", "performed_via_github_app": null}