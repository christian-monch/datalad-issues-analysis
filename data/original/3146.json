{"url": "https://api.github.com/repos/datalad/datalad/issues/3146", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3146/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3146/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3146/events", "html_url": "https://github.com/datalad/datalad/pull/3146", "id": 407486619, "node_id": "MDExOlB1bGxSZXF1ZXN0MjUwOTUxMTg3", "number": 3146, "title": "SSH: Support URLs with ports", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/57", "html_url": "https://github.com/datalad/datalad/milestone/57", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/57/labels", "id": 3845109, "node_id": "MDk6TWlsZXN0b25lMzg0NTEwOQ==", "number": 57, "title": "Release 0.11.2", "description": "", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 44, "state": "closed", "created_at": "2018-11-24T17:47:28Z", "updated_at": "2019-03-14T22:40:59Z", "due_on": null, "closed_at": "2019-02-10T05:43:56Z"}, "comments": 2, "created_at": "2019-02-07T00:00:34Z", "updated_at": "2019-02-10T05:41:06Z", "closed_at": "2019-02-07T02:00:05Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3146", "html_url": "https://github.com/datalad/datalad/pull/3146", "diff_url": "https://github.com/datalad/datalad/pull/3146.diff", "patch_url": "https://github.com/datalad/datalad/pull/3146.patch"}, "body": "This is mainly for the benefit of the ReproMan project.  There we are managing SSH resources that the user may not have configured in .ssh/config, so we need to call `create-sibling` with an SSH URL that includes port.  Without these changes, doing that results in an error like\r\n\r\n```\r\nstderr: 'fatal: ssh variant 'simple' does not support setting port' [cmd.py:wait:415] (GitCommandError)\r\n```\r\n\r\nJust for reference, here is the ssh.variant part of `man git-config`:\r\n\r\n```\r\nssh.variant\r\n    By default, Git determines the command line arguments to use based on the basename of the configured SSH\r\n    command (configured using the environment variable GIT_SSH or GIT_SSH_COMMAND or the config setting\r\n    core.sshCommand). If the basename is unrecognized, Git will attempt to detect support of OpenSSH options\r\n    by first invoking the configured SSH command with the -G (print configuration) option and will\r\n    subsequently use OpenSSH options (if that is successful) or no options besides the host and remote\r\n    command (if it fails).\r\n\r\n    The config variable ssh.variant can be set to override this detection. Valid values are ssh (to use\r\n    OpenSSH options), plink, putty, tortoiseplink, simple (no options except the host and remote command).\r\n    The default auto-detection can be explicitly requested using the value auto. Any other value is treated\r\n    as ssh. This setting can also be overridden via the environment variable GIT_SSH_VARIANT.\r\n\r\n    The current command-line parameters used for each variant are as follows:\r\n\r\n    \u00b7   ssh - [-p port] [-4] [-6] [-o option] [username@]host command\r\n\r\n    \u00b7   simple - [username@]host command\r\n\r\n    \u00b7   plink or putty - [-P port] [-4] [-6] [username@]host command\r\n\r\n    \u00b7   tortoiseplink - [-P port] [-4] [-6] -batch [username@]host command\r\n\r\n    Except for the simple variant, command-line parameters are likely to change as git gains new features.\r\n```\r\n\r\n---\r\n\r\n- [x] Add test for `create-sibling` that uses port in URL.\r\n\r\n\r\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3146/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3146/timeline", "performed_via_github_app": null}