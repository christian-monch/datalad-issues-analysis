{"url": "https://api.github.com/repos/datalad/datalad/issues/311", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/311/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/311/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/311/events", "html_url": "https://github.com/datalad/datalad/issues/311", "id": 120371741, "node_id": "MDU6SXNzdWUxMjAzNzE3NDE=", "number": 311, "title": "Add command that aid cleanup of WiP handles", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-12-04T10:15:10Z", "updated_at": "2015-12-04T14:56:19Z", "closed_at": "2015-12-04T14:41:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When working with handles (mostly with derived data) it often happens that data is regenerated. Often the outdated/previous results/files are no longer interesting.\n\nWe should have a convenience wrapper around git annex' `unused`, `log`, and `dropunused` commands that aids intermediate cleanup procedures. With git annex I need to do:\n1. run `unused` to get a long list of keys that I need to look up by \n2. run `log' to figure out where the key was used last\n3. run `dropunused` with an index(/range) to get rid of the annexed content\n\nMinimal use case would be \"drop all keys for all files that are still present, but have updated content\". Another one could be \"delete these files (with all there annex'ed content)\". The latter sounds dangerous, though....\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/311/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/311/timeline", "performed_via_github_app": null}