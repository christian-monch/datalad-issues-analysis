{"url": "https://api.github.com/repos/datalad/datalad/issues/4932", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4932/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4932/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4932/events", "html_url": "https://github.com/datalad/datalad/issues/4932", "id": 704610426, "node_id": "MDU6SXNzdWU3MDQ2MTA0MjY=", "number": 4932, "title": "test_get_flexible_source_candidates_for_submodule test failing on conda", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-09-18T19:38:20Z", "updated_at": "2021-01-18T19:14:19Z", "closed_at": "2021-01-18T19:14:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": " linux_64_nodepTrue downstream testing of git annex build of datalad 0.13.3 fails on conda-forge https://github.com/conda-forge/git-annex-feedstock/pull/101 in test_get.test_get_flexible_source_candidates_for_submodule:\r\n\r\n```\r\n2020-09-18T03:50:48.4226470Z ======================================================================\r\n2020-09-18T03:50:48.4226924Z FAIL: datalad.distribution.tests.test_get.test_get_flexible_source_candidates_for_submodule\r\n2020-09-18T03:50:48.4227600Z ----------------------------------------------------------------------\r\n2020-09-18T03:50:48.4228004Z Traceback (most recent call last):\r\n2020-09-18T03:50:48.4229198Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600392873041/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/nose/case.py\", line 197, in runTest\r\n2020-09-18T03:50:48.4229994Z     self.test(*self.arg)\r\n2020-09-18T03:50:48.4231200Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600392873041/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/datalad/tests/utils.py\", line 731, in _wrap_with_tempfile\r\n2020-09-18T03:50:48.4232066Z     return t(*(arg + (filename,)), **kw)\r\n2020-09-18T03:50:48.4233310Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600392873041/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/datalad/tests/utils.py\", line 731, in _wrap_with_tempfile\r\n2020-09-18T03:50:48.4235528Z     return t(*(arg + (filename,)), **kw)\r\n2020-09-18T03:50:48.4236850Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600392873041/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/datalad/tests/utils.py\", line 731, in _wrap_with_tempfile\r\n2020-09-18T03:50:48.4237697Z     return t(*(arg + (filename,)), **kw)\r\n2020-09-18T03:50:48.4239042Z   File \"/home/conda/feedstock_root/build_artifacts/git-annex_1600392873041/_test_env_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placehold_placeh/lib/python3.8/site-packages/datalad/distribution/tests/test_get.py\", line 145, in test_get_flexible_source_candidates_for_submodule\r\n2020-09-18T03:50:48.4240270Z     eq_(f(clone, clone.subdatasets(return_type='item-or-list')),\r\n2020-09-18T03:50:48.4242284Z AssertionError: [{'cost': 400, 'name': 'bang', 'url': 'youredead', 'from_config': True}, {'cost': 500, 'name': 'origin', 'url': '/tmp/datalad_temp_test_get_flexible_source_candidates_for_submoduleso013kl9/sub'}, {'cost': 700, 'name': 'bang', 'url': 'pre-a2f21833-32ac-4372-b0dc-5577a931b4a3-post', 'from_config': True}] != [{'cost': 500, 'name': 'origin', 'url': '/tmp/datalad_temp_test_get_flexible_source_candidates_for_submoduleso013kl9/sub'}, {'cost': 700, 'name': 'bang', 'url': 'pre-a2f21833-32ac-4372-b0dc-5577a931b4a3-post', 'from_config': True}]\r\n2020-09-18T03:50:48.4244024Z -------------------- >> begin captured logging << --------------------\r\n2020-09-18T03:50:48.4244489Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4245078Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4245495Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4245904Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4246316Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4246824Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4247311Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4247730Z asyncio: DEBUG: Using selector: EpollSelector\r\n2020-09-18T03:50:48.4248382Z --------------------- >> end captured logging << ---------------------\r\n2020-09-18T03:50:48.4248742Z\r\n2020-09-18T03:50:48.4249296Z ----------------------------------------------------------------------\r\n```\r\ni don't think we saw this one yet", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4932/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4932/timeline", "performed_via_github_app": null}