{"url": "https://api.github.com/repos/datalad/datalad/issues/5668", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5668/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5668/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5668/events", "html_url": "https://github.com/datalad/datalad/issues/5668", "id": 893202805, "node_id": "MDU6SXNzdWU4OTMyMDI4MDU=", "number": 5668, "title": "cannot `drop --from ORAREMOTE`", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2971010147, "node_id": "MDU6TGFiZWwyOTcxMDEwMTQ3", "url": "https://api.github.com/repos/datalad/datalad/labels/RIA/ORA", "name": "RIA/ORA", "color": "E8F2DF", "default": false, "description": "Issues related to RIA-based workflows and related components"}], "state": "closed", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2021-05-17T10:49:07Z", "updated_at": "2021-05-20T12:28:25Z", "closed_at": "2021-05-20T12:28:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`git annex drop --unused --from joc-storage`, where `joc-storage` is an ORA special remote. Talking via `ria+file://` i.e. `LocalIO()`\r\n\r\n```\r\n...\r\ndrop joc-storage MD5E-s2779420--0250bcb1c57ad101113dee93c5a29022.tar.gz \r\n  [Errno 13] Permission denied: '/data/project/ukb_vbm/outputstore/893/8de76-0302-45b5-9825-3c6ce3f3fffe/annex/objects/08/V4/MD5E-s2779420--0250bcb1c57ad101113dee93c5a29022.tar.gz/MD5E-s2779420--0250bcb1c57ad101113dee93c5a29022.tar.gz'\r\nfailed\r\n```\r\n\r\nI own that remote store:\r\n\r\n```\r\n% ls -l /data/project/ukb_vbm/outputstore/893/8de76-0302-45b5-9825-3c6ce3f3fffe/annex/objects/08/V4/MD5E-s2779420--0250bcb1c57ad101113dee93c5a29022.tar.gz/MD5E-s2779420--0250bcb1c57ad101113dee93c5a29022.tar.gz\r\n```\r\n\r\nannex debug\r\n\r\n```\r\ndrop joc-storage MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz [2021-05-17 12:58:16.383804023] Dropping from remote Remote { name =\"joc-storage\" } proof: Nothing                 \r\n[2021-05-17 12:58:16.386627744] process [201873] chat: /home/mih/venvs/datalad/bin/git-annex-remote-ora []\r\n[2021-05-17 12:58:16.575321454] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> VERSION 1\r\n[2021-05-17 12:58:16.575448616] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- EXTENSIONS INFO GETGITREMOTENAME ASYNC                                                           \r\n[2021-05-17 12:58:16.575578517] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> EXTENSIONS\r\n[2021-05-17 12:58:16.575647338] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- PREPARE\r\n[2021-05-17 12:58:16.575916161] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETGITDIR\r\n[2021-05-17 12:58:16.576018682] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE .git\r\n[2021-05-17 12:58:16.576216064] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETUUID\r\n[2021-05-17 12:58:16.576315405] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE 59435e2a-5fb4-4031-a70c-46edfe3e84c9                                                       \r\n[2021-05-17 12:58:16.576552968] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETCONFIG name\r\n[2021-05-17 12:58:16.576652779] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE joc-storage\r\n[2021-05-17 12:58:16.576852031] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETCONFIG url\r\n[2021-05-17 12:58:16.576954912] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE ria+file:///data/project/ukb_vbm/outputstore                                               \r\n[2021-05-17 12:58:16.577152984] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETCONFIG push-url\r\n[2021-05-17 12:58:16.577253116] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE\r\n[2021-05-17 12:58:16.59765017] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETCONFIG archive-id\r\n[2021-05-17 12:58:16.597749052] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE 8938de76-0302-45b5-9825-3c6ce3f3fffe                                                       \r\n[2021-05-17 12:58:16.598041315] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> GETCONFIG force-write\r\n[2021-05-17 12:58:16.598345838] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE\r\n[2021-05-17 12:58:16.607237436] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> PREPARE-SUCCESS\r\n[2021-05-17 12:58:16.607334937] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- REMOVE MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz                                      \r\n[2021-05-17 12:58:16.607722772] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> DIRHASH MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz                                     \r\n[2021-05-17 12:58:16.607849633] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] <-- VALUE 4G/w7/\r\n[2021-05-17 12:58:16.608265387] /home/mih/venvs/datalad/bin/git-annex-remote-ora[1] --> REMOVE-FAILURE MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz [Errno 13] Permission denied:\r\n'/data/project/ukb_vbm/outputstore/893/8de76-0302-45b5-9825-3c6ce3f3fffe/annex/objects/4G/w7/MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz/MD5E-s45810--00cd85eb2bed0909e7334ceddfce98d4.tar.gz'\r\n```\r\n\r\nI guess it simply assumes to have write permissions and fails, instead of obtaining them.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5668/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5668/timeline", "performed_via_github_app": null}