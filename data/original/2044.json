{"url": "https://api.github.com/repos/datalad/datalad/issues/2044", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2044/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2044/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2044/events", "html_url": "https://github.com/datalad/datalad/issues/2044", "id": 283424186, "node_id": "MDU6SXNzdWUyODM0MjQxODY=", "number": 2044, "title": "Stop using /// in tests", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-12-20T01:47:05Z", "updated_at": "2017-12-21T07:53:57Z", "closed_at": "2017-12-21T07:53:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nit makes it impossible to figure out popularity of datasets, and of the /// altogether since tests are also ran in CI, which goes through a wide range of IPs, thus making it virtually impossible to figure out if access to a dataset is real or a \"test\".  E.g.\r\n\r\n```bash\r\n> zcat datasets.datalad.org-access-comb.log.2.gz | sed -n -e '/\"git\\/[12345]/s,^\\([0-9\\.]*\\) .*\"GET \\(.*\\)\\.git/.*,\\1 \\2,gp'  | sort | uniq | awk '{print $2;}' | sort | uniq -c  | sort -n  | grep '^ *[0-9][0-9]'\r\n     12 /workshops/nih-2017/ds000114/derivatives/fmriprep/\r\n     12 /workshops/nih-2017/ds000114/derivatives/freesurfer/\r\n     15 /workshops/nih-2017/ds000114/\r\n     24 /dbic/QA/\r\n     46 /labs/tarr/\r\n     46 /labs/tarr/face_place/\r\n     46 /nonexisting/\r\n     48 /labs/\r\n    168 /openfmri/ds000114/\r\n    270 /\r\n    276 /crcns/\r\n```\r\nmade me think that `face_place` is very popular, just to find that we are using it in `test_remove_recursive_2` :-(\r\n\r\nI think we should\r\n1. change the tests to use some other, dedicated collection (could be a snapshot of current/some datasets.datalad.org)\r\n2. add the test of the /// into buildbot set of tests though, so we do verify healthy state of ///", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2044/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2044/timeline", "performed_via_github_app": null}