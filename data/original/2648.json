{"url": "https://api.github.com/repos/datalad/datalad/issues/2648", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2648/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2648/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2648/events", "html_url": "https://github.com/datalad/datalad/issues/2648", "id": 331175535, "node_id": "MDU6SXNzdWUzMzExNzU1MzU=", "number": 2648, "title": "Git annex init fail on /// from datalad.org on Windows", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2018-06-11T12:50:30Z", "updated_at": "2018-06-12T04:52:57Z", "closed_at": "2018-06-12T04:52:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nERROR: datalad.distribution.tests.test_install.test_install_datasets_root\r\nERROR: datalad.distribution.tests.test_clone.test_clone_crcns\r\nERROR: datalad.distribution.tests.test_clone.test_clone_datasets_root\r\n```\r\n\r\nTraceback is always like this:\r\n\r\n```\r\n File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\distribution\\clone.py\", line 275, in __call__\r\n671    description=description)\r\n672  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\distribution\\utils.py\", line 206, in _handle_possible_annex_dataset\r\n673    repo = AnnexRepo(dataset.path, init=True)\r\n674  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\support\\repo.py\", line 146, in __call__\r\n675    instance = type.__call__(cls, *new_args, **new_kwargs)\r\n676  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\support\\annexrepo.py\", line 229, in __init__\r\n677    self._init(version=version, description=description)\r\n678  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\support\\annexrepo.py\", line 1256, in _init\r\n679    self._run_annex_command('init', annex_options=opts)\r\n680  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\support\\annexrepo.py\", line 1053, in _run_annex_command\r\n681    raise e\r\n682  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\support\\annexrepo.py\", line 1045, in _run_annex_command\r\n683    return self.cmd_call_wrapper.run(cmd_list, env=env, **kwargs)\r\n684  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\cmd.py\", line 670, in run\r\n685    cmd, env=self.get_git_environ_adjusted(env), *args, **kwargs)\r\n686  File \"C:\\Miniconda35\\envs\\test-environment\\lib\\site-packages\\datalad\\cmd.py\", line 530, in run\r\n687    raise CommandError(str(cmd), msg, status, out[0], out[1])\r\n688datalad.support.exceptions.CommandError: CommandError: command '['git', '-c', 'receive.autogc=0', '-c', 'gc.auto=0', 'annex', 'init']' failed with exitcode 1\r\n689Failed to run ['git', '-c', 'receive.autogc=0', '-c', 'gc.auto=0', 'annex', 'init'] under 'C:\\\\Users\\\\appveyor\\\\AppData\\\\Local\\\\Temp\\\\1\\\\datalad_temp_tree_4pvao_sm\\\\datasets-tests.datalad.org'. Exit code=1. out=init  \r\n690\r\n691\r\n692(merging origin/git-annex into git-annex...)\r\n693(recording state in git...)\r\n694\r\n695\r\n696failed\r\n697 err=  Detected a filesystem without fifo support.\r\n698  Disabling ssh connection caching.\r\n699  Detected a crippled filesystem.\r\n700  Enabling direct mode.\r\n701git-annex: .git\\annex\\objects\\421\\17b\\SHA256E-s35339--59f07eb7c4699f4c3b079b7e38670a9d77e57549c99a3d9dd727ec5d7815087b\\: openTempFile: does not exist (No such file or directory)\r\n702git-annex: init: 1 failed\r\n```\r\n\r\nAre we picking up bad vibes from remote repos? Tests on local creation on Windows run fine prior this failure. No annex version change since the last successful test run on Windows.\r\n\r\nExample log: https://ci.appveyor.com/project/mih/datalad/build/1.0.255", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2648/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2648/timeline", "performed_via_github_app": null}