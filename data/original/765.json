{"url": "https://api.github.com/repos/datalad/datalad/issues/765", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/765/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/765/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/765/events", "html_url": "https://github.com/datalad/datalad/issues/765", "id": 175646044, "node_id": "MDU6SXNzdWUxNzU2NDYwNDQ=", "number": 765, "title": "publish does't merge remote git-annex upon publish, thus not \"propagating\" the knowledge about location of the load", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}, {"id": 449733138, "node_id": "MDU6TGFiZWw0NDk3MzMxMzg=", "url": "https://api.github.com/repos/datalad/datalad/labels/WIP", "name": "WIP", "color": "fbca04", "default": false, "description": "work in progress"}], "state": "closed", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/22", "html_url": "https://github.com/datalad/datalad/milestone/22", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/22/labels", "id": 1482873, "node_id": "MDk6TWlsZXN0b25lMTQ4Mjg3Mw==", "number": 22, "title": "Publication (tracking)", "description": "This milestone is being abused by Michael for his education. It collects issues regarding the publication of collections and handles.", "creator": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 18, "state": "closed", "created_at": "2016-01-04T17:02:49Z", "updated_at": "2017-02-10T13:06:38Z", "due_on": null, "closed_at": "2017-02-10T13:06:38Z"}, "comments": 5, "created_at": "2016-09-08T01:44:23Z", "updated_at": "2016-10-21T02:42:13Z", "closed_at": "2016-10-21T02:42:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I thought it was working but apparently at least in this case somehow it doesn't:\n\n```\n(git)smaug:\\u2026ts/datalad/crawl/kaggle/melbourne-university-seizure-prediction[master]git\n$> datalad publish --since HEAD^            \n2016-09-07 21:41:42,918 [INFO   ] Publishing dataset <Dataset path=/mnt/datasets/datalad/crawl/kaggle/melbourne-university-seizure-prediction> to sibling datalad-public ... (publish.py:270)\nyoh@datasets.datalad.org's password: \n2016-09-07 21:41:45,734 [WARNING] Nothing was pushed. (publish.py:48)\n> /home/yoh/proj/datalad/datalad/datalad/distribution/publish.py(283)__call__()\n-> ds.repo.fetch(remote=dest_resolved)\n(Pdb) n\n> /home/yoh/proj/datalad/datalad/datalad/distribution/publish.py(284)__call__()\n-> _log_push_info(ds.repo.push(remote=dest_resolved,\n(Pdb) p dest_resolved\nu'datalad-public'\n(Pdb) l\n279                     import pdb; pdb.set_trace()\n280                     # Fetch first so we could investigate... actually it has a desired\n281                     # side-effect ATM -- merges git-annex of the remote so later push\n282                     # succeeds!\n283                     ds.repo.fetch(remote=dest_resolved)\n284  ->                 _log_push_info(ds.repo.push(remote=dest_resolved,\n285                                                 refspec=\"+git-annex:git-annex\"))\n286     \n287                 # we need to fetch\n288                 # TODO\n289                 # Note: This is about a gitpython issue as well as something about\n(Pdb) n\n> /home/yoh/proj/datalad/datalad/datalad/distribution/publish.py(285)__call__()\n-> refspec=\"+git-annex:git-annex\"))\n(Pdb) \n2016-09-07 21:42:05,955 [WARNING] Nothing was pushed. (publish.py:48)\n> /home/yoh/proj/datalad/datalad/datalad/distribution/publish.py(292)__call__()\n-> ds.repo.fetch(remote=dest_resolved)\n(Pdb) \n2016-09-07 21:42:37,620 [ERROR  ]  [bdb.py:dispatch_line:68] (BdbQuit) (main.py:252)\n(venv-tests)3 12497 ->1.....................................:Wed 07 Sep 2016 09:42:37 PM EDT:.\n(git)smaug:\\u2026ts/datalad/crawl/kaggle/melbourne-university-seizure-prediction[master]git\n$> git lg git-annex datalad-public/git-annex\n* a2e2f31 - (datalad-public/git-annex) update (8 hours ago) [Yaroslav Halchenko]\n* 36d1930 - branch created (8 hours ago) [Yaroslav Halchenko]\n* 2a9872b - (git-annex) update (14 hours ago) [Yaroslav Halchenko]\n* c569e24 - update (20 hours ago) [Yaroslav Halchenko]\n* 39fba29 - update (20 hours ago) [Yaroslav Halchenko]\n* 275aefb - update (20 hours ago) [Yaroslav Halchenko]\n* b2166f3 - update (20 hours ago) [Yaroslav Halchenko]\n* 02a6c8d - update (20 hours ago) [Yaroslav Halchenko]\n\n```\n\nso if you install `///kaggle/melbourne-university-seizure-prediction` you can't fetch any load since the git-annex branch on the webserver has no clue where the stuff is.\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/765/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/765/timeline", "performed_via_github_app": null}