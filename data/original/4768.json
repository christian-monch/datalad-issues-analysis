{"url": "https://api.github.com/repos/datalad/datalad/issues/4768", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4768/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4768/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4768/events", "html_url": "https://github.com/datalad/datalad/pull/4768", "id": 665409124, "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2NDgzNjAy", "number": 4768, "title": "ENH+OPT(TST): annotate more of @slow tests, provide rule-of-thumb doc for @slow/turtle/..., fail if any non @slow exceeds 30 sec on travis", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1746781627, "node_id": "MDU6TGFiZWwxNzQ2NzgxNjI3", "url": "https://api.github.com/repos/datalad/datalad/labels/merge-if-ok", "name": "merge-if-ok", "color": "fbca04", "default": false, "description": "OP considers this work done, and requests review/merge"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-07-24T20:46:58Z", "updated_at": "2020-10-07T15:39:10Z", "closed_at": "2020-07-31T15:39:32Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4768", "html_url": "https://github.com/datalad/datalad/pull/4768", "diff_url": "https://github.com/datalad/datalad/pull/4768.diff", "patch_url": "https://github.com/datalad/datalad/pull/4768.patch"}, "body": "Inspired by #4766 but took me too deep down the rabbit hole... with this PR I hope to \"encourage\" (well -- force) proper annotation of @slow tests:  I have provided an ad-hoc rule of thumb description for `@slow` tests -- those which exceed 10 seconds.  I have annotated the majority of those which exceed that timing on my laptop ATM. \r\nTravis run would fail if any test exceeds 30 seconds when ran in the matrix run which says \"not slow\". After we annotate all `@slow` and merge this PR, it could happen due to\r\n\r\n- PR introduced changes making corresponding test considerably slower.  So either changes should be analyzed to avoid adding slow-down or the test annotated as `@slow`.  If a change caused **many** tests to exceed 30 sec, need even more seriously reconsider OPT **or** boost our \"threshold\" for `@slow` up altogether (should be the measure of the last resort).\r\n- test environment got considerably slower (e.g. switch to new bionic? new annex OPT regression?) - also needs analysis and possible \"boost\" beyond 10/30 sec decision making.\r\n\r\nTimings on my laptop could be positively biased due to use of standalone build which we know is slower.\r\n\r\nTODOs:\r\n- [x] make sure that no test is getting close to the 30sec mark in current travis run, and annotate more if needed... may be boost to 40sec cut off on travis\r\n- check the balance in run time between slow and non-slow travis matrix runs (may be I moved too many of `@slow` :-/\r\n- [x] make a (local) run through `@slow` and see may be some are no longer slow and should get `@slow` removed?", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4768/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4768/timeline", "performed_via_github_app": null}