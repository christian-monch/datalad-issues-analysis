{"url": "https://api.github.com/repos/datalad/datalad/issues/3371", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3371/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3371/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3371/events", "html_url": "https://github.com/datalad/datalad/issues/3371", "id": 439176508, "node_id": "MDU6SXNzdWU0MzkxNzY1MDg=", "number": 3371, "title": "Ability to \"tag\"/annotate commits", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-01T14:07:42Z", "updated_at": "2019-11-08T19:47:51Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Per our discussion and as mentioned in #3370, in particular in the case of run/rerun and repository description rendering (from `run` records) #3358, we would benefit from mechanism to annotate the commits with loosely defined tags.  The immediate usecases I see is having tags such as `curation`, `preprocessing`, `analysis` but then could be more or less specific and multiple per commit.\r\n\r\nSome discussion points\r\n- those tags should not be a part of the commit message so they could be changed later on e.g. to harmonize etc\r\n\r\nPossible implementations:\r\n1.  a file sidecar under datalad control (e.g. `.datalad/history_metadata.json`) where one of the sections could be `tags` and contain a dictionary of tags pointing to list of commits\r\n   - `datalad run` then could get an option `--tags`  or alike to add a record (a separate commit) into that file pointing to the \"run\" commits\r\n   - `datalad rerun` could then consume a list of tags to \"rerun\"\r\n2. [git notes](https://git-scm.com/docs/git-notes)?\r\n\r\nproblems with such sidecar-file (`1.` above):\r\n- since it is not built-in git feature, rewriting git history might invalidate stored in the list commits.  But I do not think it would be a frequent use-case.  If someone consciously rewriting immediate recent history, that already might invalidate the entirety of `run` recorded provenance anyways.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3371/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3371/timeline", "performed_via_github_app": null}