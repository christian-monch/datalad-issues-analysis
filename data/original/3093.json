{"url": "https://api.github.com/repos/datalad/datalad/issues/3093", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3093/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3093/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3093/events", "html_url": "https://github.com/datalad/datalad/issues/3093", "id": 392256885, "node_id": "MDU6SXNzdWUzOTIyNTY4ODU=", "number": 3093, "title": "FOI: git add submodule/  adds content of the subrepo into current one", "user": {"login": "adswa", "id": 29738718, "node_id": "MDQ6VXNlcjI5NzM4NzE4", "avatar_url": "https://avatars.githubusercontent.com/u/29738718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adswa", "html_url": "https://github.com/adswa", "followers_url": "https://api.github.com/users/adswa/followers", "following_url": "https://api.github.com/users/adswa/following{/other_user}", "gists_url": "https://api.github.com/users/adswa/gists{/gist_id}", "starred_url": "https://api.github.com/users/adswa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adswa/subscriptions", "organizations_url": "https://api.github.com/users/adswa/orgs", "repos_url": "https://api.github.com/users/adswa/repos", "events_url": "https://api.github.com/users/adswa/events{/privacy}", "received_events_url": "https://api.github.com/users/adswa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-18T17:20:32Z", "updated_at": "2019-03-20T16:56:36Z", "closed_at": "2019-03-20T16:56:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@yarikoptic is speaking here... just discovered on hydra where we managed to get that git. Either I sucessfully forgot such a behavior of git or it was/is some kind of feature or a bug\r\n\r\n```shell\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ apt-cache policy git\r\ngit:\r\n  Installed: 1:2.13.0~rc1+next.20170430-1~nd80+1\r\n  Candidate: 1:2.13.0~rc1+next.20170430-1~nd80+1\r\n  Version table:\r\n *** 1:2.13.0~rc1+next.20170430-1~nd80+1 0\r\n        500 http://neuro.debian.net/debian-devel/ jessie/main amd64 Packages\r\n        100 /var/lib/dpkg/status\r\n...\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n\r\n\tcomp_stim_features/\r\n\r\nnothing added to commit but untracked files present (use \"git add\" to track)\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ ls comp_stim_features/.git\r\nbranches  config  description  HEAD  hooks  index  info  logs  objects  packed-refs  refs\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ cd comp_stim_features/\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata/comp_stim_features$ git status\r\nOn branch master\r\nYour branch is up-to-date with 'origin/master'.\r\n\r\nnothing to commit, working tree clean\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata/comp_stim_features$ ls -lta\r\ntotal 24\r\ndrwxr-sr-x 8 adina movieloc 4096 Dec 18 12:13 .git\r\ndrwxr-sr-x 7 adina movieloc  150 Dec 18 12:11 .\r\ndrwxr-sr-x 3 adina movieloc   26 Dec 18 12:11 src\r\ndrwxr-sr-x 5 adina movieloc   79 Dec 18 12:11 data\r\ndrwxr-sr-x 2 adina movieloc 4096 Dec 18 12:11 code\r\n-rw-r--r-- 1 adina movieloc 3555 Dec 18 12:11 README.rst\r\n-rw-r--r-- 1 adina movieloc   97 Dec 18 12:11 .gitmodules\r\n-rw-r--r-- 1 adina movieloc 5771 Dec 18 12:11 Makefile\r\ndrwxr-sr-x 2 adina movieloc   52 Dec 18 12:11 .datalad\r\ndrwxr-sr-x 8 adina movieloc  131 Dec 18 12:11 ..\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata/comp_stim_features$ cd ..\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ datalad ls comp_stim_features\r\ncomp_stim_features   [annex]  master  \u2717 2017-07-17/07:34:10  \u2713\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n\r\n\tcomp_stim_features/\r\n\r\nnothing added to commit but untracked files present (use \"git add\" to track)\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ ls -ld comp_stim_features/.git\r\ndrwxr-sr-x 9 adina movieloc 4096 Dec 18 12:13 comp_stim_features/.git\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git add comp_stim_features\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\tnew file:   comp_stim_features\r\n\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git reset\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git add comp_stim_features/\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\tnew file:   comp_stim_features/.datalad/.gitattributes\r\n\tnew file:   comp_stim_features/.datalad/config\r\n\tnew file:   comp_stim_features/.gitmodules\r\n\tnew file:   comp_stim_features/Makefile\r\n\tnew file:   comp_stim_features/README.rst\r\n\tnew file:   comp_stim_features/code/compact_face_feature.py\r\n\tnew file:   comp_stim_features/code/compute_perceptual_difference.py\r\n\tnew file:   comp_stim_features/code/facedetection.py\r\n\tnew file:   comp_stim_features/code/facedetection.submit\r\n\tnew file:   comp_stim_features/code/fg_hashing.py\r\n\tnew file:   comp_stim_features/code/hash_movie_frames.py\r\n\tnew file:   comp_stim_features/code/merge_detection_results.py\r\n\tnew file:   comp_stim_features/data/faces/detected_faces.json.gz\r\n\tnew file:   comp_stim_features/data/faces/detected_faces_compact.json.gz\r\n\tnew file:   comp_stim_features/data/faces/facial_features_by_frame.json.gz\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg0.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg1.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg2.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg3.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg4.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg5.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg6.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/fg_av_ger_seg7.csv\r\n\tnew file:   comp_stim_features/data/frame_hashes/forrestgump_researchcut_720p_avad_ger.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg0.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg1.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg2.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg3.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg4.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg5.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg6.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/fg_av_ger_seg7.csv\r\n\tnew file:   comp_stim_features/data/perceptual_distance/forrestgump_researchcut_720p_avad_ger.csv\r\n```\r\n\r\njust filing so we are aware of this behavior in some version of git (if it is not a common thing)... actually shows also with git 2.19.2 which comes with git-annex-standalone:\r\n```shell\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ export PATH=/usr/lib/git-annex.linux/:$PATH\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git --version\r\ngit version 2.19.2\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nUntracked files:\r\n  (use \"git add <file>...\" to include in what will be committed)\r\n\r\n\tcomp_stim_features/\r\n\r\nnothing added to commit but untracked files present (use \"git add\" to track)\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git add comp_stim_features/\r\nadina@head1:/data/movieloc/backup_store/saccs/sourcedata$ git status\r\nOn branch master\r\nChanges to be committed:\r\n  (use \"git reset HEAD <file>...\" to unstage)\r\n\r\n\tnew file:   comp_stim_features/.datalad/.gitattributes\r\n\tnew file:   comp_stim_features/.datalad/config\r\n\tnew file:   comp_stim_features/.gitmodules\r\n\tnew file:   comp_stim_features/Makefile\r\n\tnew file:   comp_stim_features/README.rst\r\n\tnew file:   comp_stim_features/code/compact_face_feature.py\r\n...\r\n```", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3093/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3093/timeline", "performed_via_github_app": null}