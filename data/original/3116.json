{"url": "https://api.github.com/repos/datalad/datalad/issues/3116", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3116/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3116/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3116/events", "html_url": "https://github.com/datalad/datalad/issues/3116", "id": 397871210, "node_id": "MDU6SXNzdWUzOTc4NzEyMTA=", "number": 3116, "title": "[ERROR] a bytes-like object is required, not 'str' [subprocess.py:list2cmdline:530] (TypeError)", "user": {"login": "chrisgorgo", "id": 238759, "node_id": "MDQ6VXNlcjIzODc1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisgorgo", "html_url": "https://github.com/chrisgorgo", "followers_url": "https://api.github.com/users/chrisgorgo/followers", "following_url": "https://api.github.com/users/chrisgorgo/following{/other_user}", "gists_url": "https://api.github.com/users/chrisgorgo/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisgorgo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisgorgo/subscriptions", "organizations_url": "https://api.github.com/users/chrisgorgo/orgs", "repos_url": "https://api.github.com/users/chrisgorgo/repos", "events_url": "https://api.github.com/users/chrisgorgo/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisgorgo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 188141023, "node_id": "MDU6TGFiZWwxODgxNDEwMjM=", "url": "https://api.github.com/repos/datalad/datalad/labels/platform-windows", "name": "platform-windows", "color": "0052cc", "default": false, "description": "Issue concerned with Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-10T15:04:00Z", "updated_at": "2019-09-21T12:29:05Z", "closed_at": "2019-09-21T12:29:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n`datalad run` errors\r\n#### What steps will reproduce the problem?\r\nFollowing http://www.reproducibleimaging.org/coco2019-training/02-02-distros/\r\n\r\n```\r\nme@christop /c/scratch/ds000114 (adjusted/master(unlocked)) $ git status\r\nOn branch adjusted/master(unlocked)\r\nnothing to commit, working tree clean\r\nme@christop /c/scratch/ds000114 (adjusted/master(unlocked)) $ datalad run 'nib-ls  -s sub-01/ses-test/anat/sub-01_ses-test_T1w.nii.gz > INFO.txt'\r\n[INFO] == Command start (output follows) =====\r\n[INFO] == Command exit (modification check follows) =====\r\n[ERROR] a bytes-like object is required, not 'str' [subprocess.py:list2cmdline:530] (TypeError)\r\n```\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n```\r\n# WTF\r\n- path: C:\\scratch\\ds000114\r\n- type: dataset\r\n## configuration <SENSITIVE, report disabled by configuration>\r\n## datalad \r\n  - full_version: 0.11.1\r\n  - version: 0.11.1\r\n## dataset \r\n  - metadata: <SENSITIVE, report disabled by configuration>\r\n  - path: C:\\scratch\\ds000114\r\n  - repo: AnnexRepo\r\n## dependencies \r\n  - appdirs: 1.4.3\r\n  - boto: 2.48.0\r\n  - cmd:annex: 7.20181206-gc4b6115f7\r\n  - cmd:git: 2.20.1.windows.1\r\n  - cmd:system-git: 2.20.1.windows.1\r\n  - cmd:system-ssh: 7.9p1\r\n  - git: 2.1.10\r\n  - gitdb: 2.0.3\r\n  - humanize: 0.5.1\r\n  - iso8601: 0.1.12\r\n  - keyring: 12.2.1\r\n  - keyrings.alt: 3.1\r\n  - msgpack: 0.5.6\r\n  - requests: 2.21.0\r\n  - six: 1.12.0\r\n  - tqdm: 4.23.4\r\n  - wrapt: 1.10.11\r\n## environment \r\n  - LANG: en_US.UTF-8\r\n  - PATH: C:\\Users\\me\\.yarn\\bin;C:\\Users\\me\\.config\\yarn\\global\\node_modules\\.bin;C:\\Users\\me\\bin;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\local\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\ConEmu\\ConEmu\\Scripts;C:\\Program Files\\ConEmu;C:\\Program Files\\ConEmu\\ConEmu;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\libnvvp;C:\\ProgramData\\DockerDesktop\\version-bin;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\ProgramData\\Boxstarter;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\PuTTY;C:\\Program Files (x86)\\MIT\\Kerberos\\bin;C:\\Program Files\\MiKTeX 2.9\\miktex\\bin\\x64;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\HashiCorp\\Vagrant\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\nodejs;C:\\Users\\me\\.cargo\\bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin;C:\\Users\\me\\AppData\\Roaming\\npm\\node_modules\\windows-build-tools\\node_modules\\.bin;C:\\Users\\me\\AppData\\Roaming\\npm\\node_modules\\.bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\bin;C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\\libnvvp;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files\\Docker\\Docker\\Resources\\bin;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\iCLS;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\iCLS;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0;C:\\WINDOWS\\System32\\OpenSSH;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\PuTTY;C:\\Program Files (x86)\\MIT\\Kerberos\\bin;C:\\Program Files\\Intel\\WiFi\\bin;C:\\Program Files\\Common Files\\Intel\\WirelessCommon;C:\\Program Files\\Git\\cmd;C:\\Program Files\\Git\\mingw64\\bin;C:\\Program Files\\Git\\usr\\bin;C:\\Program Files\\nodejs;C:\\Users\\me\\Miniconda3;C:\\Users\\me\\Miniconda3\\Library\\mingw-w64\\bin;C:\\Users\\me\\Miniconda3\\Library\\usr\\bin;C:\\Users\\me\\Miniconda3\\Library\\bin;C:\\Users\\me\\Miniconda3\\Scripts;C:\\Users\\me\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\me\\AppData\\Local\\atom\\bin;C:\\Program Files\\dcm2niix;C:\\Users\\me\\.windows-build-tools\\python27;C:\\Users\\me\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\me\\AppData\\Local\\Pandoc;C:\\Program Files\\Oracle\\VirtualBox;C:\\Users\\me\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\me\\AppData\\Roaming\\npm;C:\\Program Files\\Git\\usr\\bin\\vendor_perl;C:\\Program Files\\Git\\usr\\bin\\core_perl\r\n  - PYTHONIOENCODING: UTF-8\r\n## extentions \r\n## git-annex \r\n  - build flags: \r\n    - Assistant\r\n    - Webapp\r\n    - Pairing\r\n    - S3(multipartupload)(storageclasses)\r\n    - WebDAV\r\n    - TorrentParser\r\n    - Feeds\r\n    - Testsuite\r\n  - dependency versions: \r\n    - aws-0.17.1\r\n    - bloomfilter-2.0.1.0\r\n    - cryptonite-0.23\r\n    - DAV-1.3.1\r\n    - feed-0.3.12.0\r\n    - ghc-8.0.2\r\n    - http-client-0.5.7.1\r\n    - persistent-sqlite-2.6.2\r\n    - torrent-10000.1.1\r\n    - uuid-1.3.13\r\n    - yesod-1.4.5\r\n  - key/value backends: \r\n    - SHA256E\r\n    - SHA256\r\n    - SHA512E\r\n    - SHA512\r\n    - SHA224E\r\n    - SHA224\r\n    - SHA384E\r\n    - SHA384\r\n    - SHA3_256E\r\n    - SHA3_256\r\n    - SHA3_512E\r\n    - SHA3_512\r\n    - SHA3_224E\r\n    - SHA3_224\r\n    - SHA3_384E\r\n    - SHA3_384\r\n    - SKEIN256E\r\n    - SKEIN256\r\n    - SKEIN512E\r\n    - SKEIN512\r\n    - BLAKE2B256E\r\n    - BLAKE2B256\r\n    - BLAKE2B512E\r\n    - BLAKE2B512\r\n    - BLAKE2B160E\r\n    - BLAKE2B160\r\n    - BLAKE2B224E\r\n    - BLAKE2B224\r\n    - BLAKE2B384E\r\n    - BLAKE2B384\r\n    - BLAKE2S256E\r\n    - BLAKE2S256\r\n    - BLAKE2S160E\r\n    - BLAKE2S160\r\n    - BLAKE2S224E\r\n    - BLAKE2S224\r\n    - BLAKE2SP256E\r\n    - BLAKE2SP256\r\n    - BLAKE2SP224E\r\n    - BLAKE2SP224\r\n    - SHA1E\r\n    - SHA1\r\n    - MD5E\r\n    - MD5\r\n    - WORM\r\n    - URL\r\n  - local repository version: 7\r\n  - operating system: mingw32 i386\r\n  - remote types: \r\n    - git\r\n    - gcrypt\r\n    - p2p\r\n    - S3\r\n    - bup\r\n    - directory\r\n    - rsync\r\n    - web\r\n    - bittorrent\r\n    - webdav\r\n    - adb\r\n    - tahoe\r\n    - glacier\r\n    - ddar\r\n    - hook\r\n    - external\r\n  - supported repository versions: \r\n    - 5\r\n    - 7\r\n  - upgrade supported from repository versions: \r\n    - 2\r\n    - 3\r\n    - 4\r\n    - 5\r\n    - 6\r\n  - version: 7.20181206-gc4b6115f7\r\n## metadata_extractors \r\n  - annex: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.annex\r\n    - version: None\r\n  - audio: \r\n    - load_error: No module named 'mutagen' [audio.py:<module>:17]\r\n    - module: datalad.metadata.extractors.audio\r\n  - datacite: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datacite\r\n    - version: None\r\n  - datalad_core: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datalad_core\r\n    - version: None\r\n  - datalad_rfc822: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.datalad_rfc822\r\n    - version: None\r\n  - exif: \r\n    - load_error: No module named 'exifread' [exif.py:<module>:16]\r\n    - module: datalad.metadata.extractors.exif\r\n  - frictionless_datapackage: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.frictionless_datapackage\r\n    - version: None\r\n  - image: \r\n    - load_error: None\r\n    - module: datalad.metadata.extractors.image\r\n    - version: None\r\n  - xmp: \r\n    - load_error: No module named 'libxmp' [xmp.py:<module>:20]\r\n    - module: datalad.metadata.extractors.xmp\r\n## system \r\n  - distribution:   10/10.0.17763/SP0/Multiprocessor Free\r\n  - encoding: \r\n    - default: utf-8\r\n    - filesystem: utf-8\r\n    - locale.prefered: cp1252\r\n  - max_path_length: 259\r\n  - name: Windows\r\n  - release: 10\r\n  - type: nt\r\n  - version: 10.0.17763\r\n```\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\nThis is a Windows machine. The error happens in Git Bash as well as Powershell.\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3116/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3116/timeline", "performed_via_github_app": null}