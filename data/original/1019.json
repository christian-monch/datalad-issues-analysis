{"url": "https://api.github.com/repos/datalad/datalad/issues/1019", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1019/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1019/events", "html_url": "https://github.com/datalad/datalad/pull/1019", "id": 183209841, "node_id": "MDExOlB1bGxSZXF1ZXN0OTUzNzM1OTI=", "number": 1019, "title": "create --annex-version 6 (or subsequent lock) places .datalad/config under annex, not git", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-10-15T13:30:33Z", "updated_at": "2018-07-14T15:22:34Z", "closed_at": "2016-11-27T15:06:21Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/1019", "html_url": "https://github.com/datalad/datalad/pull/1019", "diff_url": "https://github.com/datalad/datalad/pull/1019.diff", "patch_url": "https://github.com/datalad/datalad/pull/1019.patch"}, "body": "again not sure how it has happened, and which branch I was using at that moment -- master or of currently WiP+BK #1011 but result is stunning:\n\n``` shell\n$> git log -p .datalad\ncommit 3c8c614cf24a9d02534ddcdb8ce879e3ff501723\nAuthor: Yaroslav Halchenko <debian@onerussian.com>\nDate:   Fri Oct 14 16:03:44 2016 -0400\n\n    [DATALAD] new dataset\n\ndiff --git a/.datalad/config b/.datalad/config\nnew file mode 100644\nindex 0000000..c9dce61\n--- /dev/null\n+++ b/.datalad/config\n@@ -0,0 +1 @@\n+/annex/objects/MD5E-s63--6c651a912b39c90ba19405e501bd951c\n```\n\ndetected only upon\n\n``` shell\n(git)smaug:/mnt/datasets/datalad/crawl/dicoms[master]git\n$> datalad aggregate-metadata --guess-native-type -r              \n2016-10-15 09:26:26,923 [INFO   ] aggregating meta data for <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/PHANTOM-20160909> (aggregate.py:107)\n2016-10-15 09:26:27,016 [INFO   ] aggregating meta data for <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/PHANTOM1_3> (aggregate.py:107)\n2016-10-15 09:26:27,066 [WARNING] <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/Philips-20131217> has not configured ID, skipping. (aggregate.py:78)\n2016-10-15 09:26:27,131 [INFO   ] aggregating meta data for <Dataset path=/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test3> (aggregate.py:107)\nfatal: bad config file line 1 in /mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output/.datalad/config\n2016-10-15 09:26:27,441 [ERROR  ] Failed to run ['git', 'config', '-z', '-l', '--file', u'/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output/.datalad/config'] under u'/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output'. Exit code=128. out= err=None (cmd.py:352)\n2016-10-15 09:26:27,442 [ERROR  ] CommandError: command '['git', 'config', '-z', '-l', '--file', u'/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output/.datalad/config']' failed with exitcode 128.\n| Failed to run ['git', 'config', '-z', '-l', '--file', u'/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output/.datalad/config'] under u'/mnt/datasets/datalad/crawl/dicoms/dartmouth-phantoms/bids_test4-20161014/bids-output'. Exit code=128. out= err=None [cmd.py:run:353] (CommandError) (main.py:272)\n\n```\n", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1019/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1019/timeline", "performed_via_github_app": null}