{"url": "https://api.github.com/repos/datalad/datalad/issues/2068", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2068/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2068/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2068/events", "html_url": "https://github.com/datalad/datalad/issues/2068", "id": 287809344, "node_id": "MDU6SXNzdWUyODc4MDkzNDQ=", "number": 2068, "title": "ENH: Add reprozip integration to the run command", "user": {"login": "kskyten", "id": 4163878, "node_id": "MDQ6VXNlcjQxNjM4Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/4163878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kskyten", "html_url": "https://github.com/kskyten", "followers_url": "https://api.github.com/users/kskyten/followers", "following_url": "https://api.github.com/users/kskyten/following{/other_user}", "gists_url": "https://api.github.com/users/kskyten/gists{/gist_id}", "starred_url": "https://api.github.com/users/kskyten/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kskyten/subscriptions", "organizations_url": "https://api.github.com/users/kskyten/orgs", "repos_url": "https://api.github.com/users/kskyten/repos", "events_url": "https://api.github.com/users/kskyten/events{/privacy}", "received_events_url": "https://api.github.com/users/kskyten/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 655634847, "node_id": "MDU6TGFiZWw2NTU2MzQ4NDc=", "url": "https://api.github.com/repos/datalad/datalad/labels/good-for-hackathon", "name": "good-for-hackathon", "color": "fbca04", "default": false, "description": ""}, {"id": 2767259861, "node_id": "MDU6TGFiZWwyNzY3MjU5ODYx", "url": "https://api.github.com/repos/datalad/datalad/labels/cmd-run/rerun", "name": "cmd-run/rerun", "color": "FEF2C0", "default": false, "description": "Issues about the favorite command of ReproPeople"}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-11T14:42:19Z", "updated_at": "2021-03-09T06:58:37Z", "closed_at": null, "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### What is the problem?\r\nAs far as I'm aware the current `datalad run` command only records the actual command that was run and the affected files within a git repository. Adding [reprozip](https://www.reprozip.org/) would make the commands reproducable by recording the whole execution environment. In addition, it would be possible to add files that are outside of the repository, but needed for the execution of the command.\r\n\r\nWhat is missing from reprozip is the ability to record graphical dependencies (i.e it only records a single step from inputs to outputs). By recording the whole graph of dependencies, it would be possible to branch out from an earlier step in a workflow. Reprozip has a plugin to [Vistrails](https://www.vistrails.org/index.php/Main_Page), which would provide a nice interface for modifying the workflows.\r\n\r\nThe first stage of integration would probaby be to just dump the reprozip packages into a folder inside a repository, use reprounzip for rerunning the commands, and then moving the outputs to the correct location.  Ideally it would run directly on top of the repository and use git to checkout the correct state of the repository for re-execution.\r\n\r\n[Sumatra](https://github.com/open-research/sumatra) is a project for reproducing results and is also worht a look.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2068/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2068/timeline", "performed_via_github_app": null}