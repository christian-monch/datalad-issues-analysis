{"url": "https://api.github.com/repos/datalad/datalad/issues/2547", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2547/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2547/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2547/events", "html_url": "https://github.com/datalad/datalad/pull/2547", "id": 326119272, "node_id": "MDExOlB1bGxSZXF1ZXN0MTkwMjg3Njgw", "number": 2547, "title": "ENH: cmdline: Disable abbreviations for long options", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-05-24T13:21:18Z", "updated_at": "2018-07-15T06:58:03Z", "closed_at": "2018-05-24T16:19:59Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/2547", "html_url": "https://github.com/datalad/datalad/pull/2547", "diff_url": "https://github.com/datalad/datalad/pull/2547.diff", "patch_url": "https://github.com/datalad/datalad/pull/2547.patch"}, "body": "argparse's abbreviation feature makes it impossible to add a subparser\r\nlong option that is a prefix of a long option from the top-level\r\nparser.  For example, adding --report to a subparser would fail with\r\n\"datalad: error: ambiguous option: --report could match\r\n--report-status, --report-type\".\r\n\r\nThanks to @yarikoptic for realizing that the abbreviation feature was\r\nthe root issue.\r\n\r\nRe: https://github.com/datalad/datalad/pull/2544#issuecomment-391563279\r\n\r\n---\r\n\r\n- [x] This change is complete\r\n\r\nWhat do others think about this?  Do you think many people were using abbreviated options with datalad?  (I suppose if none of us knew about it, that'd say something.)  Are we comfortable overriding ArgumentParser's internal _get_option_tuples?\r\n\r\n\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2547/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2547/timeline", "performed_via_github_app": null}