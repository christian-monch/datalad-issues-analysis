{"url": "https://api.github.com/repos/datalad/datalad/issues/3583", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3583/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3583/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3583/events", "html_url": "https://github.com/datalad/datalad/issues/3583", "id": 476417911, "node_id": "MDU6SXNzdWU0NzY0MTc5MTE=", "number": 3583, "title": "datalad + openneuro integration", "user": {"login": "jasmainak", "id": 15852194, "node_id": "MDQ6VXNlcjE1ODUyMTk0", "avatar_url": "https://avatars.githubusercontent.com/u/15852194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasmainak", "html_url": "https://github.com/jasmainak", "followers_url": "https://api.github.com/users/jasmainak/followers", "following_url": "https://api.github.com/users/jasmainak/following{/other_user}", "gists_url": "https://api.github.com/users/jasmainak/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasmainak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasmainak/subscriptions", "organizations_url": "https://api.github.com/users/jasmainak/orgs", "repos_url": "https://api.github.com/users/jasmainak/repos", "events_url": "https://api.github.com/users/jasmainak/events{/privacy}", "received_events_url": "https://api.github.com/users/jasmainak/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-08-03T05:27:44Z", "updated_at": "2021-04-10T16:23:52Z", "closed_at": "2019-08-03T14:54:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### What is the problem?\r\nWe're trying to use datalad in MNE with @sappelhoff and @agramfort to fetch some MEG and EEG datasets but we keep hitting roadblocks. I want to open an issue where we can list our complaints :) We were trying to update a dataset on Openneuro and [after some huff and puff](https://github.com/OpenNeuroOrg/openneuro/issues/1226) we did manage to update it. However, now we can't download the dataset using datalad.\r\n\r\n#### What steps will reproduce the problem?\r\nDo the following:\r\n\r\n1. Update an openneuro dataset (ds000248 in our case)\r\n2. Then run the following two commands:\r\n```sh\r\n$ datalad install https://github.com/OpenNeuroDatasets/ds000248\r\n$ cd ds000248\r\n$ datalad get sub-01\r\n```\r\nand I get\r\n\r\n```py\r\nTotal (1 ok, 3 failed out of 4):   7%|\u2588\u2588\u2588                                          | 10.6M/153M [00:07<01:06, 2.15MB/s][WARNING] Running get resulted in stderr output:   Remote is configured to use versioning, but no S3 version ID is recorded for this key\r\n  Remote is configured to use versioning, but no S3 version ID is recorded for this key\r\n  Remote is configured to use versioning, but no S3 version ID is recorded for this key\r\n  Remote is configured to use versioning, but no S3 version ID is recorded for this key\r\n  unknown export location\r\n  unknown export location\r\n  unknown export location\r\ngit-annex: get: 3 failed\r\n \r\n                                                                                                                       [ERROR  ] from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin) [get(/home/mainak/data/ds000248/sub-01/anat/sub-01_T1w.nii.gz)] \r\nget(error): /home/mainak/data/ds000248/sub-01/anat/sub-01_T1w.nii.gz (file) [from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin)]\r\n[ERROR  ] from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin) [get(/home/mainak/data/ds000248/sub-01/anat/sub-01_acq-flipangle05_run-01_MEFLASH.nii.gz)] \r\nget(error): /home/mainak/data/ds000248/sub-01/anat/sub-01_acq-flipangle05_run-01_MEFLASH.nii.gz (file) [from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin)]\r\n[ERROR  ] from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin) [get(/home/mainak/data/ds000248/sub-01/meg/sub-01_task-audiovisual_run-01_meg.fif)] \r\nget(error): /home/mainak/data/ds000248/sub-01/meg/sub-01_task-audiovisual_run-01_meg.fif (file) [from s3-PUBLIC...; Unable to access these remotes: s3-PUBLIC; Try making some of these repositories available:; \t82a4b182-753f-4d93-a59e-20cfdd4d4237 -- [s3-PUBLIC];  \te3612a8a-0c48-4374-9bfb-888f4010be54 -- root@1f69c4ed80cf:/datalad/ds000248; ; (Note that these git remotes have annex-ignore set: origin)]\r\nget(ok): /home/mainak/data/ds000248/sub-01/anat/sub-01_acq-flipangle30_run-01_MEFLASH.nii.gz (file) [from s3-PUBLIC...]\r\n[WARNING] could not get some content in /home/mainak/data/ds000248/sub-01 ['/home/mainak/data/ds000248/sub-01/anat/sub-01_T1w.nii.gz', '/home/mainak/data/ds000248/sub-01/anat/sub-01_acq-flipangle05_run-01_MEFLASH.nii.gz', '/home/mainak/data/ds000248/sub-01/meg/sub-01_task-audiovisual_run-01_meg.fif'] [get(/home/mainak/data/ds000248/sub-01)] \r\nget(impossible): /home/mainak/data/ds000248/sub-01 (directory) [could not get some content in /home/mainak/data/ds000248/sub-01 ['/home/mainak/data/ds000248/sub-01/anat/sub-01_T1w.nii.gz', '/home/mainak/data/ds000248/sub-01/anat/sub-01_acq-flipangle05_run-01_MEFLASH.nii.gz', '/home/mainak/data/ds000248/sub-01/meg/sub-01_task-audiovisual_run-01_meg.fif']]\r\naction summary:\r\n  get (error: 3, impossible: 1, ok: 1)\r\n```\r\n@sappelhoff did some digging and found [this repo](https://github.com/OpenNeuroDatasets) which seems to indicate that there is some auto updating (?) being done. But it's not clear to us how long we have to wait till this has finished. I updated the dataset more than 6 hours ago and it's not more than a GB I think. Perhaps this is more an Openneuro question. _However_, even if the dataset has not been updated, I should be able to get the older version. So, I tried:\r\n\r\n```sh\r\n$ git checkout HEAD~1\r\n$ ls\r\n```\r\nand it gave me an empty directory. I was expecting it to have the older version of the dataset, but maybe I don't understand fully here how datalad should behave.\r\n\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad wtf`)?\r\n\r\ndatalad 0.11.5\r\n\r\n#### Is there anything else that would be useful to know in this context?\r\n\r\nI want to know what's the easiest way to make it work in the shortest amount of time :)\r\n\r\n#### Have you had any success using DataLad before? (to assess your expertise/prior luck.  We would welcome your testimonial additions to https://github.com/datalad/datalad/wiki/Testimonials as well)\r\n\r\nWould love to add a testimonial once we have it integrated in our CIs ;-)", "closed_by": {"login": "jasmainak", "id": 15852194, "node_id": "MDQ6VXNlcjE1ODUyMTk0", "avatar_url": "https://avatars.githubusercontent.com/u/15852194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jasmainak", "html_url": "https://github.com/jasmainak", "followers_url": "https://api.github.com/users/jasmainak/followers", "following_url": "https://api.github.com/users/jasmainak/following{/other_user}", "gists_url": "https://api.github.com/users/jasmainak/gists{/gist_id}", "starred_url": "https://api.github.com/users/jasmainak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jasmainak/subscriptions", "organizations_url": "https://api.github.com/users/jasmainak/orgs", "repos_url": "https://api.github.com/users/jasmainak/repos", "events_url": "https://api.github.com/users/jasmainak/events{/privacy}", "received_events_url": "https://api.github.com/users/jasmainak/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3583/reactions", "total_count": 1, "+1": 1, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3583/timeline", "performed_via_github_app": null}