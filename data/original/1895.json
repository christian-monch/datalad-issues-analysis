{"url": "https://api.github.com/repos/datalad/datalad/issues/1895", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1895/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1895/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1895/events", "html_url": "https://github.com/datalad/datalad/issues/1895", "id": 265152230, "node_id": "MDU6SXNzdWUyNjUxNTIyMzA=", "number": 1895, "title": "DLMSEP#0: allow to render records with keys missing (was: result rendering failed)", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-10-13T02:41:10Z", "updated_at": "2020-11-11T07:13:38Z", "closed_at": "2020-11-11T07:13:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\n```shell\r\n$ DATALAD_METADATA_SEARCHINDEX__DOCUMENTTYPE=datasets  datalad --output-format '{metadata[dicom#AccessionNumber]} {metadata[dicom#StudyDescription]} {metadata[dicom#PatientID]}' search *track*\r\n[INFO   ] Query completed in 1.33732199669 sec. Reporting max. 20 top matches. \r\n... some hits ...\r\n[WARNING] Result rendering failed for: {'status': 'ok', 'query_matched': {u'dicom:PerformedProcedureStepDescription': u'1004_ontrack', u'dicom:StudyDescription': u'1004_ontrack'}, 'action': 'search', 'path': u'/mnt/DICOM/test2/inbox/2016/12/06/unknown', 'refds': '/mnt/DICOM/test2/inbox', 'metadata': {u'dicom:SliceThickness': u'1.60000002384, 2.40000009537', u'dicom:InstitutionName': u'Dartmouth College - PBS', u'dicom:InstitutionalDepartmentName': u'Department', u'dicom:PatientAge': u'016Y', u'dicom:PerformedProcedureStepStartDate': u'20161206', u'dicom:InstanceCreationDate': u'20161206', u'dicom:SpecificCharacterSet': u'ISO_IR 100', u'dicom:RepetitionTime': u'3.15, 1000.0', u'dicom:PerformedProcedureStepDescription': u'Heatherton_Stanger^1004_ontrack', u'dicom:InstitutionAddress': u'Maynard 3,Hanover,NH,US,03755', u'dicom:PerformedProcedureStepID': u'MR20161206153028', u'dicom:PhotometricInterpretation': u'MONOCHROME2', u'dicom:EchoNumbers': u'1', u'dicom:AcquisitionNumber': u'1', u'dicom:NumberOfPhaseEncodingSteps': u'90, 118', u'dicom:BitsAllocated': u'16', u'dicom:PatientID': u'test', u'dicom:ImageType': u'DERIVED, PRIMARY, MPR, ND, NORM, ORIGINAL, PRIMARY, FMRI, NONE, ND, NORM, MOSAIC, ORIGINAL, PRIMARY, M, ND, NORM', u'dicom:SeriesNumber': u'1, 2, 3, 4, 6, 8', u'dicom:StationName': u'AWP66112', u'dicom:ImageOrientationPatient': u'0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, -1, 1, 0, 0, 0, 1, 0, 1, 0, 2.834e-012, 0, 1, 4.044e-012', u'dicom:SAR': u'0.0179611263317, 0.114817299137', u'dicom:Modality': u'MR', u'dicom:SequenceName': u'*epfid2d1_90, *fl3d1_ns', u'dicom:SoftwareVersions': u'syngo MR E11', u'dicom:InPlanePhaseEncodingDirection': u'COL, ROW', u'dicom:ScanningSequence': u'EP, GR', u'dicom:StudyDescription': u'Heatherton_Stanger^1004_ontrack', u'dicom:MagneticFieldStrength': u'3.0', u'dicom:PatientBirthDate': u'20000101', u'dicom:DeviceSerialNumber': u'66112', u'dicom:SpacingBetweenSlices': u'2.40000007266', u'dicom:SliceLocation': u'-80.2012710571', u'dicom:ProtocolName': u'anat-scout_run+, func_run+_task-rest_acq-2.4mm64sl1000tr32te600dyn', u'dicom:ScanOptions': u'FS, PFP', u'dicom:FlipAngle': u'8.0, 90.0', u'type': u'dataset', u'dicom:SeriesDescription': u'anat-scout_run+, anat-scout_run+_MPR_cor, anat-scout_run+_MPR_sag, anat-scout_run+_MPR_tra, func_run+_task-rest_acq-2.4mm64sl1000tr32te600dyn', u'dicom:SeriesTime': u'153121.658000, 153122.307000, 153122.380000, 153122.468000, 154208.150000, 154333.986000', u'dicom:AngioFlag': u'N', u'dicom:ContentDate': u'20161206', u'dicom:SOPClassUID': u'MR Image Storage', u'dicom:EchoTrainLength': u'1, 45', u'dicom:ImagePositionPatient': u'-864.00003433206, -870.93189811707, -80.201271063072', u'dicom:PatientSex': u'O', u'dicom:SequenceVariant': u'SK, SP', u'dicom:VariableFlipAngleFlag': u'N', u'dicom:PerformedProcedureStepStartTime': u'153028.679000', u'dicom:NumberOfAverages': u'1.0', u'dicom:AcquisitionDate': u'20161206', u'dicom:Manufacturer': u'SIEMENS', u'dicom:StudyInstanceUID': u'1.3.12.2.1107.5.2.43.66112.30000016120620302852900000001', u'dicom:SeriesInstanceUID': u'1.3.12.2.1107.5.2.43.66112.2016120615311667971400737.0.0.0, 1.3.12.2.1107.5.2.43.66112.2016120615312097621601816.0.0.0, 1.3.12.2.1107.5.2.43.66112.2016120615312097781701838.0.0.0, 1.3.12.2.1107.5.2.43.66112.2016120615312097975401866.0.0.0, 1.3.12.2.1107.5.2.43.66112.2016120615413137816602291.0.0.0, 1.3.12.2.1107.5.2.43.66112.2016120615422078532204052.0.0.0', u'dicom:HighBit': u'11', u'dicom:BodyPartExamined': u'BRAIN', u'dicom:EchoTime': u'1.37, 32.0', u'dicom:ImagingFrequency': u'123.252586, 123.252589', u'dicom:AcquisitionMatrix': u'0, 160, 160, 0, 160, 0, 0, 160, 90, 0, 0, 90', u'@id': u'3fcc3a10-aa02-11e7-80af-ac162d79559c', u'dicom:StudyID': u'7', u'dicom:AcquisitionTime': u'153102.670000', u'dicom:PatientName': u'test', u'dicom:PixelSpacing': u'1.60000002384, 1.60000002384, 1.625, 1.625, 2.4000000953674, 2.4000000953674', u'dicom:PatientPosition': u'HFS', u'dicom:BitsStored': u'12', u'dicom:ImagedNucleus': u'1H', u'dicom:WindowCenterWidthExplanation': u'Algo1', u'dicom:MRAcquisitionType': u'2D, 3D', u'dicom:StudyTime': u'153028.519000', u'dicom:Rows': u'160, 162, 720', u'dicom:PixelBandwidth': u'540.0, 2315.0', u'dicom:SamplesPerPixel': u'1', u'dicom:PercentSampling': u'100.0', u'dicom:StudyDate': u'20161206', u'dicom:Columns': u'160, 162, 720', u'dicom:PatientSize': u'1.82880366', u'dicom:TransmitCoilName': u'Body', u'dicom:FrameOfReferenceUID': u'1.3.12.2.1107.5.2.43.66112.1.20161206153028864.0.0.0', u'dicom:PercentPhaseFieldOfView': u'100.0', u'dicom:PatientWeight': u'90.71848554', u'dicom:SeriesDate': u'20161206', u'dicom:ManufacturerModelName': u'Prisma'}} [u'dicom#AccessionNumber' [base.py:<lambda>:408]] \r\nA000... # more hits\r\n```\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1895/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1895/timeline", "performed_via_github_app": null}