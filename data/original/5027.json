{"url": "https://api.github.com/repos/datalad/datalad/issues/5027", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5027/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5027/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5027/events", "html_url": "https://github.com/datalad/datalad/issues/5027", "id": 720043521, "node_id": "MDU6SXNzdWU3MjAwNDM1MjE=", "number": 5027, "title": "Windows: Installed subdatasets are not registered under their url but a relative path", "user": {"login": "adswa", "id": 29738718, "node_id": "MDQ6VXNlcjI5NzM4NzE4", "avatar_url": "https://avatars.githubusercontent.com/u/29738718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adswa", "html_url": "https://github.com/adswa", "followers_url": "https://api.github.com/users/adswa/followers", "following_url": "https://api.github.com/users/adswa/following{/other_user}", "gists_url": "https://api.github.com/users/adswa/gists{/gist_id}", "starred_url": "https://api.github.com/users/adswa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adswa/subscriptions", "organizations_url": "https://api.github.com/users/adswa/orgs", "repos_url": "https://api.github.com/users/adswa/repos", "events_url": "https://api.github.com/users/adswa/events{/privacy}", "received_events_url": "https://api.github.com/users/adswa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 188141023, "node_id": "MDU6TGFiZWwxODgxNDEwMjM=", "url": "https://api.github.com/repos/datalad/datalad/labels/platform-windows", "name": "platform-windows", "color": "0052cc", "default": false, "description": "Issue concerned with Windows"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-10-13T09:21:39Z", "updated_at": "2020-11-05T11:40:51Z", "closed_at": "2020-11-05T11:40:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When installing a dataset as a subdataset from a URL I expect that the subdataset is registered together with this URL. While it works on Unix, on Windows not the URL, but only the path within the superdataset is registered. The URL information is lost:\r\n\r\n```\r\n(base) C:\\Users\\datalad\\testing>datalad create toplevel && cd toplevel\r\n[INFO] Creating a new annex repo at C:\\Users\\datalad\\testing\\toplevel\r\n[INFO] Detected a filesystem without fifo support.\r\n[INFO] Disabling ssh connection caching.\r\n[INFO] Detected a crippled filesystem.\r\n[INFO] Scanning for unlocked files (this may take some time)\r\n[INFO] Entering an adjusted branch where files are unlocked as this filesystem does not support locked files.\r\n[INFO] Switched to branch 'adjusted/master(unlocked)'\r\ncreate(ok): C:\\Users\\datalad\\testing\\toplevel (dataset)\r\n\r\n(base) C:\\Users\\datalad\\testing\\toplevel>datalad clone -d . https://github.com/datalad-handbook/iris_data.git input/\r\n[INFO] Detected a filesystem without fifo support.\r\n[INFO] Disabling ssh connection caching.\r\n[INFO] Detected a crippled filesystem.\r\n[INFO] Scanning for unlocked files (this may take some time)\r\n[INFO] Entering an adjusted branch where files are unlocked as this filesystem does not support locked files.\r\n[INFO] Switched to branch 'adjusted/master(unlocked)'\r\n[INFO] Remote origin not usable by git-annex; setting annex-ignore\r\ninstall(ok): C:\\Users\\datalad\\testing\\toplevel\\input (dataset)\r\nadd(ok): C:\\Users\\datalad\\testing\\toplevel\\input (file)\r\nadd(ok): C:\\Users\\datalad\\testing\\toplevel\\.gitmodules (file)\r\nsave(ok): C:\\Users\\datalad\\testing\\toplevel (dataset)\r\naction summary:\r\n  add (ok: 2)\r\n  install (ok: 1)\r\n  save (ok: 1)\r\n### No url in .gitmodules, only paths\r\n(base) C:\\Users\\datalad\\testing\\toplevel>cat .gitmodules\r\n[submodule \"input\"]\r\n        path = input\r\n        url = ./input\r\n        datalad-id = 5800e71c-09f9-11ea-98f1-e86a64c8054c\r\n```", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5027/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5027/timeline", "performed_via_github_app": null}