{"url": "https://api.github.com/repos/datalad/datalad/issues/5288", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/5288/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/5288/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/5288/events", "html_url": "https://github.com/datalad/datalad/issues/5288", "id": 780866156, "node_id": "MDU6SXNzdWU3ODA4NjYxNTY=", "number": 5288, "title": "address rate limiting on \"docker pull\" of our ssh image", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2021-01-06T21:47:17Z", "updated_at": "2021-01-12T19:24:28Z", "closed_at": "2021-01-12T19:24:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "here and there we now keep getting following errors:\r\n\r\n```\r\nlatest: Pulling from dataladtester/docker-ssh-target\r\nanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit\r\nThe command \"tools/ci/prep-travis-forssh.sh\" failed and exited with 1 during .\r\nYour build has been stopped.\r\n```\r\n\r\nwhich is due to \r\n\r\n    The rate limits of 100 container image requests per six hours for anonymous usage, \r\n    and 200 container image requests per six hours for free Docker accounts are now in effect\r\n\r\nI guess possible ways to mitigate:\r\n- :dollar: pay\r\n- :rocket: retry a few times with some delays.  our CI runs long enough that we would likely \"escape\" the exceeding the limit \r\n- :-1: setup to use free account to double the limit \r\n- :heart: add images to https://github.com/datalad-tester/dev-containers , host those images ourselves (e.g. within github LFS, OSF, and/or datasets.datalad.org)  and use datalad-container\r\n  -  my main concern is that to achieve that we need to have datalad and datalad-container installed first and it might \"taint\" our testing :-/ possible mitigation: lean helper which would just use git-annex directly to `get` that container files, and run the same `docker import` etc as datalad-container does.\r\n- :eyes: : there is also caching, which boils down to the same docker save/load: https://stackoverflow.com/questions/32866599/can-travis-ci-cache-docker-images but travis advises against caching them: https://docs.travis-ci.com/user/caching/#things-not-to-cache \r\n\r\nWDYT (can vote, sorry -- no votes for :dollar: ;)) -- may be there is some better way I do not see?\r\n\r\n", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/5288/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/5288/timeline", "performed_via_github_app": null}