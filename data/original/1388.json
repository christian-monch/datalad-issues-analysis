{"url": "https://api.github.com/repos/datalad/datalad/issues/1388", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1388/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1388/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1388/events", "html_url": "https://github.com/datalad/datalad/issues/1388", "id": 215270695, "node_id": "MDU6SXNzdWUyMTUyNzA2OTU=", "number": 1388, "title": "adding an existing sub-dataset is taking WAY TOO LONG", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-03-19T15:16:13Z", "updated_at": "2017-03-23T10:12:42Z", "closed_at": "2017-03-23T10:12:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With intent to add a new already present annex as a subdataset, ran following command but gave up on waiting\r\n\r\n```shell\r\n(venv-tests)3 10571.....................................:Sun 19 Mar 2017 11:06:40 AM EDT:.\r\n(git)smaug:/mnt/datasets/datalad/crawl/openfmri[master]git\r\n$> datalad add -d . ds000017\r\n^CERROR: \r\nInterrupted by user while doing magic:  [genericpath.py:isdir:41]\r\n(venv-tests)3 10572 ->1.....................................:Sun 19 Mar 2017 11:09:07 AM EDT:.\r\n```\r\n\r\nas you can see I gave up after waiting almost 3 minutes for add to do what should take a second (git submodule add, git commit).  It is also not clear what the heck it is actually doing since no debug messages at any level.  Here interrupting after waiting for just a few seconds:\r\n\r\n```\r\n...\r\n[DEBUG  ] Using existing Git repository at /mnt/datasets/datalad/crawl/openfmri/ds000017 \r\n[DEBUG  ] Running: ['git', 'config', '-z', '-l', '--file', '/mnt/datasets/datalad/crawl/openfmri/ds000017/.datalad/config']\r\n| cwd: /mnt/datasets/datalad/crawl/openfmri/ds000017 \r\n[Level 8] Finished running ['git', 'config', '-z', '-l', '--file', '/mnt/datasets/datalad/crawl/openfmri/ds000017/.datalad/config'] with status 0 \r\n[DEBUG  ] Running: ['git', 'config', '-z', '-l']\r\n| cwd: /mnt/datasets/datalad/crawl/openfmri/ds000017 \r\n[Level 8] Finished running ['git', 'config', '-z', '-l'] with status 0 \r\n[Level 5] Parsed ri /mnt/datasets/datalad/crawl/openfmri/ds000017A into fields {'username': '', 'scheme': '', 'fragment': '', 'hostname': '', 'query': '', 'path': '/mnt/datasets/datalad/crawl/openfmri/ds000017A', 'password': '', 'port': ''} \r\n[Level 5] Detected file ri \r\n[Level 5] Parsed ri ../ds000017B into fields {'username': '', 'scheme': '', 'fragment': '', 'hostname': '', 'query': '', 'path': '../ds000017B', 'password': '', 'port': ''} \r\n[Level 5] Detected file ri \r\n[DEBUG  ] Running: ['git', 'config', '-z', '-l', '--file', '/mnt/datasets/datalad/crawl/openfmri/ds000017/.datalad/config']\r\n| cwd: /mnt/datasets/datalad/crawl/openfmri/ds000017 \r\n[Level 8] Finished running ['git', 'config', '-z', '-l', '--file', '/mnt/datasets/datalad/crawl/openfmri/ds000017/.datalad/config'] with status 0 \r\n[DEBUG  ] Running: ['git', 'config', '-z', '-l']\r\n| cwd: /mnt/datasets/datalad/crawl/openfmri/ds000017 \r\n[Level 8] Finished running ['git', 'config', '-z', '-l'] with status 0 \r\n[Level 5] Removing temp file: /home/yoh/.tmp/datalad_temp_logs_mNU_n3 \r\n^CERROR: \r\nInterrupted by user while doing magic:  [genericpath.py:isdir:41]\r\n```\r\n\r\nwhile I was composing this one, it finally completed but I have lost that history due to limited terminal history size.  I suspect that it is due to mentioned somewhere else before now detailed listing of all sub-datasets (we care just to know the list of them) while trying to figure anything out about another sub-dataset.  Here there is a good number of them, so takes a while, although probably not really necessary", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1388/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1388/timeline", "performed_via_github_app": null}