{"url": "https://api.github.com/repos/datalad/datalad/issues/2583", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2583/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2583/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2583/events", "html_url": "https://github.com/datalad/datalad/issues/2583", "id": 327285317, "node_id": "MDU6SXNzdWUzMjcyODUzMTc=", "number": 2583, "title": "`run` should get some kind of `--wait` or `--lockfile` switch", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-05-29T11:47:11Z", "updated_at": "2018-09-14T14:00:39Z", "closed_at": "2018-09-14T14:00:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Which takes some kind of  expression (probably another shell) command that get evaluated and `run` blocks until this expression gets a zero exit code.\r\n\r\nOr simpler: `--wait` or `--lockfile` gets the path to a lock file that `run` will create before it starts executing the command (but after it determined the dataset to be clean). It will then block until that lock file is no longer there.\r\n\r\nI like the latter!\r\n\r\nUse case: Command execution on a cluster system. I have my code and my submit files in the dataset, so all nice and tidy, but `run` will never get the results unless I use some kind of blocking submission. Which would push the duty to find such command for any given batch system onto the user, but any job should be able to `rm` such a file. The file could be (should be) in any location, not just within the dataset to be able to deal with system that do not have a fully shared file system.", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2583/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2583/timeline", "performed_via_github_app": null}