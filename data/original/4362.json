{"url": "https://api.github.com/repos/datalad/datalad/issues/4362", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4362/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4362/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4362/events", "html_url": "https://github.com/datalad/datalad/pull/4362", "id": 590536517, "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk1ODUyMzIz", "number": 4362, "title": "update: Adjust test for v2 wire protocol default", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-30T19:30:22Z", "updated_at": "2020-03-30T21:08:20Z", "closed_at": "2020-03-30T21:05:44Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4362", "html_url": "https://github.com/datalad/datalad/pull/4362", "diff_url": "https://github.com/datalad/datalad/pull/4362.diff", "patch_url": "https://github.com/datalad/datalad/pull/4362.patch"}, "body": "An update() test expects a failure when fetching an unadvertised\r\nobject, but this failure no longer happens by default with Git\r\nv2.26.0, specifically 684ceae32d (fetch: default to protocol version\r\n2, 2019-12-23).  v2 unconditionally supports fetching unadvertised\r\nobjects.\r\n\r\nTrigger the desired failure with the latest Git by instructing the\r\nclient to use v0.  This is the same approach that Git uses for its own\r\ntests that expect fetching an unadvertised object to fail: ab0c5f5096\r\n(tests: always test fetch of unreachable with v0, 2019-02-25).\r\n\r\n---\r\n\r\n- [X] drop temp commit after verifying that build with Git 2.26.0 passes\r\n      update: [passed](https://travis-ci.org/github/datalad/datalad/builds/668917060)", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4362/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4362/timeline", "performed_via_github_app": null}