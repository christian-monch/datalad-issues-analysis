{"url": "https://api.github.com/repos/datalad/datalad/issues/2925", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2925/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2925/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2925/events", "html_url": "https://github.com/datalad/datalad/issues/2925", "id": 370652508, "node_id": "MDU6SXNzdWUzNzA2NTI1MDg=", "number": 2925, "title": "Rename ok_clean_git's {index,head}_modified parameters?", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-16T14:51:31Z", "updated_at": "2019-07-12T19:42:42Z", "closed_at": "2019-07-12T19:42:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was confused recently when I saw a test call `ok_clean_git(..., index_modified=<paths>)`. I guessed that meant \"the state of <paths> in the index is changed compared to HEAD\" (i.e. these paths have staged changes). Instead it means \"these paths in the index have changes compared the working tree\" (i.e. these paths have unstaged changes). While the index is modified compared to the working tree, `index_modified` is confusing given that the most common way to get in this state is to change paths in the working tree but *not* update/modify the index.\r\n\r\nOn the other hand, I didn't have a guess about what `head_modified` would mean because it's not clear what's being diffed against HEAD. It turns out that the *index* is being diffed against HEAD, giving us staged changes. This adds to the confusion of the `index_modified` name.\r\n\r\nSo\r\n\r\n-   `index_modified` -> index modified compared to working tree -> unstaged files\r\n-   `head_modified` -> index modified compared to HEAD -> staged files\r\n\r\nI'd like to rename `index_modified` to `unstaged_paths` and `head_modified` to `staged_paths`. None of the extensions that I checked used these parameters, so it looks like only the callers in datalad itself would need to be changed.\r\n\r\nThoughts?", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2925/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2925/timeline", "performed_via_github_app": null}