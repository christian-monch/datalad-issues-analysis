{"url": "https://api.github.com/repos/datalad/datalad/issues/1109", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1109/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1109/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1109/events", "html_url": "https://github.com/datalad/datalad/issues/1109", "id": 188714163, "node_id": "MDU6SXNzdWUxODg3MTQxNjM=", "number": 1109, "title": "neither `save` nor `add` do handle registering (multiple) subdataset properly", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778590, "node_id": "MDU6TGFiZWw2Mzc3ODU5MA==", "url": "https://api.github.com/repos/datalad/datalad/labels/severity-normal", "name": "severity-normal", "color": "ff8888", "default": false, "description": "standard severity"}, {"id": 440544386, "node_id": "MDU6TGFiZWw0NDA1NDQzODY=", "url": "https://api.github.com/repos/datalad/datalad/labels/fix-implemented", "name": "fix-implemented", "color": "0e8a16", "default": false, "description": "A fix is available, but has not been merged or released, yet."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-11-11T09:01:37Z", "updated_at": "2017-01-18T18:52:31Z", "closed_at": "2017-01-18T18:52:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Starts with a directory that is not a dataset, but has datasets in subdirectories. And now this:\r\n\r\n````\r\n$ datalad create --force \r\n[INFO   ] Creating a new annex repo at '.' \r\nCreated dataset at '.'\r\n$ datalad ls -r\r\n.   [annex]  master  - 2016-11-11/09:50:27  X\r\n# save four subdatasets (each of them is clean at this point)\r\n$ datalad save -m \"Project pieces\" aligned dicoms raw templatesntransforms \r\nTotal:   0%|                                                                  | 0.00/94.0 [00:00<?, ?B/s]\r\nSaved state: \"Project pieces\" by Me [fc64bd0b1625d59d4d9cfb5aba88e4f54a21850b]\r\n$ git submodule\r\nNo submodule mapping found in .gitmodules for path 'aligned'\r\n$ git diff HEAD~1\r\ndiff --git a/aligned b/aligned\r\nnew file mode 160000\r\nindex 0000000..9bde30d\r\n--- /dev/null\r\n+++ b/aligned\r\n@@ -0,0 +1 @@\r\n+Subproject commit 9bde30de94b4d787f44ed8be6708320709a0032d\r\ndiff --git a/dicoms b/dicoms\r\nnew file mode 160000\r\nindex 0000000..e248ddc\r\n--- /dev/null\r\n+++ b/dicoms\r\n@@ -0,0 +1 @@\r\n+Subproject commit e248ddca0e42bbce19440d6075f64ec144986f07\r\ndiff --git a/raw b/raw\r\nnew file mode 160000\r\nindex 0000000..793e083\r\n--- /dev/null\r\n+++ b/raw\r\n@@ -0,0 +1 @@\r\n+Subproject commit 793e0836fc8487e6ecc7eeb274e68ed33f1dbde9\r\ndiff --git a/templatesntransforms b/templatesntransforms\r\nnew file mode 160000\r\nindex 0000000..8734559\r\n--- /dev/null\r\n+++ b/templatesntransforms\r\n@@ -0,0 +1 @@\r\n+Subproject commit 873455903387d735706e9389df49c4bb9fb8f9ac\r\n````\r\n\r\nSo no `.gitmodules`...\r\n\r\nDoing it one-by-one doesn't change things.\r\n\r\n`add` is even worse:\r\n\r\n````\r\n$ datalad add aligned dicoms raw templatesntransforms\r\n[INFO   ] Processing dataset <Dataset path='.'> ... \r\nTotal:   0%|                                                                  | 0.00/94.0 [00:00<?, ?B/s]\r\nNothing was added\r\n````\r\n\r\nand it is not a matter of recursion:\r\n\r\n````\r\n$ datalad add aligned -r\r\n[INFO   ] Processing dataset <Dataset path=/home/kbenz/taste2_data/collection> ... \r\nTotal:   0%|                                                                  | 0.00/30.0 [00:00<?, ?B/s]\r\nNothing was added\r\n````", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1109/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1109/timeline", "performed_via_github_app": null}