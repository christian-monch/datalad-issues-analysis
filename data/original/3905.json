{"url": "https://api.github.com/repos/datalad/datalad/issues/3905", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3905/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3905/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3905/events", "html_url": "https://github.com/datalad/datalad/issues/3905", "id": 534432740, "node_id": "MDU6SXNzdWU1MzQ0MzI3NDA=", "number": 3905, "title": "Establish top level behavior rules/principles of DataLad", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-07T18:04:42Z", "updated_at": "2019-12-07T18:04:42Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "Moved from https://github.com/datalad/datalad/issues/3759#issuecomment-559908687 which concerns change in `get` and `install` behavior in pre-0.12 release.\r\n\r\nI am proposing us to discuss a possible list of rules/principles we could document as to describe how DataLad operates given a specific CWD, optional --dataset, and provided paths.  ATM there is no  such description, introduced changes break previous behaviors (e.g. as in #3759) under the premise of removing ambiguity, but to me everything is ambiguous since we have no clear description of expected behaviors like below.  So we [ourselves even get confused](https://github.com/datalad/datalad/issues/3759#issuecomment-562631994) either such a list of steps corresponds to current or proposed behavior. \r\n\r\nHere is the list of rules/steps I proposed.  I would welcome someone to add a changed set which corresponds to current (as of sample commands X, Y, Z) behaviors:\r\n\r\n1. If no working dataset is explicitly specified (via `dataset` argument), a dataset current directory belongs to is taken as the \"working dataset\".  (note: If there is no \"working dataset\", that is ok (rules `4., 5.` below have \"if\"))\r\n2. Any given command first operates on the path(s) within the dataset where path(s) belong to (clarification: a (sub)dataset path causes operation within that (sub)dataset; even `datalad install .` is ok).\r\n3. `--recursive` flag could be used (where applicable) to make command operate within subdatasets of the provided path(s). \r\n4. If there is a \"working dataset\", changes on the paths performed in the sub-datasets of the \"working dataset\" are also saved in any sub-dataset on the path from the \"working dataset\" to the dataset specified path(s) belongs to (old behavior I think)\r\n5. For the paths outside of the \"working dataset\" (if any), changes to their datasets are not saved in their possible super-datasets (old behavior)\r\n6. Merely a note: some commands (e.g. `get` and `install`) might require necessary sub-datasets first being `install`ed to act on the path(s) specified on the command line.  Such sub-datasets will be installed regardless of relation to the working directory dataset (old bevavior, nothing really special here). `create` might require to create a directory in the specified path to act on.\r\n", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3905/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3905/timeline", "performed_via_github_app": null}