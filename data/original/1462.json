{"url": "https://api.github.com/repos/datalad/datalad/issues/1462", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1462/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1462/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1462/events", "html_url": "https://github.com/datalad/datalad/issues/1462", "id": 220684764, "node_id": "MDU6SXNzdWUyMjA2ODQ3NjQ=", "number": 1462, "title": "Missing feature: Dataset templates", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 63778592, "node_id": "MDU6TGFiZWw2Mzc3ODU5Mg==", "url": "https://api.github.com/repos/datalad/datalad/labels/enhancement", "name": "enhancement", "color": "0052cc", "default": true, "description": ""}, {"id": 634190889, "node_id": "MDU6TGFiZWw2MzQxOTA4ODk=", "url": "https://api.github.com/repos/datalad/datalad/labels/do-as-extension", "name": "do-as-extension", "color": "ffda63", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 11, "created_at": "2017-04-10T15:38:14Z", "updated_at": "2018-06-12T10:26:23Z", "closed_at": "2018-06-12T10:26:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We have the need to (repeatedly) create datasets with a specific structure and partially uniform content. One identified case is dataset metadata (#1457) that needs to be provided in some form. However, the need for pre-configuration goes beyond that. For example, I tend to have a `code/` folder in each dataset, and I always want to have all files in this directory to be committed to git directly and not annexed. Likewise, I tend to use one and the same licence for all datasets that I produce, and my name also hasn't changed since birth.\r\n\r\nI think we should have the ability to create datasets from a pre-configured template. Such a template could be a tarball with a pre-crafted directory structure that has pre-populated metadata files, but also `.gitattribute` files in all the right places, etc. The mechanism should be format agnostic (just files and directories). However, it might be useful to have a dedicated place in the tarball the enables further modification at the time of creation. This could be implemented as a config file at `.datalad/create_tmpl.cfg` (or whatever) inside the tarball that has a general section, and (optionally, if more tuning is needed) one section per each to be modified file. The settings in each section are key value mappings of `PLACEHOLDER = TARGETVALUE` where each target value can be overwritten giving an option for the corresponding placeholder to `create`. For example: `create mydataset --override @@LICENSE@@ CC0`, where \"@@LICENSE@@\" is the placeholder and \"CC0\" the replacement for the preconfiguration in the template.\r\n\r\nSuch a mechanism would facilitate creation of structured datasets in any form. It would also shift the paradigm (that we use in our present tests, for example) from a rather procedural creation process (first a file, then two more) to a more goal-oriented approach: \"gimme a BIDS skeleton\", \"gimme a CRCNS dataset shell\". It would also generalize the approach in #1457 to scale beyond a single metadata file. The solution for #1457 could then be used as a default \"interactive\" template override that enables people to be guided to all files and all setting relevant to a dataset, instead of long option chains (some multi-line values will be hard to stringify and could be easily copied into an editor). ", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1462/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1462/timeline", "performed_via_github_app": null}