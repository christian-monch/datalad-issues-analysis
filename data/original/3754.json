{"url": "https://api.github.com/repos/datalad/datalad/issues/3754", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3754/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3754/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3754/events", "html_url": "https://github.com/datalad/datalad/pull/3754", "id": 503069793, "node_id": "MDExOlB1bGxSZXF1ZXN0MzI1MDEyNzg1", "number": 3754, "title": "Introduce datalad.log.result-level config switch", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 390153891, "node_id": "MDU6TGFiZWwzOTAxNTM4OTE=", "url": "https://api.github.com/repos/datalad/datalad/labels/UX", "name": "UX", "color": "0052cc", "default": false, "description": "user experience"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-06T08:29:58Z", "updated_at": "2019-10-08T07:31:56Z", "closed_at": "2019-10-08T07:31:49Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3754", "html_url": "https://github.com/datalad/datalad/pull/3754", "diff_url": "https://github.com/datalad/datalad/pull/3754.diff", "patch_url": "https://github.com/datalad/datalad/pull/3754.patch"}, "body": "Setting this will cause messages included in command results (which are independently rendered as part of a result) to go to the identified log level (debug, info, warning, error). This can be used to alter the default behavior to have 'impossible' results cause a 'warning' log message and 'error' results yield an 'error' log message.\r\n\r\nThe default setup leads to cluttered output and double messaging. Setting this switch to 'debug' hides all result logging and emphasizes final results over intermediate events (where an 'error' may or may not be an indication of a problem in the big picture of a command execution).\r\n\r\n- [x] fixes gh-3752\r\n\r\nExemplary impact:\r\n\r\nwas\r\n```\r\n% datalad install http://example.com/nothere\r\n[INFO   ] Cloning http://example.com/nothere [1 other candidates] into '/tmp/nothere' \r\n[ERROR  ] Failed to clone from any candidate source URL. Encountered errors per each url were: (OrderedDict([('http://example.com/nothere', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere /tmp/nothere [cmd.py:wait:412]\"), ('http://example.com/nothere/.git', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere/.git /tmp/nothere [cmd.py:wait:412]\")]),) [install(/tmp/nothere)] \r\ninstall(error): /tmp/nothere (dataset) [Failed to clone from any candidate source URL. Encountered errors per each url were: (OrderedDict([('http://example.com/nothere', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere /tmp/nothere [cmd.py:wait:412]\"), ('http://example.com/nothere/.git', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere/.git /tmp/nothere [cmd.py:wait:412]\")]),)]\r\n```\r\n\r\nis\r\n\r\n```\r\n% datalad -c datalad.log.result-level=debug install http://example.com/nothere\r\n[INFO   ] Cloning http://example.com/nothere [1 other candidates] into '/tmp/nothere' \r\ninstall(error): /tmp/nothere (dataset) [Failed to clone from any candidate source URL. Encountered errors per each url were: (OrderedDict([('http://example.com/nothere', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere /tmp/nothere [cmd.py:wait:412]\"), ('http://example.com/nothere/.git', \"Cmd('/usr/lib/git-annex.linux/git') failed due to: exit code(128)\\n  cmdline: /usr/lib/git-annex.linux/git clone --progress -v http://example.com/nothere/.git /tmp/nothere [cmd.py:wait:412]\")]),)]\r\n```", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3754/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3754/timeline", "performed_via_github_app": null}