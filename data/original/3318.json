{"url": "https://api.github.com/repos/datalad/datalad/issues/3318", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/3318/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/3318/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/3318/events", "html_url": "https://github.com/datalad/datalad/pull/3318", "id": 431797252, "node_id": "MDExOlB1bGxSZXF1ZXN0MjY5Mzk2NjQy", "number": 3318, "title": "BF: do not install post-update hook if no UI, allow to reconfigure full hierarchy, no submodule update --init in hook", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/datalad/datalad/milestones/61", "html_url": "https://github.com/datalad/datalad/milestone/61", "labels_url": "https://api.github.com/repos/datalad/datalad/milestones/61/labels", "id": 4231652, "node_id": "MDk6TWlsZXN0b25lNDIzMTY1Mg==", "number": 61, "title": "Release 0.11.5", "description": "", "creator": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 8, "state": "closed", "created_at": "2019-04-15T15:34:28Z", "updated_at": "2019-06-26T14:04:55Z", "due_on": null, "closed_at": "2019-06-26T14:04:55Z"}, "comments": 3, "created_at": "2019-04-11T02:09:46Z", "updated_at": "2019-04-15T15:37:00Z", "closed_at": "2019-04-12T15:19:22Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/3318", "html_url": "https://github.com/datalad/datalad/pull/3318", "diff_url": "https://github.com/datalad/datalad/pull/3318.diff", "patch_url": "https://github.com/datalad/datalad/pull/3318.patch"}, "body": "- Primary issue it resolves -- we have been installing `post-update` hook even when no web UI was asked to be published!  So if your `publish` or `create-sibling` was ... a bit slow while just hanging there without returning any output -- you might know now why. Check if `.git/hooks/post-update` is there on remote and kill it (unless you do use web ui)\r\n  - commit a4d40a607cb54a5cd4b49459496c6c64449ec666 first removes installation of the post-commit hook unless UI is set.  It also avoids running post-update hook unless it is there on remote (and executable)\r\n  - followup commit c680a405b41f0b657e7809ce1908db969cd11a6c fixes regression introduced by the previous one by enabling inheriting having hook or not from super.\r\n  - the last one 22c588227f2c735d8bd0944facb7cdbb3d4ee0d6 just for paranoid me to verify that hierarchy (not just 1 direct subdataset) is inheriting correctly\r\n- I guess it might run into some unpleasant conflicts due to all the `rev_`olutionization when we try to merge to master, so I guess expert revolutionist assistance would be required\r\n- I also later added 78e00dcd23385c29d705590f83a6b421ff349051 which removes running `submodule update --init` from post-update hook.  I do not think it is longer needed, and tests didn't fail for me locally supporting that.  More in the commit msg\r\n- I also later added 01cf595cf3ee41c9b8b22ca4544eb870acb15970 which allows to assure consistent hierarchy of subdatasets on the remote while inheriting settings from their supers.  It would now not blow whenever working on the topmost dataset where there is no super", "closed_by": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/3318/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/3318/timeline", "performed_via_github_app": null}