{"url": "https://api.github.com/repos/datalad/datalad/issues/4623", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/4623/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/4623/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/4623/events", "html_url": "https://github.com/datalad/datalad/pull/4623", "id": 635764314, "node_id": "MDExOlB1bGxSZXF1ZXN0NDMyMDcwMzM1", "number": 4623, "title": "publish: Fix two failing tests with recent git-annex", "user": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T21:16:19Z", "updated_at": "2020-06-10T13:33:50Z", "closed_at": "2020-06-10T13:33:34Z", "author_association": "MEMBER", "active_lock_reason": null, "pull_request": {"url": "https://api.github.com/repos/datalad/datalad/pulls/4623", "html_url": "https://github.com/datalad/datalad/pull/4623", "diff_url": "https://github.com/datalad/datalad/pull/4623.diff", "patch_url": "https://github.com/datalad/datalad/pull/4623.patch"}, "body": "This PR fixes the `test_publish_simple` failure mentioned in gh-4618, as well as `test_publish_recursive`, which is failing in the same builds for the same reason.  The first commit is the minimal one needed to get the tests passing.  The second is an attempt to avoid similar failures in the future and can safely be dropped if there are objections.\r\n\r\nThis change brings the two tests to a passing state for me locally with the latest git-annex (e0d8ab75d).  This PR doesn't include a temporary commit to test with the git-annex in neurodebian-devel (64e081d58) because that commit is behind the commit in git-annex that triggers the new failures (484a74f07).\r\n", "closed_by": {"login": "kyleam", "id": 1297788, "node_id": "MDQ6VXNlcjEyOTc3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyleam", "html_url": "https://github.com/kyleam", "followers_url": "https://api.github.com/users/kyleam/followers", "following_url": "https://api.github.com/users/kyleam/following{/other_user}", "gists_url": "https://api.github.com/users/kyleam/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyleam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyleam/subscriptions", "organizations_url": "https://api.github.com/users/kyleam/orgs", "repos_url": "https://api.github.com/users/kyleam/repos", "events_url": "https://api.github.com/users/kyleam/events{/privacy}", "received_events_url": "https://api.github.com/users/kyleam/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/4623/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/4623/timeline", "performed_via_github_app": null}