{"url": "https://api.github.com/repos/datalad/datalad/issues/2256", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/2256/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/2256/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/2256/events", "html_url": "https://github.com/datalad/datalad/issues/2256", "id": 301798574, "node_id": "MDU6SXNzdWUzMDE3OTg1NzQ=", "number": 2256, "title": "Add additional configuration for metadata extractors", "user": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 700886055, "node_id": "MDU6TGFiZWw3MDA4ODYwNTU=", "url": "https://api.github.com/repos/datalad/datalad/labels/metadata", "name": "metadata", "color": "0052cc", "default": false, "description": ""}, {"id": 1361506618, "node_id": "MDU6TGFiZWwxMzYxNTA2NjE4", "url": "https://api.github.com/repos/datalad/datalad/labels/fixed-in-metalad", "name": "fixed-in-metalad", "color": "0e8a16", "default": false, "description": ""}], "state": "open", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-02T15:13:06Z", "updated_at": "2020-01-12T09:18:20Z", "closed_at": null, "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nThe current paradigm is to run any enabled metadata extractor on any file for content metadata extraction. With the number of extractors continuously increasing, this approach will become an issue. For example, in case of #2254 this means invoking the singularity command once per each file in a dataset.... Hence we need better configurability -- and we should do it on a general level, so we do not have the complexity of extractors explode. Here is what I can think of right now:\r\n\r\n#### Proposal\r\nAdd a config variable per extractor (with a sane default) that contains a regex that is matched against the relative path of a file in the dataset. Only matching paths are sent to an extractor.\r\n\r\nThis approach will enable easy preconfiguration for a wide range of common cases, i.e. filter paths by a given set of extensions.\r\n\r\nA dataset can override/amend the default setting.\r\n\r\n1. a YODA dataset has containers in a dedicated location that the singularity extractor could be pointed at\r\n2. a BIDS dataset has stimuli in a dedicated place that `image`, and `audio` could be pointed at\r\n3. ...\r\n\r\nOnce we have dataset templates #1462 appropriate pre-configurations for common scenarios could be prepared.", "closed_by": null, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/2256/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/2256/timeline", "performed_via_github_app": null}