{"url": "https://api.github.com/repos/datalad/datalad/issues/1873", "repository_url": "https://api.github.com/repos/datalad/datalad", "labels_url": "https://api.github.com/repos/datalad/datalad/issues/1873/labels{/name}", "comments_url": "https://api.github.com/repos/datalad/datalad/issues/1873/comments", "events_url": "https://api.github.com/repos/datalad/datalad/issues/1873/events", "html_url": "https://github.com/datalad/datalad/issues/1873", "id": 263126425, "node_id": "MDU6SXNzdWUyNjMxMjY0MjU=", "number": 1873, "title": "enh-metadata branch: create blows from flyweight", "user": {"login": "yarikoptic", "id": 39889, "node_id": "MDQ6VXNlcjM5ODg5", "avatar_url": "https://avatars.githubusercontent.com/u/39889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yarikoptic", "html_url": "https://github.com/yarikoptic", "followers_url": "https://api.github.com/users/yarikoptic/followers", "following_url": "https://api.github.com/users/yarikoptic/following{/other_user}", "gists_url": "https://api.github.com/users/yarikoptic/gists{/gist_id}", "starred_url": "https://api.github.com/users/yarikoptic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yarikoptic/subscriptions", "organizations_url": "https://api.github.com/users/yarikoptic/orgs", "repos_url": "https://api.github.com/users/yarikoptic/repos", "events_url": "https://api.github.com/users/yarikoptic/events{/privacy}", "received_events_url": "https://api.github.com/users/yarikoptic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bpoldrack", "id": 10498301, "node_id": "MDQ6VXNlcjEwNDk4MzAx", "avatar_url": "https://avatars.githubusercontent.com/u/10498301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bpoldrack", "html_url": "https://github.com/bpoldrack", "followers_url": "https://api.github.com/users/bpoldrack/followers", "following_url": "https://api.github.com/users/bpoldrack/following{/other_user}", "gists_url": "https://api.github.com/users/bpoldrack/gists{/gist_id}", "starred_url": "https://api.github.com/users/bpoldrack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bpoldrack/subscriptions", "organizations_url": "https://api.github.com/users/bpoldrack/orgs", "repos_url": "https://api.github.com/users/bpoldrack/repos", "events_url": "https://api.github.com/users/bpoldrack/events{/privacy}", "received_events_url": "https://api.github.com/users/bpoldrack/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2017-10-05T13:31:47Z", "updated_at": "2017-10-28T13:44:55Z", "closed_at": "2017-10-28T13:44:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#### What is the problem?\r\nit crashes while failing to create a simple dataset\r\n#### What steps will reproduce the problem?\r\ntry to create a dataset from command line\r\n```shell\r\n(dev) [yoh@rolando test]$ datalad --dbg create test2\r\nTraceback (most recent call last):\r\n  File \"/home/yoh/datalad/venvs/dev/bin/datalad\", line 8, in <module>\r\n    main()\r\n  File \"/home/yoh/datalad/datalad/cmdline/main.py\", line 348, in main\r\n    ret = cmdlineargs.func(cmdlineargs)\r\n  File \"/home/yoh/datalad/datalad/interface/base.py\", line 424, in call_from_parser\r\n    ret = list(ret)\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 382, in generator_func\r\n    result_renderer, result_xfm, _result_filter, **_kwargs):\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 449, in _process_results\r\n    for res in results:\r\n  File \"/home/yoh/datalad/datalad/distribution/create.py\", line 241, in __call__\r\n    on_failure='ignore')\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 437, in eval_func\r\n    return return_func(generator_func)(*args, **kwargs)\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 425, in return_func\r\n    results = list(results)\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 382, in generator_func\r\n    result_renderer, result_xfm, _result_filter, **_kwargs):\r\n  File \"/home/yoh/datalad/datalad/interface/utils.py\", line 449, in _process_results\r\n    for res in results:\r\n  File \"/home/yoh/datalad/datalad/interface/annotate_paths.py\", line 482, in __call__\r\n    refds_path = Interface.get_refds_path(dataset)\r\n  File \"/home/yoh/datalad/datalad/interface/base.py\", line 438, in get_refds_path\r\n    else Dataset(dataset).path\r\n  File \"/home/yoh/datalad/datalad/support/repo.py\", line 140, in __call__\r\n    id_, new_args, new_kwargs = cls._flyweight_id_from_args(*args, **kwargs)\r\n  File \"/home/yoh/datalad/datalad/distribution/dataset.py\", line 118, in _flyweight_id_from_args\r\n    raise AttributeError\r\nAttributeError\r\n()\r\n> /home/yoh/datalad/datalad/distribution/dataset.py(118)_flyweight_id_from_args()\r\n-> raise AttributeError\r\n(Pdb) p path\r\nNone\r\n(Pdb) up\r\n> /home/yoh/datalad/datalad/support/repo.py(140)__call__()\r\n-> id_, new_args, new_kwargs = cls._flyweight_id_from_args(*args, **kwargs)\r\n(Pdb) \r\n> /home/yoh/datalad/datalad/interface/base.py(438)get_refds_path()\r\n-> else Dataset(dataset).path\r\n(Pdb) \r\n> /home/yoh/datalad/datalad/interface/annotate_paths.py(482)__call__()\r\n-> refds_path = Interface.get_refds_path(dataset)\r\n(Pdb) p dataset\r\nNone\r\n```\r\n#### What version of DataLad are you using (run `datalad --version`)? On what operating system (consider running `datalad plugin wtf`)?\r\n\r\n```\r\n(dev) [yoh@rolando test]$ datalad plugin wtf\r\nSystem\r\n======\r\nOS          : posix Linux 3.10.0-514.2.2.el7.x86_64 #1 SMP Tue Dec 6 23:06:41 UTC 2016\r\nDistribution: debian/9.1\r\n\r\nEnvironment\r\n===========\r\nPYTHONDOCS: /afs/dbic.dartmouth.edu/usr/pkg/python/Python-Docs-2.5\r\nGIT_PYTHON_GIT_EXECUTABLE: /usr/lib/git-annex.linux/git\r\nGIT_ANNEX_HOME: /afs/dbic.dartmouth.edu/usr/pkg/git-annex\r\n\r\nExternals\r\n=========\r\nappdirs=1.4.0\r\nboto=2.44.0\r\ncmd:annex=6.20170815+gitg22da64d0f-1~ndall+1\r\ncmd:git=2.11.0\r\ncmd:system-git=2.11.0\r\ncmd:system-ssh=7.4p1\r\ngit=2.1.6\r\ngitdb=2.0.0\r\nhumanize=0.5.1\r\niso8601=0.1.11\r\nmsgpack=0.4.8\r\nrequests=2.12.4\r\nscrapy=1.0.3\r\nsix=1.10.0\r\ntqdm=4.11.2\r\nwrapt=1.9.0\r\n\r\nConfiguration\r\n=============\r\n```\r\n", "closed_by": {"login": "mih", "id": 136479, "node_id": "MDQ6VXNlcjEzNjQ3OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/136479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mih", "html_url": "https://github.com/mih", "followers_url": "https://api.github.com/users/mih/followers", "following_url": "https://api.github.com/users/mih/following{/other_user}", "gists_url": "https://api.github.com/users/mih/gists{/gist_id}", "starred_url": "https://api.github.com/users/mih/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mih/subscriptions", "organizations_url": "https://api.github.com/users/mih/orgs", "repos_url": "https://api.github.com/users/mih/repos", "events_url": "https://api.github.com/users/mih/events{/privacy}", "received_events_url": "https://api.github.com/users/mih/received_events", "type": "User", "site_admin": false}, "reactions": {"url": "https://api.github.com/repos/datalad/datalad/issues/1873/reactions", "total_count": 0, "+1": 0, "-1": 0, "laugh": 0, "hooray": 0, "confused": 0, "heart": 0, "rocket": 0, "eyes": 0}, "timeline_url": "https://api.github.com/repos/datalad/datalad/issues/1873/timeline", "performed_via_github_app": null}